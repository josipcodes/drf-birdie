{"version":3,"sources":["App.module.css","styles/AuthForm.module.css","styles/Button.module.css","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useScreenWidth.js","components/Asset.js","contexts/SelectedCategoryContext.js","components/PopularCategories.js","hooks/useNavBarToggle.js","components/NavBar.js","assets/birdie.png","assets/bird.jpg","hooks/useRedirect.js","pages/auth/RegisterForm.js","pages/auth/LoginForm.js","components/PageNotFound.js","pages/posts/PostCreateForm.js","components/Dropdowns.js","pages/posts/Post.js","pages/comments/CommentCreateForm.js","pages/comments/CommentEditForm.js","components/Comment.js","components/Add.js","pages/posts/PostPage.js","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","pages/profiles/ProfilePage.js","pages/profiles/EditUsernameForm.js","pages/profiles/EditPasswordForm.js","pages/profiles/EditProfileForm.js","App.js","reportWebVitals.js","index.js","styles/NavBar.module.css","styles/Post.module.css","styles/Dropdowns.module.css","styles/PostCreateEditForm.module.css","styles/Comment.module.css","styles/ProfilePage.module.css","styles/CommentCreateEditForm.module.css","styles/Asset.module.css","styles/PopularCategories.module.css","styles/Avatar.module.css","styles/PageNotFound.module.css","styles/Adds.module.css","styles/PostPage.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosRequest","create","axiosResponse","removeTokenTimestamp","localStorage","removeItem","fetchMoreData","async","resource","setResource","url","URL","next","pathname","search","replace","data","get","prevResource","results","reduce","acc","cur","some","accResult","id","err","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","history","useHistory","useEffect","handleMount","useMemo","interceptors","request","use","getItem","prevCurrentUser","push","config","Promise","reject","response","_err$response","status","_jsx","Provider","value","Avatar","src","height","text","_jsxs","className","styles","Username","width","alt","ScreenWidth","setWidth","window","innerWidth","handleResize","addEventListener","removeEventListener","Asset","spinner","message","buttonMessage","Spinner","animation","variant","concat","ProfileText","ButtonText","SelectedCategoryContext","SetSelectedCategoryContext","SelectedCategoryProvider","selectedCategory","setSelectedCategory","PopularCategories","_categories$results","_categories$results2","categories","setCategories","fetchCategories","appStyles","Content","CategoryContainer","length","_Fragment","Header","map","category","Link","to","CategoryName","onClick","handleClick","category_id","name","useNavBarToggle","expanded","setExpanded","ref","useRef","handleClickOutside","e","current","contains","target","document","NavBar","smallScreen","useScreenWidth","newPost","NavLink","activeClassName","Active","homePage","exact","avatarDisplay","profile_id","profile_avatar","username","loggedInOptions","NavLinkOffset","loggedOutOptions","Navbar","expand","fixed","bg","Container","Brand","Nav","Toggle","Collapse","useRedirect","userAuthStatus","RegisterForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","signUpData","setSignUpData","password1","password2","errors","setErrors","handleChange","Row","Col","AuthCol","md","Form","onSubmit","preventDefault","Group","controlId","Label","Control","Input","type","placeholder","onChange","idx","Alert","Button","bttnStyles","Wide","non_field_errors","Image","bird","LoginForm","signInData","setSignInData","password","user","refreshTokenTimestamp","jwtDecode","refresh_token","exp","setItem","setTokenTimestamp","goBack","PageNotFound","authStyles","Main","Filter","Subheader","PostCreateForm","_errors$category","_errors$content","_errors$image","postData","setPostData","content","image","imageInput","categoryField","htmlFor","as","defaultValue","disabled","description","textField","rows","imageField","rounded","ButtonRight","File","accept","files","revokeObjectURL","createObjectURL","hidden","buttonField","formData","FormData","append","_err$response2","ThreeDots","React","forwardRef","MoreDropdown","_ref2","handleEdit","handleDelete","Dropdown","drop","Menu","DropdownBackground","popperConfig","strategy","Item","DropdownItem","DropdownIcon","ProfileEditDropdown","_ref3","Absolute","Post","props","owner","modified","like_id","comments_count","likes_count","category_name","saved_id","saved_count","postPage","profilePage","setPosts","setCurrentPosts","is_owner","Card","ProfilePost","Body","Media","PostHeader","OwnerLinkIcon","delete","Category","PostText","Img","PostImage","IconText","OverlayTrigger","placement","overlay","Tooltip","PostNotLiked","prevPosts","PostLiked","CommentIcon","PostSaved","PostNotSaved","CommentCreateForm","setPost","setComments","setContent","prevComments","prevPost","InputGroup","CommentHeight","trim","CommentEditForm","setShowEditForm","formContent","setFormContent","put","comment","Comment","showEditForm","MediaBody","Commenter","ModifiedDate","CommentDisplay","filter","Add","advertisements","setAdvertisements","selectedAdd","setSelectedAdd","isLoaded","setIsLoaded","fetchAdds","_advertisements$resul","randomSelect","Math","floor","random","AddImage","AddText","PostPage","useParams","comments","all","postStyles","CommentFormWidth","InfiniteScroll","dataLength","loader","hasMore","PostsPage","posts","useLocation","fetchPosts","PostEditForm","fetchPost","ProfilePage","currentProfile","setCurrentProfile","currentPosts","currentUserProfile","setCurrentUserProfile","profile","FetchProfileData","FetchCurrentUserProfile","mainProfile","noGutters","ProfileAvatar","roundedCircle","avatar","ProfileUsername","following_id","prevCurrentProfile","followers_count","console","log","prevCurrentUserProfile","following_count","followed","xs","posts_count","bio","mainProfilePosts","EditUsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserEditPasswordForm","_errors$new_password","_errors$new_password2","userData","setUserData","new_password1","new_password2","EditProfileForm","_errors$avatar","_errors$name","_errors$bio","imageFile","profileData","setProfileData","avatarField","fluid","textFields","_imageFile$current","_imageFile$current2","postFormStyles","App","Switch","Route","path","render","EditPasswordForm","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.abd5e7f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"Content\":\"App_Content__ZaMNr\",\"Main\":\"App_Main__HQkvd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"AuthForm_Row__2PgqZ\",\"Input\":\"AuthForm_Input__3ONjR\",\"Header\":\"AuthForm_Header__3VpYh\",\"Link\":\"AuthForm_Link__2iPzL\",\"Container\":\"AuthForm_Container__3WYp7\",\"AuthCol\":\"AuthForm_AuthCol__1jY3i\",\"Image\":\"AuthForm_Image__2wfBh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\",\"Wide\":\"Button_Wide__2ScDr\"};"," // IMPORTANT!!\n // Because this React app is running in the same workspace as the API,\n\n // there is no need to set a separate baseURL until you reach deployment.\n\n // Setting a baseURL before you reach deployment will cause errors\n\n import axios from \"axios\";\n\n// from Moments lessons, modified\n axios.defaults.baseURL = '/api';\n\n \n // multipart as our app will deal with images, texts...\n axios.defaults.headers.post['Content-Type'] = \"multipart/form-data\"\n axios.defaults.withCredentials = true;\n\n // to intercept the request\nexport const axiosRequest = axios.create();\n// to intercept the response\nexport const axiosResponse = axios.create();","import jwtDecode from \"jwt-decode\";\nimport axios from \"axios\";\n\n// copied from Moments\n\nexport const setTokenTimestamp = (data) => {\n  /* Function accepts data object returned by API on login.\n  Exp is expiry date. */\n  const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n};\n\nexport const shouldRefreshToken = () => {\n  /* Returns refreshToken timestamp converted by double not operator.\n  Token will only be refreshed for a logged in user. */\n  return !!localStorage.getItem(\"refreshTokenTimestamp\");\n};\n\nexport const removeTokenTimestamp = () => {\n  // remove time stamp from the localStorage\n  localStorage.removeItem(\"refreshTokenTimestamp\");\n};\n\nexport const fetchMoreData = async (resource, setResource) => {\n  // used for InfiniteScroll\n  try {\n    // code provided by Sean and Roman from Tutor support\n    let url = new URL(resource.next);\n    url = (url.pathname + url.search).replace(\"/api\", \"\");\n    // fetching data\n    const { data } = await axios.get(url);\n\n    setResource((prevResource) => ({\n      ...prevResource,\n      next: data.next,\n      results: data.results.reduce((acc, cur) => {\n        return acc.some((accResult) => accResult.id === cur.id)\n          ? acc\n          : [...acc, cur];\n      }, prevResource.results),\n    }));\n  } catch (err) {\n    // console.log(err);\n  }\n};\n","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosRequest, axiosResponse } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\n// based off of Moments lessons\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const history = useHistory();\n\n  const handleMount = async () => {\n    try {\n      const { data } = await axiosResponse.get(\"dj-rest-auth/user/\");\n      // Set the current user with the data we get back.\n      // Without this, we'd have to log in after each refresh\n      setCurrentUser(data);\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handleMount();\n  }, []);\n\n  // refreshing tokens\n  useMemo(() => {\n    // request interceptor\n    axiosRequest.interceptors.request.use(\n      async (config) => {\n        // if runs only when token needs refreshing\n        if (shouldRefreshToken()) {\n          try {\n            // attempting to refresh the token\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            // if token refresh failed and user was previously logged in\n            // if refresh token expired\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n            return config;\n          }\n          return config;\n        }\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n\n    // response interceptor\n    axiosResponse.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status === 401) {\n          try {\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n          }\n          return axios(err.config);\n        }\n        // Promise rejected if error wasn't 401\n        return Promise.reject(err);\n      }\n    );\n  }, [history]);\n\n  return (\n    // Providers allow current user value and\n    // function that is updating it to be available to all children\n    <CurrentUserContext.Provider value={currentUser}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n};\n","import React from \"react\";\nimport styles from \"../styles/Avatar.module.css\";\n\n// modeled after Moments with changes applied\nconst Avatar = ({ src, height = 45, text }) => {\n  /* src is avatar image\n  height is avatar height\n  text is username rendered on\n  NavBar and Comment form */\n  return (\n    <span className={styles.Username}>\n      <img\n        className={styles.Avatar}\n        src={src}\n        height={height}\n        width={height}\n        alt=\"user avatar\"\n      />\n      {text}\n    </span>\n  );\n};\n\n\nexport default Avatar;","import { useState, useEffect } from 'react';\n\n/* code copied from \nhttps://www.altcademy.com/blog/how-to-check-screen-width-in-reactjs/ \nCode modified to return boolean value */ \nconst ScreenWidth = () => {\n  // check screen width\n  const [width, setWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n//   returning boolean value\n  return width < 768;\n}\n\nexport default ScreenWidth;","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport styles from \"../styles/Asset.module.css\";\n\nconst Asset = ({ spinner, src, message, buttonMessage }) => {\n  /* initially copied off of Momments.\n  Changes applied. */\n  return (\n    <div className={styles.Asset}>\n      {spinner && <Spinner animation=\"border\" variant=\"warning\" />}\n      {src && <img src={src} alt={message} />}\n      {message && <p className={`${styles.ProfileText} mt-4`}>{message}</p>}\n      {buttonMessage && <p className={`${styles.ButtonText} mt-4`}>{buttonMessage}</p>}\n    </div>\n  );\n};\n\nexport default Asset;\n","import { createContext, useContext, useState } from \"react\";\n\n// based off of Moments lessons\nexport const SelectedCategoryContext = createContext();\nexport const SetSelectedCategoryContext = createContext();\n\nexport const useSelectedCategory = () => useContext(SelectedCategoryContext);\nexport const useSetSelectedCategory = () => useContext(SetSelectedCategoryContext);\n\nexport const SelectedCategoryProvider = ({ children }) => {\n    // manually inputing a nonexistant id in the url will default to the first category created\n  const [selectedCategory, setSelectedCategory] = useState(1);\n\n  return (\n    // Providers allow current user value and\n    // function that is updating it to be available to all children\n    <SelectedCategoryContext.Provider value={selectedCategory}>\n      <SetSelectedCategoryContext.Provider value={setSelectedCategory}>\n        {children}\n      </SetSelectedCategoryContext.Provider>\n    </SelectedCategoryContext.Provider>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport appStyles from \".././App.module.css\";\nimport Asset from \".././components/Asset\";\n\nimport styles from \".././styles/PopularCategories.module.css\";\nimport { Link } from \"react-router-dom\";\n\nimport { useSetSelectedCategory } from \"../contexts/SelectedCategoryContext\";\n\nconst PopularCategories = ({ selectedCategory }) => {\n  const [categories, setCategories] = useState(\"\");\n\n  const setSelectedCategory = useSetSelectedCategory();\n\n  useEffect(() => {\n    // fetch existing categories\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  const handleClick = (category_id) => {\n    // setting selected category\n    setSelectedCategory(category_id);\n  };\n\n  return (\n    <div className={`${appStyles.Content} ${styles.CategoryContainer}`}>\n      {categories?.results?.length ? (\n        <>\n          {/* display categories in the order of popularity */}\n          <h1 className={styles.Header}>Popular categories</h1>\n          {categories.results?.map((category) => (\n            <Link\n              to={`/categories/${category.id}/posts`}\n              className={styles.CategoryName}\n              key={category.id}\n              onClick={() => handleClick(category.id)}\n            >\n              {category.name}\n            </Link>\n          ))}\n        </>\n      ) : (\n        <Asset spinner />\n      )}\n    </div>\n  );\n};\n\nexport default PopularCategories;\n","import { useEffect, useRef, useState } from \"react\";\n\n\nconst useNavBarToggle = () => {\n  // menu is initially collapsed\n  const [expanded, setExpanded] = useState(false);\n  const ref = useRef(null);\n\n  // created following Moments lessons\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (ref.current && !ref.current.contains(e.target)) {\n        setExpanded(false);\n      }\n    };\n    document.addEventListener(\"mouseup\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mouseup\", handleClickOutside);\n    };\n  }, [ref]);\n  return { expanded, setExpanded, ref };\n};\n\n\nexport default useNavBarToggle;","import React from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Container from \"react-bootstrap/Container\";\nimport Nav from \"react-bootstrap/Nav\";\nimport logo from \"../assets/birdie.png\";\nimport styles from \"../styles/NavBar.module.css\";\nimport { NavLink } from \"react-router-dom\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../contexts/CurrentUserContext\";\nimport Avatar from \"./Avatar\";\nimport axios from \"axios\";\nimport { removeTokenTimestamp } from \"../utils/utils\";\nimport useScreenWidth from \"../hooks/useScreenWidth\";\nimport PopularCategories from \"./PopularCategories\";\nimport useNavBarToggle from \"../hooks/useNavBarToggle\";\n\nconst NavBar = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  // used to toggle navbar appearance\n  const { expanded, setExpanded, ref } = useNavBarToggle();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  const handleLogOut = async () => {\n    /* handles logging user out\n    nullifies CurrentUser */\n    try {\n      await axios.post(\"/dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  const newPost = (\n    <NavLink\n      to=\"/posts/create\"\n      className={styles.NavLink}\n      activeClassName={styles.Active}\n    >\n      <i className=\"fa-solid fa-plus mr-2\"></i>\n      Post\n    </NavLink>\n  );\n\n  const homePage = (\n    <NavLink\n      exact\n      to=\"/\"\n      className={styles.NavLink}\n      activeClassName={styles.Active}\n    >\n      Feed\n    </NavLink>\n  );\n\n  const avatarDisplay = (\n    <NavLink\n      to={`/profiles/${currentUser?.profile_id}`}\n      className={styles.NavLink}\n    >\n      {/* hiding username if too long, this matches mobile user's experience */}\n      <Avatar\n        src={currentUser?.profile_avatar}\n        text={currentUser?.username.length <= 9 && currentUser?.username }\n        height={38}\n      />\n    </NavLink>\n  );\n\n  const loggedInOptions = (\n    <>\n      <NavLink\n        to=\"/feed\"\n        className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n        activeClassName={styles.Active}\n      >\n        <i className=\"fa-solid fa-user-group mr-2\"></i>\n        Subscribed\n      </NavLink>\n      <NavLink\n        to=\"/liked\"\n        className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n        activeClassName={styles.Active}\n      >\n        <i className=\"fas fa-heart mr-2\"></i>\n        Liked\n      </NavLink>\n      <NavLink\n        to=\"/saved\"\n        className={`${styles.NavLink} ${styles.NavLinkOffset} ${\n          smallScreen ? \"mb-2\" : \"\"\n        }`}\n        activeClassName={styles.Active}\n      >\n        <i className=\"fa-brands fa-earlybirds mr-2\"></i>\n        Saved\n      </NavLink>\n      {smallScreen && (\n        // display popular categories when on smaller screens\n        <PopularCategories className=\"text-right\" />\n      )}\n      <NavLink\n        to=\"/\"\n        className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n        onClick={handleLogOut}\n      >\n        Log out\n      </NavLink>\n    </>\n  );\n\n  const loggedOutOptions = (\n    // using empty element as JSX can only return a single element\n    <>\n      <NavLink\n        to=\"/login\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Log in\n      </NavLink>\n      <NavLink\n        to=\"/register\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Register\n      </NavLink>\n      {smallScreen && (\n        // display popular categories when on smaller screens\n        <PopularCategories className=\"text-right\" />\n      )}\n    </>\n  );\n\n  return (\n    <Navbar\n      className={styles.NavBar}\n      expand=\"md\"\n      fixed=\"top\"\n      bg=\"dark\"\n      variant=\"dark\"\n      expanded={expanded}\n    >\n      <Container>\n        <NavLink to=\"/\">\n          <Navbar.Brand>\n            <img src={logo} alt=\"logo\" height=\"47px\" />\n          </Navbar.Brand>\n          <Navbar.Brand className={`${styles.Brand} mr-auto text-right`}>\n            Birdie\n          </Navbar.Brand>\n        </NavLink>\n        <Nav className=\"mr-auto text-right\">\n          {currentUser ? newPost : homePage}\n        </Nav>\n        <Nav className=\"ml-auto text-left\">\n          {currentUser && smallScreen && avatarDisplay}\n        </Nav>\n        <Navbar.Toggle\n          aria-controls=\"basic-navbar-nav\"\n          onClick={() => setExpanded(!expanded)}\n          ref={ref}\n        />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto text-right\">\n            {currentUser ? (\n              <>\n                {loggedInOptions}\n                {!smallScreen && avatarDisplay}\n              </>\n            ) : (\n              loggedOutOptions\n            )}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/bird.2843c24d.jpg\";","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\n\nexport const useRedirect = (userAuthStatus) => {\n  const history = useHistory();\n\n// copied from Moments with minor changes\n  useEffect(() => {\n    // making a network request on mount to check if user is logged in.\n    const handleMount = async () => {\n      try {\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\n        // if user is logged in, redirect to main page\n        if (userAuthStatus === \"loggedIn\") {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        // if user is not logged in, reroute to login\n        if (userAuthStatus === \"loggedOut\") {\n          history.push(\"/login/\");\n        }\n      }\n    };\n\n\n    handleMount();\n  }, [history, userAuthStatus]);\n};\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bird from \"../../assets/bird.jpg\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\nimport Container from \"react-bootstrap/Container\";\n\nimport axios from \"axios\";\n\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// code adapted from Moments lessons\nconst RegisterForm = () => {\n  // redirect when already logged in\n  useRedirect('loggedIn')\n  const [signUpData, setSignUpData] = useState({\n    username: \"\",\n    password1: \"\",\n    password2: \"\",\n  });\n  \n  const { username, password1, password2 } = signUpData;\n\n  const [errors, setErrors] = useState({})\n\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    // update form fields\n    setSignUpData({\n      ...signUpData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      await axios.post(\"/dj-rest-auth/registration/\", signUpData);\n      history.push(\"/login\");\n    } catch (err) {\n      // if response isn't defined, it won't throw an error\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className={`${styles.AuthCol} my-auto p-md-2`} md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={styles.Header}>Sign up</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password1\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password1\"\n                value={password1}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password1?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password2\">\n              <Form.Label className=\"d-none\">Confirm Password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password2\"\n                value={password2}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password2?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Button\n              className={`${bttnStyles.Button} ${bttnStyles.Wide}`}\n              type=\"submit\"\n            >\n              Register\n            </Button>\n            {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/login\">\n            Already have an account? <span>Login</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${styles.AuthCol}`}\n      >\n        <Image className={`${styles.Image} ${appStyles.Content}`} src={bird} />\n      </Col>\n    </Row>\n  );\n};\n\nexport default RegisterForm;\n","import React, { useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bird from \"../../assets/bird.jpg\";\nimport axios from \"axios\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// code adapted from Moments lessons\nfunction LoginForm() {\n  const setCurrentUser = useSetCurrentUser();\n  // redirect when already logged in\n  useRedirect('loggedIn')\n\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const { username, password } = signInData;\n\n  const [errors, setErrors] = useState({})\n\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    // update form fields\n    setSignInData({\n      ...signInData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      const { data } = await axios.post(\"dj-rest-auth/login/\", signInData);\n      setCurrentUser(data.user);\n      // extracting exp date from the access token, saves it to user's browser in local storage.\n      setTokenTimestamp(data);\n      // return to previous page upon logging in\n      history.goBack();\n    } catch(err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={styles.Header}>Sign in</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n              className={styles.Input}\n              type=\"text\"\n              placeholder=\"Enter Username\"\n              name=\"username\"\n              value={username}\n              onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n              className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                    {message}\n                </Alert>\n            ))}\n            <Button\n              type=\"submit\"\n              className={`${bttnStyles.Button} ${bttnStyles.Wide}`}\n            >\n              Login\n            </Button>\n            {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/register\">\n            Don't have an account? <span>Register now!</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${styles.AuthCol}`}\n      >\n        <Image\n          className={`${styles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n}\n\n\nexport default LoginForm;\n","import React from \"react\";\nimport bird from \"../assets/bird.jpg\";\nimport Image from \"react-bootstrap/Image\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport Col from \"react-bootstrap/Col\";\nimport styles from \"../styles/PageNotFound.module.css\";\nimport authStyles from \"../styles/AuthForm.module.css\";\nimport appStyles from \".././App.module.css\";\n\nconst PageNotFound = () => {\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto offset-md-2\" md={8}>\n        <Container className={appStyles.Content}>\n          <h1 className={`${appStyles.Main} ${authStyles.Header}`}>\n            This page seems to have flown away\n          </h1>\n          <Image\n            className={`${authStyles.Image} ${styles.Filter}`}\n            src={bird}\n          />\n          <h2 className={styles.Subheader}>Do you ever feel like a plastic bag</h2>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default PageNotFound;\n","import React, { useRef, useState, useEffect } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\n\nimport Asset from \"../../components/Asset\";\nimport Image from \"react-bootstrap/Image\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport axios from \"axios\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// based off of Moments lessons\nfunction PostCreateForm() {\n  useRedirect(\"loggedOut\");\n  const [errors, setErrors] = useState({});\n\n  const [categories, setCategories] = useState(\"\");\n\n  const [postData, setPostData] = useState({\n    content: \"\",\n    image: \"\",\n    category: \"\",\n  });\n\n  //   destructuring content, image and category\n  const { content, image, category } = postData;\n\n  const imageInput = useRef(null);\n  const history = useHistory();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    /* fetching and setting categories\n    used in the form dropdown */\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  const handleChangePost = (e) => {\n    // post change handler\n    setPostData({\n      ...postData,\n      content: e.target.value,\n    });\n  };\n\n  // copied from Moments lessons\n  const handleChangeImage = (e) => {\n    // image change handler\n    // checking if there is a file\n    if (e.target.files.length) {\n      // revokeObjectURL is used to clear browser's reference to the previous file\n      // used in cases when user decides to use a different image after upload\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(e.target.files[0]),\n      });\n    }\n  };\n\n  const handleChangeCategory = (e) => {\n    // category change handler\n    setPostData({\n      ...postData,\n      category: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents reload\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"content\", content);\n    // check if there is a file to be appended\n    if (imageInput.current.files.length !== 0) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"category\", category);\n\n    // copied from Moments lessons\n    // because we're sending image as well as text to our API,\n    // we need to refresh our user's access token before making the request\n    try {\n      const { data } = await axiosRequest.post(\"/posts/\", formData);\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      // console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const categoryField = (\n    // category dropdown\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label htmlFor=\"category\">Category</Form.Label>\n        <Form.Control\n          as=\"select\"\n          aria-label=\"category\"\n          id=\"category\"\n          defaultValue=\"Category\"\n          onChange={handleChangeCategory}\n        >\n          <option disabled>Category</option>\n          {categories.results?.map((category) => (\n            <option key={category.id} value={category.id}>\n              {category.name}: {category.description}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      {errors.category?.map((idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          You need to choose a category.\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const textField = (\n    // content field\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={4}\n          name=\"content\"\n          placeholder=\"Type your post\"\n          value={content}\n          onChange={handleChangePost}\n        />\n      </Form.Group>\n      {errors.content?.map((idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          Post has to contain at least some text, but no longer than 300 characters.\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const imageField = (\n    // image field\n    <div>\n      <Form.Group>\n        {image ? (\n          <>\n            <figure>\n              <Image className={authStyles.Image} src={image} rounded />\n            </figure>\n            <div className=\"mr-auto text-right\">\n              <Form.Label\n                className={`${bttnStyles.Button} btn`}\n                htmlFor=\"image-upload\"\n              >\n                Change the image\n              </Form.Label>\n            </div>\n          </>\n        ) : (\n          <Form.Label\n            className={`${bttnStyles.Button} text-center ${\n              smallScreen ? styles.ButtonRight : bttnStyles.Wide\n            }`}\n            htmlFor=\"image-upload\"\n          >\n            <Asset buttonMessage=\"Click or tap to upload an image\" />\n          </Form.Label>\n        )}\n        <Form.File\n          id=\"image-upload\"\n          accept=\"image/*\"\n          onChange={handleChangeImage}\n          ref={imageInput}\n          hidden\n        />\n      </Form.Group>\n      {errors.image?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const buttonField = (\n    // buttons field\n    <div className=\"text-right\">\n      <Button\n        className={`${bttnStyles.Button} m-2`}\n        onClick={() => history.goBack()}\n      >\n        Cancel\n      </Button>\n      <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n        Post\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        {/* display based off of screen size */}\n        {smallScreen ? (\n          <>\n            <Col className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div className=\"p-2\">{imageField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n          </>\n        ) : (\n          <>\n            <Col md={8} className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n            <Col className=\"py-2 p-0 p-md-2\" md={4}>\n              <Container className={`${appStyles.Content} ${styles.Container}`}>\n                <div className=\"p-2\">{imageField}</div>\n              </Container>\n            </Col>\n          </>\n        )}\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostCreateForm;\n","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport styles from \"../styles/Dropdowns.module.css\";\nimport { useHistory } from \"react-router\";\n\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n  /* copied from moments\n  With minor updates */\n  <i\n    className=\"fas fa-ellipsis-v\"\n    ref={ref}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  />\n));\n\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\n  /* Post/comment edit/delete dropdown\n  Displays left-down from the dropdown itself */\n  return (\n    <Dropdown className=\"ml-auto\" drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n\n      <Dropdown.Menu\n        className={`text-center ${styles.DropdownBackground}`}\n        popperConfig={{ strategy: \"fixed\" }}\n      >\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleEdit}\n          aria-label=\"edit\"\n        >\n          <i className={`fas fa-edit ${styles.DropdownIcon}`} />\n        </Dropdown.Item>\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleDelete}\n          aria-label=\"delete\"\n        >\n          <i className={`fas fa-trash-alt ${styles.DropdownIcon}`} />\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\nexport function ProfileEditDropdown({ id }) {\n  /* Profile edit dropdown\n  Displays left-down from the dropdown itself */\n  const history = useHistory();\n  return (\n    <Dropdown className={`px-4 m-4 ${styles.Absolute}`} drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n      <Dropdown.Menu className={`text-center ${styles.DropdownBackground}`}>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit`)}\n          aria-label=\"edit-profile\"\n        >\n          <i className={`fas fa-edit ${styles.DropdownIcon}`} /> edit profile\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/username`)}\n          aria-label=\"edit-username\"\n        >\n          <i className={`far fa-id-card ${styles.DropdownIcon} mr-1`} />\n          Change username\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/password`)}\n          aria-label=\"edit-password\"\n        >\n          <i className={`fas fa-key ${styles.DropdownIcon} mr-1`} />\n          Change password\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n}\n","import React from \"react\";\nimport styles from \"../../styles/Post.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport Card from \"react-bootstrap/Card\";\nimport Media from \"react-bootstrap/Media\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { Link, useHistory } from \"react-router-dom\";\nimport Avatar from \"../../components/Avatar\";\nimport { MoreDropdown } from \"../../components/Dropdowns\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\n// based off of Moments with modification\nconst Post = (props) => {\n  const {\n    id,\n    owner,\n    content,\n    modified,\n    image,\n    profile_id,\n    profile_avatar,\n    like_id,\n    comments_count,\n    likes_count,\n    category_name,\n    saved_id,\n    saved_count,\n    // adding prop from PostPage.js\n    postPage,\n    // adding prop from ProfilePage.js\n    profilePage,\n    // passed from parent components to update the likes/saves.\n    setPosts,\n    setCurrentPosts,\n  } = props;\n\n  const currentUser = useCurrentUser();\n  // assigning boolean value to is_owner.\n  const is_owner = currentUser?.username === owner;\n  const history = useHistory();\n\n  // copied from Moments\n  const handleEdit = () => {\n    history.push(`/posts/${id}/edit`);\n  };\n\n  // copied from Moments\n  const handleDelete = async () => {\n    try {\n      await axiosResponse.delete(`/posts/${id}/`);\n      // redirect user to the main page\n      history.push(\"/\");\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons with changes\n  const handleSave = async () => {\n    /* Function saves a post, increases the number of saves on the post */\n    try {\n      // save id is needed so the API knows which post is being saved\n      const { data } = await axiosResponse.post(\"/saved/\", { post: id });\n      if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we saved.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? {\n                  ...post,\n                  saved_count: post.saved_count + 1,\n                  saved_id: data.id,\n                }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we saved.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? {\n                  ...post,\n                  saved_count: post.saved_count + 1,\n                  saved_id: data.id,\n                }\n              : post;\n          }),\n        }));\n      }\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons with changes\n  const handleUnsave = async () => {\n    /* Function unsaves a post, decreases the number of saves on the post */\n    try {\n      await axiosResponse.delete(`/saved/${saved_id}/`);\n      if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we unsaved.\n            // if it does, we'll decrease the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, saved_count: post.saved_count - 1, saved_id: null }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we unsaved.\n            // if it does, we'll decrease the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, saved_count: post.saved_count - 1, saved_id: null }\n              : post;\n          }),\n        }));\n      }\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons\n  const handleLike = async () => {\n    /* Function likes a post, increases the number of likes on the post */\n    try {\n      // like id is needed so the API knows which post is being liked\n      const { data } = await axiosResponse.post(\"/likes/\", { post: id });\n      if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we liked.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we liked.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\n              : post;\n          }),\n        }));\n      }\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons\n  const handleUnlike = async () => {\n    /* Function unlikes a post, decreases the number of likes on the post */\n    try {\n      await axiosResponse.delete(`/likes/${like_id}/`);\n      if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we unliked.\n            // if it does, we'll decrease the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count - 1, like_id: null }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we unliked.\n            // if it does, we'll decrease the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count - 1, like_id: null }\n              : post;\n          }),\n        }));\n      }\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  return (\n    <Card className={profilePage ? styles.ProfilePost : styles.Post}>\n      <Card.Body>\n        <Media\n          className={`${styles.PostHeader} d-flex justify-content-between`}\n        >\n          {/* link wrapped around header */}\n          <Col>\n            <Link to={`/profiles/${profile_id}/`}>\n              <Avatar src={profile_avatar} height={45} />\n              {owner}\n              {!postPage && !profilePage && (\n                <i\n                  className={`fa-solid fa-arrow-up-right-from-square ml-2 ${styles.OwnerLinkIcon}`}\n                ></i>\n              )}\n            </Link>\n          </Col>\n          {/* displaying when the post was last updated */}\n          <Col className=\"mt-2 text-right d-flex justify-content-end p-0 pt-1\">\n            <span>{modified}</span>\n            <span className=\"ml-3\">\n              {/* display dropdown if owner and on post page */}\n              {is_owner && postPage && (\n                <MoreDropdown\n                  handleEdit={handleEdit}\n                  handleDelete={handleDelete}\n                />\n              )}\n            </span>\n          </Col>\n        </Media>\n        <Link to={`/posts/${id}/`}>\n          {/* checking if category_name content and image props have been passed before we render them */}\n          {category_name && (\n            <span className={styles.Category}>{category_name}</span>\n          )}\n          {content && (\n            <span className={`text-left ${styles.PostText}`}>{content}</span>\n          )}\n          {/* reminder, image is not mandatory */}\n          {image && <Card.Img className={styles.PostImage} src={image} />}\n        </Link>\n      </Card.Body>\n      <Card.Body>\n        <div>\n          <Container>\n            <Row className=\"justify-content-around text-center\">\n              <Col className={styles.IconText}>\n                {/* like logic */}\n                {is_owner ? (\n                  // using OverlayTrigger and Tooltip to display a tooltip for the owner.\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>You can't like your own post!</Tooltip>}\n                  >\n                    <i className={`fas fa-heart mt-1 ${styles.PostNotLiked}`} />\n                  </OverlayTrigger>\n                ) : like_id ? (\n                  // if like_id exists, user already liked the post\n                  <span onClick={handleUnlike}>\n                    <i className={`fas fa-heart mt-1 ${styles.PostLiked}`} />\n                  </span>\n                ) : currentUser ? (\n                  // if user is logged in, they can like the post\n                  <span onClick={handleLike}>\n                    <i className={`fas fa-heart mt-1 ${styles.PostNotLiked}`} />\n                  </span>\n                ) : (\n                  // display tooltip for non-user\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>Log in to like a post!</Tooltip>}\n                  >\n                    <i className={`fas fa-heart mt-1 ${styles.PostNotLiked}`} />\n                  </OverlayTrigger>\n                )}\n                {/* number of likes */}\n                <span className={styles.IconText}>{likes_count}</span>\n              </Col>\n              <Col className={styles.IconText}>\n                {/* comments icon leads to the post page.\n                If user is not logged in, they will be taken to login so no tooltip needed */}\n                <Link to={`/posts/${id}`} className={styles.IconText}>\n                  <i className={`far fa-comments ${styles.CommentIcon}`} />\n                  {/* number of comments */}\n                  {comments_count}\n                </Link>\n              </Col>\n              <Col>\n                {currentUser && !is_owner && (\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>Save a post for later!</Tooltip>}\n                  >\n                    <span\n                      onClick={saved_id == null ? handleSave : handleUnsave}\n                      className={styles.IconText}\n                    >\n                      {/* changing icon if post is saved or not */}\n                      <i\n                        className={\n                          saved_id !== null\n                            ? `fa-brands fa-earlybirds ${styles.PostSaved}`\n                            : `fa-solid fa-egg ${styles.PostNotSaved}`\n                        }\n                      />\n                      {/* times saved for later */}\n                      {saved_count}\n                    </span>\n                  </OverlayTrigger>\n                )}\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default Post;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\n\n// based off of Moments, with various changes\nfunction CommentCreateForm(props) {\n  const { post, setPost, setComments, profile_id } = props;\n  const [content, setContent] = useState(\"\");\n\n  const currentUser = useCurrentUser();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  const handleChange = (e) => {\n    // update comment content\n    setContent(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refreshing\n    e.preventDefault();\n    try {\n      const { data } = await axiosResponse.post(\"/comments/\", {\n        content,\n        post,\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: [data, ...prevComments.results],\n      }));\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            comments_count: prevPost.results[0].comments_count + 1,\n          },\n        ],\n      }));\n      // reset Content upon submission\n      setContent(\"\");\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group>\n        <InputGroup>\n          <Link to={`/profiles/${profile_id}`}>\n            <Avatar\n              src={currentUser?.profile_avatar}\n              text={currentUser?.username}\n              height={smallScreen ? 35 : 40}\n            />\n          </Link>\n          <Form.Control\n            as=\"textarea\"\n            className={`ml-2 ml-md-3 ${styles.CommentHeight}`}\n            placeholder=\"Type comment...\"\n            rows={smallScreen ? 4 : 2}\n            value={content}\n            onChange={handleChange}\n          />\n        </InputGroup>\n      </Form.Group>\n      <button\n        className={`${bttnStyles.Button} d-block ml-auto`}\n        disabled={!content.trim()}\n        type=\"submit\"\n      >\n        Comment\n      </button>\n    </Form>\n  );\n}\n\nexport default CommentCreateForm;\n","import React, { useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\n\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\n\n// based off of Moments, with some changes\nfunction CommentEditForm(props) {\n  const { id, content, setShowEditForm, setComments } = props;\n\n  const [formContent, setFormContent] = useState(content);\n\n  const handleChange = (e) => {\n    setFormContent(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refreshing\n    e.preventDefault();\n    try {\n      await axiosResponse.put(`/comments/${id}/`, {\n        content: formContent.trim(),\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: prevComments.results.map((comment) => {\n          return comment.id === id\n            ? {\n                ...comment,\n                content: formContent.trim(),\n                modified: \"now\",\n              }\n            : comment;\n        }),\n      }));\n      setShowEditForm(false);\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group>\n        <Form.Control\n          as=\"textarea\"\n          value={formContent}\n          onChange={handleChange}\n          className={styles.CommentHeight}\n          rows={2}\n        />\n      </Form.Group>\n      <div className=\"text-right\">\n        <button\n          className={`${bttnStyles.Button} mr-1`}\n          onClick={() => setShowEditForm(false)}\n          type=\"button\"\n        >\n          Cancel\n        </button>\n        <button\n          className={bttnStyles.Button}\n          disabled={!content.trim()}\n          type=\"submit\"\n        >\n          Update\n        </button>\n      </div>\n    </Form>\n  );\n}\n\nexport default CommentEditForm;\n","import Media from \"react-bootstrap/Media\";\nimport styles from \"../styles/Comment.module.css\";\n\nimport React, { useState } from \"react\";\nimport Avatar from \"../components/Avatar\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport useScreenWidth from \"../hooks/useScreenWidth\";\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\nimport { MoreDropdown } from \"./Dropdowns\";\nimport { axiosResponse } from \"../api/axiosDefaults\";\n\nimport CommentEditForm from \"../pages/comments/CommentEditForm\";\n\nconst Comment = (props) => {\n  const {\n    profile_id,\n    profile_avatar,\n    owner,\n    modified,\n    content,\n    id,\n    // passed down from PostPage\n    setPost,\n    setComments,\n  } = props;\n\n    // state to toggle EditForm\n    const [showEditForm, setShowEditForm] = useState(false);\n\n  // currentUser from custom context\n  const currentUser = useCurrentUser();\n  // checking if current user's username matches owner's\n  const is_owner = currentUser?.username === owner;\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  // copied from Moments\n  const handleDelete = async () => {\n    try {\n      await axiosResponse.delete(`/comments/${id}/`);\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            // reducing comment count by 1\n            comments_count: prevPost.results[0].comments_count - 1,\n          },\n        ],\n      }));\n      setComments((prevComments) => ({\n        ...prevComments,\n        // filter for the id of comment we are removing\n        results: prevComments.results.filter((comment) => comment.id !== id),\n      }));\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"mt-2\">\n      <Media>\n        <Link to={`/profiles/${profile_id}`}>\n          <Avatar src={profile_avatar} height={smallScreen ? 35 : 40} />\n        </Link>\n        <Media.Body className={styles.MediaBody}>\n          <span className={styles.Commenter}>{owner}</span>\n          <span className={styles.ModifiedDate}>{modified}</span>\n          {/* ternary deciding if the form should show */}\n          {showEditForm ? (\n            <CommentEditForm\n            id={id}\n            profile_id={profile_id}\n            content={content}\n            setComments={setComments}\n            setShowEditForm={setShowEditForm}\n          />\n          ) : (\n            <p className={styles.CommentDisplay}>{content}</p>\n          )}\n        </Media.Body>\n        {is_owner && !showEditForm && (\n          // show dropdown for owner when not editing\n          <MoreDropdown\n            handleEdit={() => setShowEditForm(true)}\n            handleDelete={handleDelete}\n          />\n        )}\n      </Media>\n    </div>\n  );\n};\n\nexport default Comment;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport appStyles from \".././App.module.css\";\nimport Asset from \".././components/Asset\";\nimport Image from \"react-bootstrap/Image\";\nimport styles from \".././styles/Adds.module.css\";\n\nconst Add = () => {\n  const [advertisements, setAdvertisements] = useState(\"\");\n  const [selectedAdd, setSelectedAdd] = useState(\"\");\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    // fetching existing Advertisements\n    const fetchAdds = async () => {\n      // when adds are fetched, updates isLoaded\n      try {\n        const { data } = await axios.get(\"/advertisements/\");\n        setAdvertisements(data);\n        setIsLoaded(true)\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    fetchAdds();\n  }, []);\n\n  useEffect(() => {\n    // set random valid add to be displayed\n    if (isLoaded && advertisements?.results && advertisements?.results?.length > 0) {\n      const randomSelect = Math.floor(Math.random() * advertisements.results.length);\n      setSelectedAdd(advertisements.results[randomSelect]);\n    }\n  }, [advertisements, isLoaded]);\n\n  return (\n    <div className={appStyles.Content}>\n      {selectedAdd && isLoaded ? (\n          <div>\n            <Image\n              className={styles.AddImage}\n              src={selectedAdd?.image}\n              alt={selectedAdd?.alt}\n            ></Image>\n            <p className={`${styles.AddText} text-center mt-5`}>{selectedAdd?.description}</p>\n          </div>\n        ) : (\n          <Asset spinner />\n        )}\n    </div>\n  );\n};\n\nexport default Add;\n","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport appStyles from \"../../App.module.css\";\nimport postStyles from \"../../styles/Post.module.css\";\nimport styles from \"../../styles/PostPage.module.css\";\n\nimport Post from \"./Post\";\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Comment from \"../../components/Comment\";\nimport PopularCategories from \"../../components/PopularCategories\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\nimport Add from \"../../components/Add\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Asset from \"../../components/Asset\";\nimport { fetchMoreData } from \"../../utils/utils\";\n\n// modelled after Moments lessons\nfunction PostPage() {\n  useRedirect(\"loggedOut\");\n  const { id } = useParams();\n  // setting an initial value as an empty array in useState to make all the future logic compatible with arrays of objects.\n  // this way it doesn't matter if we're getting a single object or array of posts.\n  const [post, setPost] = useState({ results: [] });\n\n  const currentUser = useCurrentUser();\n  const [comments, setComments] = useState({ results: [] });\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    // handleMount to fetch the post on mount.\n    const handleMount = async () => {\n      try {\n        // we'll eventually be making 2 requests - posts, comments.\n        // destructuring and renaming variable (to post) in place.\n        // it is called renaming with an object key.\n        // Promises.all accepts an array of promises and gets resolved when all promises get resolved, returning an array of data.\n        // If any of the promises fail, Promise.all gets rejected w/an error.\n        const [{ data: post }, { data: comments }] = await Promise.all([\n          // fetching the posts\n          axiosRequest.get(`/posts/${id}/`),\n          // fetching the comments\n          axiosRequest.get(`comments/?post=${id}`),\n        ]);\n        // using setPost func to update the results array in the state to contain a post\n        setPost({ results: [post] });\n        // setting Comments\n        setComments(comments);\n        // clg post to check that this is working\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    // calling handleMount and running the code every time the id in the url changes.\n    handleMount();\n  }, [id]);\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        <Post {...post.results[0]} setPosts={setPost} postPage />\n        <Container\n          className={`${appStyles.Content} ${postStyles.PostText} ${styles.CommentFormWidth}`}\n        >\n          {/* tbd if conditional needs changing */}\n          {currentUser && (\n            <CommentCreateForm\n              profile_id={currentUser.profile_id}\n              post={id}\n              setPost={setPost}\n              setComments={setComments}\n            />\n          )}\n          {comments.results.length ? (\n            // copied off of Moments\n            <InfiniteScroll\n              children={\n                // if there are comments, they're shown\n                comments.results.map((comment) => (\n                  // we're spreading comment object so its contents are passed as props\n                  <Comment\n                    key={comment.id}\n                    {...comment}\n                    setPost={setPost}\n                    setComments={setComments}\n                  />\n                ))\n              }\n              dataLength={comments.results.length}\n              loader={<Asset spinner />}\n              hasMore={!!comments.next}\n              next={() => fetchMoreData(comments, setComments)}\n            />\n          ) : // if there are no comments, we are checking if user is logged in\n          currentUser ? (\n            <span>No comments yet, be the first to comment.</span>\n          ) : (\n            // if the user is not logged in\n            <span>No comments...yet. Log in to comment.</span>\n          )}\n        </Container>\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default PostPage;\n","import React, { useEffect, useState } from \"react\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport Post from \"./Post\";\nimport Asset from \"../../components/Asset\";\nimport { useLocation } from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport appStyles from \"../../App.module.css\";\n\nimport axios from \"axios\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport PopularCategories from \"../../components/PopularCategories\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport Add from \"../../components/Add\";\n\n// modelled after Moments lessons\nfunction PostsPage({ message, filter = \"\", selectedCategory = \"\" }) {\n  const [posts, setPosts] = useState({ results: [] });\n  // keeping track if all data has loaded\n  const [isLoaded, setIsLoaded] = useState(false);\n  // we'll have to re-fetch posts again when user clicks between home, feed and liked pages.\n  // to detect location, we'll use useLocation react router hook.\n  const { pathname } = useLocation();\n\n  // attemting to fix loading issues when not logged in\n  const currentUser = useCurrentUser();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        // the request string will contain filter parameter, which comes from the filter prop we set in routes.\n        // tells API if we want to see all posts or certain ones.\n        if (currentUser == null) {\n          const { data } = await axios.get(`/posts/?${filter}`);\n          setPosts(data);\n        } else {\n          const { data } = await axiosRequest.get(`/posts/?${filter}`);\n          setPosts(data);\n        }\n        // setting IsLoaded to true so spinner no longer spins.\n        setIsLoaded(true);\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    // we want spinner displayed before we fetch posts.\n    setIsLoaded(false);\n    // we want this called any time filter or url changes.\n    \n    fetchPosts();\n  }, [filter, pathname, currentUser]);\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        {/* ternary to display spinner or posts */}\n        {isLoaded ? (\n          // nested ternary to display posts or message.\n          <>\n            {posts.results.length ? (\n              <InfiniteScroll\n                // child component will tell our Infinite Scroll component which child components we want it to render.\n                children={\n                  // map over posts and render each one\n                  posts.results.map((post) => (\n                    // setPosts is needed to like posts.\n                    <Post key={post.id} {...post} setPosts={setPosts} />\n                  ))\n                }\n                // how many posts are displayed\n                dataLength={posts.results.length}\n                // loader\n                loader={<Asset spinner />}\n                // check if there is more data to display\n                // we use double not operator, returns true for truthy and false for falsy values\n                // next is set to null if there are no more posts left\n                hasMore={!!posts.next}\n                // if hasMore is true, loads more\n                next={() => fetchMoreData(posts, setPosts)}\n              />\n            ) : (\n              // show no results asset\n              <Container className={appStyles.Content}>\n                {/* message we passed down */}\n                <Asset message={message} />\n              </Container>\n            )}\n          </>\n        ) : (\n          // spinner\n          <Container className={appStyles.Content}>\n            <Asset spinner />\n          </Container>\n        )}\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories selectedCategory={selectedCategory} />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default PostsPage;\n","import React, { useEffect, useRef, useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\n\nimport Asset from \"../../components/Asset\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\nimport axios from \"axios\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nfunction PostEditForm() {\n  const [errors, setErrors] = useState({});\n\n  const [categories, setCategories] = useState(\"\");\n\n  const [postData, setPostData] = useState({\n    content: \"\",\n    image: \"\",\n    category: \"\",\n  });\n\n  const { content, image, category } = postData;\n\n  // We use this useRef hook to maintain a reference to the form file upload element.\n  // Note it has a ref prop where we give it this hook below.\n  const imageInput = useRef(null);\n\n  // We use this useHistory hook to redirect the user.\n  const history = useHistory();\n\n  // using post id\n  const { id } = useParams();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    // fetching categories\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  useEffect(() => {\n    // fetching the post\n    const fetchPost = async () => {\n      try {\n        const { data } = await axiosRequest.get(`/posts/${id}/`);\n        // const { content, image, is_owner } = data;\n        const { content, image, category, is_owner } = data;\n        // if user is owner, prepopulate the post, else redirect\n        is_owner\n          ? setPostData({ content, image, category })\n          : history.push(\"/\");\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    fetchPost();\n    // dependency array takes history and id.\n  }, [history, id]);\n\n  const handleChangePost = (e) => {\n    // post change handler\n    setPostData({\n      ...postData,\n      content: e.target.value,\n    });\n  };\n\n  // copied from Moments lessons\n  const handleChangeImage = (e) => {\n    // image change handler\n    // checking if there is a file\n    if (e.target.files.length) {\n      // revokeObjectURL is used to clear browser's reference to the previous file\n      // used in cases when user decides to use a different image after upload\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(e.target.files[0]),\n      });\n    }\n  };\n\n  const handleChangeCategory = (e) => {\n    // category change handler\n    setPostData({\n      ...postData,\n      category: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"content\", content);\n    // check if there is a file to be appended\n    if (imageInput.current.files.length !== 0) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"category\", category);\n\n    // copied from Moments lessons\n    // because we're sending image as well as text to our API,\n    // we need to refresh our user's access token before making the request\n    try {\n      const { data } = await axiosRequest.put(`/posts/${id}/`, formData);\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      // console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const categoryField = (\n    // categorry field\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label htmlFor=\"category\">Category</Form.Label>\n        <Form.Control\n          as=\"select\"\n          aria-label=\"tbd\"\n          id=\"category\"\n          onChange={handleChangeCategory}\n        >\n          <option disabled>Category</option>\n          {categories.results?.map((category) => (\n            <option key={category.id} value={category.id}>\n              {category.name}: {category.description}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      {errors.category?.map((idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          You need to choose a category.\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const textField = (\n    // text field\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={4}\n          name=\"content\"\n          placeholder=\"Type your post\"\n          value={content}\n          onChange={handleChangePost}\n        />\n      </Form.Group>\n      {errors.content?.map((idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          Post has to contain at least some text.\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const imageField = (\n    // image field\n    <div>\n      <Form.Group>\n        {image ? (\n          <>\n            <figure>\n              <Image className={authStyles.Image} src={image} rounded />\n            </figure>\n            <div className=\"mr-auto text-right\">\n              <Form.Label\n                className={`${bttnStyles.Button} btn`}\n                htmlFor=\"image-upload\"\n              >\n                Change the image\n              </Form.Label>\n            </div>\n          </>\n        ) : (\n          <Form.Label\n            className={`${bttnStyles.Button} text-center ${\n              smallScreen ? styles.ButtonRight : bttnStyles.Wide\n            }`}\n            htmlFor=\"image-upload\"\n          >\n            <Asset buttonMessage=\"Click or tap to upload an image\" />\n          </Form.Label>\n        )}\n        <Form.File\n          id=\"image-upload\"\n          accept=\"image/*\"\n          onChange={handleChangeImage}\n          ref={imageInput}\n          hidden\n        />\n      </Form.Group>\n      {errors.image?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const buttonField = (\n    // buttons field\n    <div className=\"text-right\">\n      <Button\n        className={`${bttnStyles.Button} m-2`}\n        onClick={() => history.goBack()}\n      >\n        Cancel\n      </Button>\n      <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n        Update\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        {/* display based on screen width */}\n        {smallScreen ? (\n          <>\n            <Col className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div className=\"p-2\">{imageField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n          </>\n        ) : (\n          <>\n            <Col md={8} className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n            <Col className=\"py-2 p-0 p-md-2\" md={4}>\n              <Container className={`${appStyles.Content} ${styles.Container}`}>\n                <div className=\"p-2\">{imageField}</div>\n              </Container>\n            </Col>\n          </>\n        )}\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostEditForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\n\nimport Asset from \"../../components/Asset\";\n\nimport styles from \"../../styles/ProfilePage.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\n\nimport PopularCategories from \"../../components/PopularCategories\";\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\nimport { axiosRequest, axiosResponse } from \"../../api/axiosDefaults\";\nimport { NavLink, useParams } from \"react-router-dom\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Post from \"../posts/Post\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport { ProfileEditDropdown } from \"../../components/Dropdowns\";\nimport Add from \"../../components/Add\";\n\nimport axios from \"axios\";\n\n// built following Moments lessons, with major changes\nfunction ProfilePage() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  // extracting id from the url to know which profile to fetch\n  const { id } = useParams();\n\n  const [currentProfile, setCurrentProfile] = useState();\n  const [currentPosts, setCurrentPosts] = useState({ results: [] });\n  const currentUser = useCurrentUser();\n  const [currentUserProfile, setCurrentUserProfile] = useState();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  const FetchProfileData = async () => {\n    /* Function fetches current profile\n    and current profile posts */\n    try {\n      const [profile, posts] = await Promise.all([\n        axios.get(`/profiles/${id}/`),\n        // updated url temporarily due to url appearing with two api/ when fetching\n        axios.get(`posts/?owner__profile=${id}`),\n      ]);\n      setCurrentProfile(profile.data);\n      setCurrentPosts(posts.data);\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  const FetchCurrentUserProfile = async () => {\n    /* Function fetches current user profile */\n    try {\n      const profile = await axiosRequest.get(\n        `/profiles/${currentUser.profile_id}/`\n      );\n      setCurrentUserProfile(profile.data);\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    /* Generates a warning in the console regarding missing dependencies,\n    however, moving function within useEffect does not solve the issue,\n    but makes it worse.\n    Adding dependencies creates infinite loop.\n    In other words, preferably don't touch. */\n    FetchProfileData();\n    if (currentUser) {\n      FetchCurrentUserProfile();\n    }\n    setIsLoaded(true);\n  }, [id, currentUser?.profile_id]);\n\n  const handleFollow = async () => {\n    /* Function updates current profile and \n    current user profile data after following them */\n    try {\n      // destructuring data property from the response object\n      const { data } = await axiosResponse.post(\"/followers/\", {\n        // data sent is what profile user followed\n        followed: currentProfile.id,\n      });\n      setCurrentProfile((prevCurrentProfile) => ({\n        ...prevCurrentProfile,\n        followers_count: currentProfile.followers_count + 1,\n        following_id: data.id,\n      }));\n      setCurrentUserProfile((prevCurrentUserProfile) => ({\n        ...prevCurrentUserProfile,\n        following_count: currentUserProfile.following_count + 1,\n      }));\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  const handleUnfollow = async () => {\n    /* Function updates current profile and \n    current user profile data after following them */\n    try {\n      await axiosResponse.delete(`/followers/${currentProfile.following_id}/`);\n      setCurrentProfile((prevCurrentProfile) => ({\n        ...prevCurrentProfile,\n        followers_count: currentProfile.followers_count - 1,\n        following_id: null,\n      }));\n      console.log(currentUserProfile)\n      setCurrentUserProfile((prevCurrentUserProfile) => ({\n        ...prevCurrentUserProfile,\n        following_count: currentUserProfile.following_count - 1,\n      }));\n    } catch (err) {\n      // console.log(err);\n    }\n  };\n\n  const mainProfile = (\n    <>\n      {/* owner dropdown */}\n      {currentProfile?.is_owner && (\n        <ProfileEditDropdown id={currentProfile?.id} />\n      )}\n      <Row noGutters className={`text-center ${appStyles.Content}`}>\n        <Col md={3} className=\"mt-1 offset-lg-0\">\n          <Image\n            className={styles.ProfileAvatar}\n            roundedCircle\n            src={currentProfile?.avatar}\n          />\n        </Col>\n        <Col md={5} className=\"mt-1 align-content-center\">\n          <h3 className={styles.ProfileUsername}>{currentProfile?.owner}</h3>\n        </Col>\n        <Col\n          md={2}\n          className=\"mt-1 offset-md-2 text-lg-right d-flex justify-content-end pr-3\"\n        >\n          {/* Follow/unfollow buttons */}\n          {currentUser &&\n            !currentProfile?.is_owner &&\n            (currentProfile?.following_id ? (\n              <Button className={bttnStyles.Button} onClick={handleUnfollow}>\n                Unfollow\n              </Button>\n            ) : (\n              <Button className={bttnStyles.Button} onClick={handleFollow}>\n                Follow\n              </Button>\n            ))}\n        </Col>\n        <Col className={`${styles.ProfileText} align-content-center`}>\n          {/* user stats */}\n          <Row className=\"justify-content-center no-gutters mt-2\">\n            <Col xs={3} className=\"pr-4\">\n              <div>{currentProfile?.posts_count}</div>\n              <span>Posts</span>\n            </Col>\n            <Col xs={3} className=\"pr-2\">\n              <div>{currentProfile?.followers_count}</div>\n              <span>Followers</span>\n            </Col>\n            <Col xs={3} className=\"pl-2\">\n              <div>{currentProfile?.following_count}</div>\n              <span>Following</span>\n            </Col>\n            <Col xs={3} className=\"pl-4\">\n              <div>{currentProfile?.saved_count}</div>\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={\n                  <Tooltip>\n                    Displays how many times others saved your posts for later!\n                  </Tooltip>\n                }\n              >\n                <span>Status</span>\n              </OverlayTrigger>\n            </Col>\n          </Row>\n        </Col>\n        <Col xs={12} className={`${styles.ProfileText} text-left mt-3`}>\n          {currentProfile?.name && (\n            // user details\n            <div>\n              <strong>Name: </strong>\n              {currentProfile?.name}\n            </div>\n          )}\n          {currentProfile?.bio && (\n            <div className=\"mt-2\">\n              <strong>Bio: </strong>\n              {currentProfile?.bio}\n            </div>\n          )}\n        </Col>\n      </Row>\n    </>\n  );\n\n  const mainProfilePosts = (\n    <>\n      {currentPosts.results.length ? (\n        <InfiniteScroll\n          children={currentPosts.results.map((post) => (\n            <Post\n              key={post.id}\n              {...post}\n              className={appStyles.Content}\n              setCurrentPosts={setCurrentPosts}\n              profilePage\n            />\n          ))}\n          dataLength={currentPosts.results.length}\n          loader={<Asset spinner />}\n          hasMore={!!currentPosts.next}\n          next={() => fetchMoreData(currentPosts, setCurrentPosts)}\n        />\n      ) : (\n        <div className={appStyles.Content}>\n          <Asset message={`${currentProfile?.owner} hasn't posted yet.`} />\n          {currentProfile?.is_owner && (\n            // conditional rendering call to action for the owner\n            <NavLink\n              to=\"/posts/create\"\n              className={`${bttnStyles.Button} ${bttnStyles.Wide} d-block text-center`}\n            >\n              Post something\n            </NavLink>\n          )}\n        </div>\n      )}\n    </>\n  );\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        <Container>\n          {isLoaded ? (\n            <>\n              {mainProfile}\n              {smallScreen && <Add />}\n              {mainProfilePosts}\n            </>\n          ) : (\n            <Asset spinner />\n          )}\n        </Container>\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default ProfilePage;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\n\nimport bird from \"../../assets/bird.jpg\";\n\n// based off of Moments with some adjustments\nconst EditUsernameForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  const { id } = useParams();\n\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() === id) {\n      setUsername(currentUser.username);\n    } else {\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      await axiosResponse.put(\"/dj-rest-auth/user/\", {\n        username,\n      });\n      setCurrentUser((prevUser) => ({\n        ...prevUser,\n        username,\n      }));\n      // returns user to the previous page, i.e. profile\n      history.goBack();\n    } catch (err) {\n      // console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={authStyles.Header}>Change Username</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group>\n              <Form.Label>Change username</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <div className=\"text-right\">\n              <Button\n                className={`${bttnStyles.Button} mr-1`}\n                onClick={() => history.goBack()}\n              >\n                Cancel\n              </Button>\n              <Button className={bttnStyles.Button} type=\"submit\">\n                Save\n              </Button>\n              {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n              ))}\n            </div>\n          </Form>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${authStyles.AuthCol}`}\n      >\n        <Image\n          className={`${authStyles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default EditUsernameForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\n\nimport bird from \"../../assets/bird.jpg\";\n\n// copied from Moments with minor adjustments\nconst UserEditPasswordForm = () => {\n  const history = useHistory();\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n\n  const [userData, setUserData] = useState({\n    new_password1: \"\",\n    new_password2: \"\",\n  });\n  const { new_password1, new_password2 } = userData;\n\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (e) => {\n    setUserData({\n      ...userData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() !== id) {\n      // redirect user if they are not the owner of this profile\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      await axiosResponse.post(\"/dj-rest-auth/password/change/\", userData);\n      history.goBack();\n    } catch (err) {\n      // console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={authStyles.Header}>Change Password</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"new_password1\">\n              <Form.Label className=\"d-none\">New password</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"New password\"\n                type=\"password\"\n                value={new_password1}\n                onChange={handleChange}\n                name=\"new_password1\"\n              />\n            </Form.Group>\n            {errors?.new_password1?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <Form.Group controlId=\"new_password2\">\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"Confirm new password\"\n                type=\"password\"\n                value={new_password2}\n                onChange={handleChange}\n                name=\"new_password2\"\n              />\n            </Form.Group>\n            {errors?.new_password2?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <div className=\"text-right\">\n              <Button\n                className={`${bttnStyles.Button} mr-1`}\n                onClick={() => history.goBack()}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" className={`${bttnStyles.Button}`}>\n                Save\n              </Button>\n              {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n              ))}\n            </div>\n          </Form>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${authStyles.AuthCol}`}\n      >\n        <Image\n          className={`${authStyles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default UserEditPasswordForm;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport { axiosRequest } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport postFormStyles from \"../../styles/PostCreateEditForm.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\n// based off of Moments with many adjustments\nconst EditProfileForm = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const { id } = useParams();\n  const history = useHistory();\n  const imageFile = useRef();\n\n  const [profileData, setProfileData] = useState({\n    name: \"\",\n    bio: \"\",\n    avatar: \"\",\n  });\n\n  const { name, bio, avatar } = profileData;\n\n  const [errors, setErrors] = useState({});\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      if (currentUser?.profile_id?.toString() === id) {\n        try {\n          const { data } = await axiosRequest.get(`/profiles/${id}/`);\n          const { name, bio, avatar } = data;\n          setProfileData({ name, bio, avatar });\n        } catch (err) {\n          // console.log(err);\n          history.push(\"/\");\n        }\n      } else {\n        history.push(\"/\");\n      }\n    };\n    handleMount();\n  }, [currentUser, history, id]);\n\n  const handleChange = (e) => {\n    setProfileData({\n      ...profileData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"bio\", bio);\n\n    if (imageFile?.current?.files[0]) {\n      formData.append(\"avatar\", imageFile?.current?.files[0]);\n    }\n\n    try {\n      const { data } = await axiosRequest.put(`/profiles/${id}/`, formData);\n      setCurrentUser((currentUser) => ({\n        ...currentUser,\n        profile_avatar: data.avatar,\n      }));\n      // return user to previous page, i.e. profile\n      history.goBack();\n    } catch (err) {\n      // console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  const avatarField = (\n    // avatar section\n    <Form.Group>\n      {avatar && (\n        <figure>\n          <Image className={authStyles.Image} src={avatar} fluid />\n        </figure>\n      )}\n      {errors?.avatar?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n      <div className=\"mr-auto text-right\">\n        <Form.Label\n          className={`${bttnStyles.Button} btn`}\n          htmlFor=\"image-upload\"\n        >\n          Change the image\n        </Form.Label>\n      </div>\n      <Form.File\n        hidden\n        id=\"image-upload\"\n        ref={imageFile}\n        accept=\"image/*\"\n        onChange={(e) => {\n          if (e.target.files.length) {\n            setProfileData({\n              ...profileData,\n              avatar: URL.createObjectURL(e.target.files[0]),\n            });\n          }\n        }}\n      />\n    </Form.Group>\n  );\n\n  const textFields = (\n    // name and bio section\n    <>\n      <Form.Group>\n        <Form.Label>Your name</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={name}\n          placeholder=\"Your name\"\n          rows={1}\n          name=\"name\"\n          onChange={handleChange}\n        />\n      </Form.Group>\n      {errors?.name?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n      <Form.Group>\n        <Form.Label>Your bio</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={bio}\n          placeholder=\"Your bio\"\n          name=\"bio\"\n          rows={4}\n          onChange={handleChange}\n        />\n      </Form.Group>\n      {errors?.bio?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </>\n  );\n\n  const buttonField = (\n    // button field\n    <div className=\"text-right\">\n      <Button\n        className={`${bttnStyles.Button} m-2`}\n        onClick={() => history.goBack()}\n      >\n        Cancel\n      </Button>\n      <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n        Post\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        {/* screen width check */}\n        {smallScreen ? (\n          <Col className=\"p-0 p-md-2\">\n            <Container className={appStyles.Content}>\n              <div>{textFields}</div>\n              <div>{avatarField}</div>\n              <div>{buttonField}</div>\n            </Container>\n          </Col>\n        ) : (\n          <>\n            <Col md={8} className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textFields}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n            <Col className=\"py-2 p-0 p-md-2\" md={4}>\n              <Container\n                className={`${appStyles.Content} ${postFormStyles.Container}`}\n              >\n                <div className=\"p-2\">{avatarField}</div>\n              </Container>\n            </Col>\n          </>\n        )}\n      </Row>\n    </Form>\n  );\n};\n\nexport default EditProfileForm;\n","import styles from \"./App.module.css\";\nimport NavBar from \"./components/NavBar\";\nimport Container from \"react-bootstrap/Container\";\nimport { Route, Switch } from \"react-router-dom\";\nimport \"./api/axiosDefaults\";\nimport RegisterForm from \"./pages/auth/RegisterForm\";\nimport LoginForm from \"./pages/auth/LoginForm\";\nimport PageNotFound from \"./components/PageNotFound\";\nimport PostCreateForm from \"./pages/posts/PostCreateForm\";\nimport PostPage from \"./pages/posts/PostPage\";\nimport PostsPage from \"./pages/posts/PostsPage\";\nimport PostEditForm from \"./pages/posts/PostEditForm\";\nimport { useCurrentUser } from \"./contexts/CurrentUserContext\";\nimport { useSelectedCategory } from \"./contexts/SelectedCategoryContext\";\nimport ProfilePage from \"./pages/profiles/ProfilePage\";\nimport EditUsernameForm from \"./pages/profiles/EditUsernameForm\";\nimport EditPasswordForm from \"./pages/profiles/EditPasswordForm\";\nimport EditProfileForm from \"./pages/profiles/EditProfileForm\";\n\nfunction App() {\n  const currentUser = useCurrentUser();\n  const selectedCategory = useSelectedCategory();\n\n  // need profile_id to filter the posts by.\n  // defaults to an empty string if current user details are still being fetched.\n  const profile_id = currentUser?.profile_id || \"\";\n\n  return (\n    <div className={styles.App}>\n      <NavBar />\n      <Container className={styles.Main}>\n        <Switch>\n          {/* home, feed and liked routes modelled after Moments code */}\n          <Route\n            className={styles.Content}\n            exact\n            path=\"/\"\n            render={() => (\n              // message for when path brings up no results.\n              <PostsPage message=\"No posts found.\" />\n            )}\n          />\n          <Route\n            exact\n            path=\"/feed\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No posts found. Follow a user to change that.\"\n                filter={`owner__followed__owner__profile=${profile_id}&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/liked\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No posts found. Like some posts to change that.\"\n                filter={`likes__owner__profile=${profile_id}&ordering=-likes__created&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/saved\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No posts found. Save some post for later and find them here later.\"\n                filter={`saved__owner__profile=${profile_id}&ordering=-saved__created&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/categories/:id/posts\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No posts in this category.\"\n                filter={`category_id=${selectedCategory}&ordering=-created&`}\n                selectedCategory={selectedCategory}\n              />\n            )}\n          />\n          <Route exact path=\"/login\" render={() => <LoginForm />} />\n          <Route exact path=\"/register\" render={() => <RegisterForm />} />\n          <Route exact path=\"/posts/create\" render={() => <PostCreateForm />} />\n          <Route exact path=\"/posts/:id/edit\" render={() => <PostEditForm />} />\n          <Route exact path=\"/posts/:id\" render={() => <PostPage />} />\n          <Route exact path=\"/profiles/:id\" render={() => <ProfilePage />} />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/username\"\n            render={() => <EditUsernameForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/password\"\n            render={() => <EditPasswordForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit\"\n            render={() => <EditProfileForm />}\n          />\n          <Route render={() => <PageNotFound />} />\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\nimport { SelectedCategoryProvider } from \"./contexts/SelectedCategoryContext\";\n\nReactDOM.render(\n  <Router>\n    <CurrentUserProvider>\n      <SelectedCategoryProvider>\n          <App />\n      </SelectedCategoryProvider>\n    </CurrentUserProvider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1amC6\",\"NavLink\":\"NavBar_NavLink__34ons\",\"Active\":\"NavBar_Active__3PBZb\",\"Brand\":\"NavBar_Brand__iWmt7\",\"NavLinkOffset\":\"NavBar_NavLinkOffset__1pQTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__3UScv\",\"ProfilePost\":\"Post_ProfilePost__1yVdX\",\"PostHeader\":\"Post_PostHeader__3M--4\",\"PostText\":\"Post_PostText__3e2Ye\",\"PostNotLiked\":\"Post_PostNotLiked__CtevJ\",\"CommentIcon\":\"Post_CommentIcon__2ee-h\",\"PostNotSaved\":\"Post_PostNotSaved__Nuenh\",\"IconText\":\"Post_IconText__YMwZV\",\"PostLiked\":\"Post_PostLiked__2q-fO\",\"PostSaved\":\"Post_PostSaved__3fzAk\",\"Category\":\"Post_Category__3sIbT\",\"PostImage\":\"Post_PostImage__1ZuuZ\",\"OwnerLinkIcon\":\"Post_OwnerLinkIcon__mURmr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"Dropdowns_DropdownItem__3dbO9\",\"DropdownBackground\":\"Dropdowns_DropdownBackground__1ejJx\",\"DropdownIcon\":\"Dropdowns_DropdownIcon__2sva1\",\"Absolute\":\"Dropdowns_Absolute__3M8sS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__2WHuV\",\"ButtonRight\":\"PostCreateEditForm_ButtonRight__31el0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Commenter\":\"Comment_Commenter__jS4-t\",\"ModifiedDate\":\"Comment_ModifiedDate__2xZBi\",\"CommentDisplay\":\"Comment_CommentDisplay__3-tKw\",\"MediaBody\":\"Comment_MediaBody__3_Oi6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileAvatar\":\"ProfilePage_ProfileAvatar__2KT7F\",\"ProfileUsername\":\"ProfilePage_ProfileUsername__zUlMb\",\"ProfileText\":\"ProfilePage_ProfileText__3KIBm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentHeight\":\"CommentCreateEditForm_CommentHeight__3splU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__1dBcX\",\"ProfileText\":\"Asset_ProfileText__2yoNB\",\"ButtonText\":\"Asset_ButtonText__3P132\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"PopularCategories_Header__209lK\",\"CategoryName\":\"PopularCategories_CategoryName__5QzJb\",\"CategoryContainer\":\"PopularCategories_CategoryContainer__1Bzfo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__196lW\",\"Username\":\"Avatar_Username__3u3zc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Filter\":\"PageNotFound_Filter__21tbr\",\"Subheader\":\"PageNotFound_Subheader__y_PYS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddImage\":\"Adds_AddImage__3CCcO\",\"AddText\":\"Adds_AddText__208_5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentFormWidth\":\"PostPage_CommentFormWidth__2vEMG\"};"],"sourceRoot":""}