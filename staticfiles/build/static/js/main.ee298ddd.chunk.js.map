{"version":3,"sources":["styles/AuthForm.module.css","styles/Button.module.css","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useScreenWidth.js","components/Asset.js","contexts/SelectedCategoryContext.js","components/PopularCategories.js","hooks/useNavBarToggle.js","components/NavBar.js","assets/birdie.png","assets/bird.jpg","hooks/useRedirect.js","pages/auth/RegisterForm.js","pages/auth/LoginForm.js","components/PageNotFound.js","pages/posts/PostCreateForm.js","components/Dropdowns.js","pages/posts/Post.js","pages/comments/CommentCreateForm.js","pages/comments/CommentEditForm.js","components/Comment.js","components/Add.js","pages/posts/PostPage.js","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","pages/profiles/ProfilePage.js","pages/profiles/EditUsernameForm.js","pages/profiles/EditPasswordForm.js","pages/profiles/EditProfileForm.js","App.js","reportWebVitals.js","index.js","styles/NavBar.module.css","styles/Post.module.css","styles/Dropdowns.module.css","styles/PostCreateEditForm.module.css","styles/ProfilePage.module.css","styles/PopularCategories.module.css","styles/Avatar.module.css","styles/Asset.module.css","styles/PageNotFound.module.css","styles/Comment.module.css","styles/Adds.module.css","App.module.css","styles/PostPage.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosRequest","create","axiosResponse","removeTokenTimestamp","localStorage","removeItem","fetchMoreData","async","resource","setResource","data","get","next","prevResource","results","reduce","acc","cur","some","accResult","id","err","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","history","useHistory","useEffect","console","log","handleMount","useMemo","interceptors","request","use","getItem","prevCurrentUser","push","config","Promise","reject","response","_err$response","status","_jsx","Provider","value","Avatar","src","height","text","_jsxs","className","styles","Username","width","alt","ScreenWidth","setWidth","window","innerWidth","handleResize","addEventListener","removeEventListener","Asset","spinner","message","concat","Spinner","animation","variant","ProfileText","SelectedCategoryContext","SetSelectedCategoryContext","SelectedCategoryProvider","selectedCategory","setSelectedCategory","PopularCategories","_categories$results","_categories$results2","categories","setCategories","fetchCategories","appStyles","Content","Container","length","_Fragment","Header","map","category","Link","to","CategoryName","onClick","handleClick","category_id","name","useNavBarToggle","expanded","setExpanded","ref","useRef","handleClickOutside","e","target","current","contains","document","NavBar","smallScreen","useScreenWidth","newPost","NavLink","activeClassName","Active","homePage","exact","avatarDisplay","profile_id","profile_avatar","username","loggedInOptions","NavLinkOffset","loggedOutOptions","Navbar","expand","fixed","bg","Brand","Nav","Toggle","Collapse","useRedirect","userAuthStatus","RegisterForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","signUpData","setSignUpData","password1","password2","errors","setErrors","handleChange","Row","Col","AuthCol","md","Form","onSubmit","preventDefault","Group","controlId","Label","Control","Input","type","placeholder","onChange","idx","Alert","Button","bttnStyles","Wide","non_field_errors","Image","bird","LoginForm","signInData","setSignInData","password","user","refreshTokenTimestamp","jwtDecode","refresh_token","exp","setItem","setTokenTimestamp","goBack","PageNotFound","authStyles","Main","NotFound","Subheader","PostCreateForm","_errors$category","_errors$content","_errors$image","postData","setPostData","content","image","imageInput","categoryField","htmlFor","as","defaultValue","disabled","description","textField","rows","imageField","rounded","ButtonRight","File","accept","files","URL","revokeObjectURL","createObjectURL","hidden","buttonField","formData","FormData","append","_err$response2","ThreeDots","React","forwardRef","MoreDropdown","_ref2","handleEdit","handleDelete","Dropdown","drop","Menu","DropdownBackground","popperConfig","strategy","Item","DropdownItem","DropdownIcon","ProfileEditDropdown","_ref3","Absolute","Post","props","owner","modified","like_id","comments_count","likes_count","category_name","saved_id","saved_count","postPage","profilePage","setPosts","setCurrentPosts","is_owner","Card","Body","Media","PostHeader","delete","Category","PostText","Img","PostImage","IconText","OverlayTrigger","placement","overlay","Tooltip","prevPosts","CommentCreateForm","setPost","setComments","setContent","prevComments","prevPost","InputGroup","trim","CommentEditForm","setShowEditForm","formContent","setFormContent","event","put","comment","Comment","showEditForm","Commenter","ModifiedDate","filter","Add","advertisements","setAdvertisements","selectedAdd","setSelectedAdd","isLoaded","setIsLoaded","fetchAdds","randomSelect","Math","floor","random","AddImage","AddText","PostPage","useParams","comments","all","postStyles","CommentFormWidth","PostsPage","posts","pathname","useLocation","fetchPosts","InfiniteScroll","dataLength","loader","hasMore","PostEditForm","fetchPost","ProfilePage","currentProfile","setCurrentProfile","currentPosts","currentUserProfile","setCurrentUserProfile","profile","FetchProfileData","FetchCurrentUserProfile","mainProfile","noGutters","ProfileAvatar","roundedCircle","avatar","ProfileUsername","following_id","prevCurrentProfile","followers_count","prevCurrentUserProfile","following_count","followed","xs","posts_count","bio","mainProfilePosts","EditUsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserEditPasswordForm","_errors$new_password","_errors$new_password2","userData","setUserData","new_password1","new_password2","EditProfileForm","_errors$avatar","_errors$name","_errors$bio","imageFile","profileData","setProfileData","avatarField","fluid","textFields","_imageFile$current","_imageFile$current2","postFormStyles","App","Switch","Route","path","render","EditPasswordForm","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.ee298ddd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"AuthForm_Row__2PgqZ\",\"Input\":\"AuthForm_Input__3ONjR\",\"Header\":\"AuthForm_Header__3VpYh\",\"Link\":\"AuthForm_Link__2iPzL\",\"Container\":\"AuthForm_Container__3WYp7\",\"AuthCol\":\"AuthForm_AuthCol__1jY3i\",\"Image\":\"AuthForm_Image__2wfBh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\",\"Wide\":\"Button_Wide__2ScDr\"};"," // IMPORTANT!!\n // Because this React app is running in the same workspace as the API,\n\n // there is no need to set a separate baseURL until you reach deployment.\n\n // Setting a baseURL before you reach deployment will cause errors\n\n import axios from \"axios\";\n\n// from Moments lessons, modified\n axios.defaults.baseURL = 'api/';\n\n \n // multipart as our app will deal with images, texts...\n axios.defaults.headers.post['Content-Type'] = \"multipart/form-data\"\n axios.defaults.withCredentials = true;\n\n // to intercept the request\nexport const axiosRequest = axios.create();\n// to intercept the response\nexport const axiosResponse = axios.create();","import jwtDecode from \"jwt-decode\";\nimport { axiosRequest } from \"../api/axiosDefaults\";\n\n// copied from Moments\n// function accepts data object returned by API on login.\n// exp is expiry date.\nexport const setTokenTimestamp = (data) => {\n    const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n    localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n  };\n  \n  \n  export const shouldRefreshToken = () => {\n    // returns refreshToken timestamp converted by double not operator.\n    // token will only be refreshed for a logged in user.\n    return !!localStorage.getItem(\"refreshTokenTimestamp\");\n  };\n  \n  \n  export const removeTokenTimestamp = () => {\n    // removed time stamp from the localStorage\n    localStorage.removeItem(\"refreshTokenTimestamp\");\n  };\n\n\n  // todo check if this works when deployed, users report infinite scroll is causing problems on Gitpod\n  // when replacing localhost address from dev tools with an actual page address, I can see next data\n  // used for InfiniteScroll\nexport const fetchMoreData = async (resource, setResource) => {\n  try {\n    // next means next page of results\n    const { data } = await axiosRequest.get(resource.next);\n    setResource((prevResource) => ({\n      ...prevResource,\n      next: data.next,\n\n      /* Using reduce to loop through  next page of data we received.\n      We append new results to the existing ones.\n      Esentially, we compare each acc id to the cur id.\n      If they match, we return acc, else we return acc with cur */\n      results: data.results.reduce((acc, cur) => {\n        return acc.some((accResult) => accResult.id === cur.id)\n          ? acc\n          : [...acc, cur];\n      }, prevResource.results),\n    }));\n  } catch (err) {}\n};\n","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosRequest, axiosResponse } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\n// based off of Moments lessons\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const history = useHistory();\n\n  const handleMount = async () => {\n    try {\n      const { data } = await axios.get(\"/dj-rest-auth/user/\");\n      console.log(\"CurrentUserProvider\", data)\n      // Set the current user with the data we get back.\n      // Without this, we'd have to log in after each refresh\n      setCurrentUser(data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handleMount();\n  }, []);\n\n  // refreshing tokens\n  useMemo(() => {\n    // request interceptor\n    axiosRequest.interceptors.request.use(\n      async (config) => {\n        // if runs only when token needs refreshing\n        if (shouldRefreshToken()) {\n          try {\n            // attempting to refresh the token\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            // if token refresh failed and user was previously logged in\n            // if refresh token expired\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n            return config;\n          }\n          return config;\n        }\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n\n    // response interceptor\n    axiosResponse.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status === 401) {\n          try {\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n          }\n          return axios(err.config);\n        }\n        // Promise rejected if error wasn't 401\n        return Promise.reject(err);\n      }\n    );\n  }, [history]);\n\n  return (\n    // Providers allow current user value and\n    // function that is updating it to be available to all children\n    <CurrentUserContext.Provider value={currentUser}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n};\n","import React from \"react\";\nimport styles from \"../styles/Avatar.module.css\";\n\nconst Avatar = ({ src, height = 45, text }) => {\n  return (\n    <span className={styles.Username}>\n      <img\n        className={styles.Avatar}\n        src={src}\n        height={height}\n        width={height}\n        alt=\"user avatar\"\n      />\n      {text}\n    </span>\n  );\n};\n\n\nexport default Avatar;","import { useState, useEffect } from 'react';\n\n/* code copied from \nhttps://www.altcademy.com/blog/how-to-check-screen-width-in-reactjs/ \nCode modified to return boolean value */ \nconst ScreenWidth = () => {\n  const [width, setWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n//   returning boolean value\n  return width < 768;\n}\n\nexport default ScreenWidth;","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport styles from \"../styles/Asset.module.css\";\n\n// temporarily copied from Moments\n// minor changes applied\nconst Asset = ({ spinner, src, message }) => {\n  return (\n    <div className={`${styles.Asset}`}>\n      {spinner && <Spinner animation=\"border\" variant=\"warning\" />}\n      {src && <img src={src} alt={message} />}\n      {message && <p className={`${styles.ProfileText} mt-4`}>{message}</p>}\n    </div>\n  );\n};\n\nexport default Asset;\n","import { createContext, useContext, useState } from \"react\";\n\n// based off of Moments lessons\nexport const SelectedCategoryContext = createContext();\nexport const SetSelectedCategoryContext = createContext();\n\nexport const useSelectedCategory = () => useContext(SelectedCategoryContext);\nexport const useSetSelectedCategory = () => useContext(SetSelectedCategoryContext);\n\nexport const SelectedCategoryProvider = ({ children }) => {\n    // manually inputing a nonexistant id in the url will default to the first category created\n  const [selectedCategory, setSelectedCategory] = useState(1);\n\n  return (\n    // Providers allow current user value and\n    // function that is updating it to be available to all children\n    <SelectedCategoryContext.Provider value={selectedCategory}>\n      <SetSelectedCategoryContext.Provider value={setSelectedCategory}>\n        {children}\n      </SetSelectedCategoryContext.Provider>\n    </SelectedCategoryContext.Provider>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport appStyles from \".././App.module.css\";\nimport Asset from \".././components/Asset\";\n\nimport styles from \".././styles/PopularCategories.module.css\"\nimport { Link } from \"react-router-dom\";\n\nimport { useSetSelectedCategory } from \"../contexts/SelectedCategoryContext\";\n\nconst PopularCategories = ({selectedCategory}) => {\n  const [categories, setCategories] = useState(\"\");\n\n  const setSelectedCategory = useSetSelectedCategory()\n\n\n  useEffect(() => {\n    // fetching existing categories\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n        console.log(\"categories\", data);\n        console.log(\"categories\", data.results);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  const handleClick = (category_id) => {\n    // setting selected category\n    setSelectedCategory(category_id);\n    console.log(\"category_id\", category_id)\n    console.log(\"selectedCategory\", selectedCategory)\n  };\n\n  return (\n    <div className={`${appStyles.Content} ${styles.Container}`}>\n      {categories?.results?.length ? (\n        <>\n        {/* display categories in the order of popularity */}\n          <h1 className={styles.Header}>Popular categories</h1>\n          {categories.results?.map((category) => (\n            <Link to={`/categories/${category.id}/posts`} className={styles.CategoryName} key={category.id} onClick={() => handleClick(category.id)}>{category.name}</Link>\n          ))}\n        </>\n      ) : (\n        <Asset spinner />\n      )}\n    </div>\n  );\n};\n\n\nexport default PopularCategories;","import { useEffect, useRef, useState } from \"react\";\n\n\nconst useNavBarToggle = () => {\n  // menu is initially collapsed\n  const [expanded, setExpanded] = useState(false);\n  const ref = useRef(null);\n\n  // created following Moments lessons\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n        console.log(\"ref\", ref)\n        console.log(\"target\", e.target)\n      if (ref.current && !ref.current.contains(e.target)) {\n        setExpanded(false);\n      }\n    };\n    document.addEventListener(\"mouseup\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mouseup\", handleClickOutside);\n    };\n  }, [ref]);\n  return { expanded, setExpanded, ref };\n};\n\n\nexport default useNavBarToggle;","import React from \"react\";\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport logo from \"../assets/birdie.png\";\nimport styles from \"../styles/NavBar.module.css\";\nimport { NavLink } from \"react-router-dom\";\nimport { useCurrentUser, useSetCurrentUser } from \"../contexts/CurrentUserContext\";\nimport Avatar from \"./Avatar\";\nimport axios from \"axios\";\nimport { removeTokenTimestamp } from \"../utils/utils\";\nimport useScreenWidth from \"../hooks/useScreenWidth\"\nimport PopularCategories from \"./PopularCategories\";\nimport useNavBarToggle from \"../hooks/useNavBarToggle\";\n\nconst NavBar = () => {\n  const currentUser = useCurrentUser();\n  console.log(\"currentUser\", currentUser)\n  const setCurrentUser = useSetCurrentUser();\n\n  const { expanded, setExpanded, ref } = useNavBarToggle();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  const handleLogOut = async () => {\n    /* handles logging user out\n    nullifies CurrentUser\n    tbd if a better process can be implemented before going live */\n    try {\n      await axios.post(\"/dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n\n  const newPost = (\n    <NavLink\n      to=\"/posts/create\"\n      className={styles.NavLink}\n      activeClassName={styles.Active}\n    >\n      Post\n    </NavLink>\n  );\n\n  const homePage = (\n    <NavLink\n    exact\n    to=\"/\"\n    className={styles.NavLink}\n    activeClassName={styles.Active}\n  >\n    Home\n  </NavLink>\n  )\n\n  const avatarDisplay = (\n      <NavLink\n      to={`/profiles/${currentUser?.profile_id}`}\n      className={styles.NavLink}\n      onClick={() => {}}\n    >\n      <Avatar src={currentUser?.profile_avatar} text={currentUser?.username} height={38} />\n    </NavLink> \n  )\n\n\n  const loggedInOptions = (\n    // using empty element as JSX can only return a single element\n    <>\n    <NavLink\n      to=\"/feed\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      activeClassName={styles.Active}\n    >\n      Feed\n    </NavLink>\n    <NavLink\n      to=\"/liked\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      activeClassName={styles.Active}\n    >\n      Liked\n    </NavLink>\n    <NavLink\n      to=\"/saved\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      activeClassName={styles.Active}\n    >\n      Saved posts\n    </NavLink>\n      {smallScreen && (\n        // display popular categories when on smaller screens\n          <PopularCategories className=\"text-right\" />\n      )}\n    <NavLink\n      to=\"/\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      onClick={handleLogOut}\n    >\n      Log out\n    </NavLink>\n  </>\n  )\n\n  const loggedOutOptions = (\n    // using empty element as JSX can only return a single element\n    <>\n      {\" \"}\n      <NavLink\n        to=\"/login\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Log in\n      </NavLink>\n      <NavLink\n        to=\"/register\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Register\n      </NavLink>\n      {smallScreen && (\n        // display popular categories when on smaller screens\n          <PopularCategories className=\"text-right\" />\n      )}\n    </>\n  );\n\n  return (\n    <Navbar\n      className={styles.NavBar}\n      expand=\"md\"\n      fixed=\"top\"\n      bg=\"dark\"\n      variant=\"dark\"\n      expanded={expanded}\n    >\n      <Container>\n        <NavLink to=\"/\">\n          <Navbar.Brand>\n            <img src={logo} alt=\"logo\" height=\"47px\" />\n          </Navbar.Brand>\n          <Navbar.Brand className={`${styles.Brand} mr-auto text-right`}>\n            Birdie\n          </Navbar.Brand>\n        </NavLink>\n        <Nav className=\"mr-auto text-right\">\n          {currentUser ? newPost : homePage}\n          </Nav>\n          <Nav className=\"ml-auto text-left\">\n          {currentUser && smallScreen && avatarDisplay}\n          </Nav>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" onClick={() => setExpanded(!expanded)} ref={ref} />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n\n          <Nav className=\"ml-auto text-right\">\n            {currentUser ? (\n              <>\n              {loggedInOptions}\n              {!smallScreen && avatarDisplay}              \n              </>\n              ) : loggedOutOptions}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/bird.2843c24d.jpg\";","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\n\nexport const useRedirect = (userAuthStatus) => {\n  const history = useHistory();\n\n// copied from Moments\n  useEffect(() => {\n    // making a network request on mount to check if user is logged in.\n    const handleMount = async () => {\n      try {\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\n        // if user is logged in, the code below will run\n        if (userAuthStatus === \"loggedIn\") {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        // if user is not logged in, the code below will run\n        if (userAuthStatus === \"loggedOut\") {\n          history.push(\"/\");\n        }\n      }\n    };\n\n\n    handleMount();\n  }, [history, userAuthStatus]);\n};\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bird from \"../../assets/bird.jpg\";\n\nimport { Form, Button, Image, Col, Row, Container, Alert } from \"react-bootstrap\";\n\nimport axios from \"axios\";\n\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// code adapted from Moments lessons\nconst RegisterForm = () => {\n  useRedirect('loggedIn')\n  const [signUpData, setSignUpData] = useState({\n    username: \"\",\n    password1: \"\",\n    password2: \"\",\n  });\n  \n  const { username, password1, password2 } = signUpData;\n\n  const [errors, setErrors] = useState({})\n\n  // from router\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    setSignUpData({\n      ...signUpData,\n      // this creates a key:value pair\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      await axios.post(\"/dj-rest-auth/registration/\", signUpData);\n      history.push(\"/login\");\n    } catch (err) {\n      // if response isn't defined, it won't throw an error\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className={`${styles.AuthCol} my-auto p-md-2`} md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={styles.Header}>Sign up</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password1\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password1\"\n                value={password1}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password1?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password2\">\n              <Form.Label className=\"d-none\">Confirm Password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password2\"\n                value={password2}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password2?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Button\n              className={`${bttnStyles.Button} ${bttnStyles.Wide}`}\n              type=\"submit\"\n            >\n              Register\n            </Button>\n            {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/login\">\n            Already have an account? <span>Login</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${styles.AuthCol}`}\n      >\n        <Image className={`${styles.Image} ${appStyles.Content}`} src={bird} />\n      </Col>\n    </Row>\n  );\n};\n\nexport default RegisterForm;\n","import React, { useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bird from \"../../assets/bird.jpg\";\nimport axios from \"axios\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// code adapted from Moments lessons\nfunction LoginForm() {\n  const setCurrentUser = useSetCurrentUser();\n  useRedirect('loggedIn')\n\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const { username, password } = signInData;\n\n  const [errors, setErrors] = useState({})\n\n  // from router\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    setSignInData({\n      ...signInData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      const { data } = await axios.post(\"dj-rest-auth/login/\", signInData);\n      console.log(\"data\", data)\n      setCurrentUser(data.user);\n      console.log(\"data.user\", data.user)\n      // extracting exp date from the access token, saves it to user's browser in local storage.\n      setTokenTimestamp(data);\n      // history.push(\"/\")\n      history.goBack();\n    } catch(err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={styles.Header}>Sign in</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n              className={styles.Input}\n              type=\"text\"\n              placeholder=\"Enter Username\"\n              name=\"username\"\n              value={username}\n              onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n              className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                    {message}\n                </Alert>\n            ))}\n            <Button\n              type=\"submit\"\n              className={`${bttnStyles.Button} ${bttnStyles.Wide}`}\n            >\n              Login\n            </Button>\n            {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/register\">\n            Don't have an account? <span>Register now!</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${styles.AuthCol}`}\n      >\n        <Image\n          className={`${styles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n}\n\n\nexport default LoginForm;\n","import React from \"react\";\nimport bird from \"../assets/bird.jpg\";\nimport { Image, Row, Container, Col } from \"react-bootstrap\";\nimport styles from \"../styles/PageNotFound.module.css\";\nimport authStyles from \"../styles/AuthForm.module.css\";\nimport appStyles from \".././App.module.css\";\n\nconst PageNotFound = () => {\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto offset-md-2\" md={8}>\n        <Container className={`${appStyles.Content}`}>\n          <h1 className={`${appStyles.Main} ${authStyles.Header}`}>\n            This page seems to have flown away\n          </h1>\n          <Image\n            className={`${authStyles.Image} ${styles.NotFound}`}\n            src={bird}\n          />\n          <h2 className={styles.Subheader}>Do you ever feel like a plastic bag</h2>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default PageNotFound;\n","import React, { useRef, useState, useEffect } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\n\nimport Asset from \"../../components/Asset\";\nimport { Image } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport axios from \"axios\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\"\n\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// based off of Moments lessons\nfunction PostCreateForm() {\n  useRedirect(\"loggedOut\");\n  const [errors, setErrors] = useState({});\n\n  const [categories, setCategories] = useState(\"\");\n\n  const [postData, setPostData] = useState({\n    content: \"\",\n    image: \"\",\n    category: \"\",\n  });\n\n  //   destructuring content & image\n  const { content, image, category } = postData;\n\n  const imageInput = useRef(null);\n  const history = useHistory();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    /* fetching and setting categories\n    used in the form dropdown */\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n        console.log(data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  const handleChangePost = (e) => {\n    // post change handler\n    setPostData({\n      ...postData,\n      content: e.target.value,\n    });\n  };\n\n  // copied from Moments lessons\n  const handleChangeImage = (e) => {\n    // image change handler\n    // checking if there is a file\n    console.log(e.target.files.length);\n    if (e.target.files.length) {\n      // revokeObjectURL is used to clear browser's reference to the previous file\n      // used in cases when user decides to use a different image after upload\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(e.target.files[0]),\n      });\n    }\n  };\n\n  const handleChangeCategory = (e) => {\n    // category change handler\n    setPostData({\n      ...postData,\n      category: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // submit function\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"content\", content);\n    // check if there is a file to be appended\n    if (imageInput.current.files.length !== 0) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"category\", category);\n\n    console.log(\"formdata\", formData);\n\n    // copied from Moments lessons\n    // because we're sending image as well as text to our API,\n    // we need to refresh our user's access token before making the request\n    try {\n      const { data } = await axiosRequest.post(\"/posts/\", formData);\n      console.log(data);\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const categoryField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label htmlFor=\"category\">Category</Form.Label>\n        <Form.Control\n          as=\"select\"\n          aria-label=\"tbd\"\n          id=\"category\"\n          defaultValue=\"Category\"\n          onChange={handleChangeCategory}\n        >\n          <option disabled>Category</option>\n          {categories.results?.map((category) => (\n            <option key={category.id} value={category.id}>\n              {category.name}: {category.description}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      {errors.category?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const textField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={4}\n          name=\"content\"\n          placeholder=\"Type your post\"\n          value={content}\n          onChange={handleChangePost}\n        />\n      </Form.Group>\n      {errors.content?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const imageField = (\n    <div>\n    <Form.Group>\n    {image ? (\n      <>\n        <figure>\n          <Image className={authStyles.Image} src={image} rounded />\n        </figure>\n        <div className=\"mr-auto text-right\">\n          <Form.Label\n            className={`${bttnStyles.Button} btn`}\n            htmlFor=\"image-upload\"\n          >\n            Change the image\n          </Form.Label>\n        </div>\n      </>\n    ) : (\n      <Form.Label\n        className={`${bttnStyles.Button} text-center ${smallScreen ? styles.ButtonRight : bttnStyles.Wide}`}\n        htmlFor=\"image-upload\"\n      >\n        <Asset\n          message=\"Click or tap to upload an image\"\n        />\n      </Form.Label>\n    )}\n    <Form.File\n      id=\"image-upload\"\n      accept=\"image/*\"\n      onChange={handleChangeImage}\n      ref={imageInput}\n      hidden\n    />\n  </Form.Group>\n  {errors.image?.map((message, idx) => (\n    <Alert variant=\"warning\" key={idx}>\n      {message}\n    </Alert>\n  ))}\n  </div>\n  )\n\n  const buttonField = (\n    <div className=\"text-right\">\n    <Button\n    className={`${bttnStyles.Button} m-2`}\n    onClick={() => history.goBack()}\n  >\n    Cancel\n  </Button>\n  <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n    Post\n  </Button>\n  </div>\n  )\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n      {smallScreen ? (\n        <>\n        <Col className=\"p-0 p-md-2\">\n        <Container className={appStyles.Content}>\n          <div>{textField}</div>\n          <div>{categoryField}</div>\n          <div className=\"p-2\">{imageField}</div>\n          <div>{buttonField}</div>\n        </Container>\n      </Col>\n      </>\n      ) : (\n        <>\n        <Col md={8} className=\"p-0 p-md-2\">\n        <Container className={appStyles.Content}>\n          <div>{textField}</div>\n          <div>{categoryField}</div>\n          <div>{buttonField}</div>\n        </Container>\n      </Col>\n      <Col className=\"py-2 p-0 p-md-2\" md={4}>\n        <Container\n          className={`${appStyles.Content} ${styles.Container}`}\n        >\n          <div className=\"p-2\">{imageField}</div>\n        </Container>\n      </Col>\n      </>\n      )}\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostCreateForm;\n","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport styles from \"../styles/Dropdowns.module.css\";\nimport { useHistory } from \"react-router\";\n\n// copied from Moments!\n\n// The forwardRef is important!!\n// Dropdown needs access to the DOM node in order to position the Menu\n// React-bootstrap uses the forwardRef method to pass the ref into our function as a second argument.\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n  <i\n    className=\"fas fa-ellipsis-v\"\n    ref={ref}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  />\n));\n\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\n  return (\n    // drop left positions dropdown to the left of the button\n    <Dropdown className=\"ml-auto\" drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n\n      <Dropdown.Menu\n      className={`text-center ${styles.DropdownBackground}`}\n        popperConfig={{ strategy: \"fixed\" }}\n      >\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleEdit}\n          aria-label=\"edit\"\n        >\n          <i className={`fas fa-edit ${styles.DropdownIcon}`} />\n        </Dropdown.Item>\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleDelete}\n          aria-label=\"delete\"\n        >\n          <i className={`fas fa-trash-alt ${styles.DropdownIcon}`} />\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\nexport function ProfileEditDropdown({ id }) {\n  const history = useHistory();\n  return (\n    <Dropdown className={`px-3 m-4 ${styles.Absolute}`} drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n      <Dropdown.Menu className={`text-center ${styles.DropdownBackground}`}>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit`)}\n          aria-label=\"edit-profile\"\n        >\n          <i className={`fas fa-edit ${styles.DropdownIcon}`} /> edit profile\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/username`)}\n          aria-label=\"edit-username\"\n        >\n          <i className={`far fa-id-card ${styles.DropdownIcon}`} />\n          Change username\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/password`)}\n          aria-label=\"edit-password\"\n        >\n          <i className={`fas fa-key ${styles.DropdownIcon}`}/>\n          Change password\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n}\n","import React from \"react\";\nimport styles from \"../../styles/Post.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport {\n  Container,\n  Row,\n  Card,\n  Col,\n  Media,\n  OverlayTrigger,\n  Tooltip,\n} from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Avatar from \"../../components/Avatar\";\nimport { MoreDropdown } from \"../../components/Dropdowns\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\n// temporarily copied from Moments, modified\nconst Post = (props) => {\n  const {\n    id,\n    owner,\n    content,\n    modified,\n    image,\n    profile_id,\n    profile_avatar,\n    like_id,\n    comments_count,\n    likes_count,\n    category_name,\n    saved_id,\n    saved_count,\n    // adding prop from PostPage.js\n    postPage,\n    // adding prop from ProfilePage.js\n    profilePage,\n    // passed from parent components to update the likes/saves.\n    setPosts,\n    setCurrentPosts,\n  } = props;\n\n  const currentUser = useCurrentUser();\n  // assigning boolean value to is_owner.\n  const is_owner = currentUser?.username === owner;\n  const history = useHistory();\n\n  // copied from Moments\n  const handleEdit = () => {\n    history.push(`/posts/${id}/edit`);\n  };\n\n  // copied from Moments\n  // tbd if asking for confirmation would benefit or annoy the user\n  const handleDelete = async () => {\n    try {\n      await axiosResponse.delete(`/posts/${id}/`);\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons with changes\n  const handleSave = async () => {\n      /* Function saves a post, increases the number of saves on the post */\n      try {\n        // save id is needed so the API knows which post is being saved\n        const { data } = await axiosResponse.post(\"/saved/\", { post: id });\n        if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we saved.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? {\n                  ...post,\n                  saved_count: post.saved_count + 1,\n                  saved_id: data.id,\n                }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we saved.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? {\n                  ...post,\n                  saved_count: post.saved_count + 1,\n                  saved_id: data.id,\n                }\n              : post;\n          }),\n        }));\n      }} catch (err) {\n        console.log(err);\n      }\n  };\n\n  // built based off of Moments lessons with changes\n  const handleUnsave = async () => {\n      /* Function unsaves a post, decreases the number of saves on the post */\n      try {\n        await axiosResponse.delete(`/saved/${saved_id}/`);\n        if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, saved_count: post.saved_count - 1, saved_id: null }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, saved_count: post.saved_count - 1, saved_id: null }\n              : post;\n          }),\n        }));\n      }\n      } catch (err) {\n        console.log(err);\n      }\n    } \n\n  // built based off of Moments lessons\n  const handleLike = async () => {\n      /* Function likes a post, increases the number of likes on the post */\n      try {\n        // like id is needed so the API knows which post is being liked\n        const { data } = await axiosResponse.post(\"/likes/\", { post: id });\n        if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we liked.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we liked.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\n              : post;\n          }),\n        }));\n      }\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n  // built based off of Moments lessons\n  const handleUnlike = async () => {\n      /* Function unlikes a post, decreases the number of likes on the post */\n      try {\n        await axiosResponse.delete(`/likes/${like_id}/`);\n        if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count - 1, like_id: null }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count - 1, like_id: null }\n              : post;\n          }),\n        }));\n      }} catch (err) {\n        console.log(err);\n      }\n    } \n\n  return (\n    <Card className={styles.Post}>\n      <Card.Body>\n        <Media\n          className={`${styles.PostHeader} d-flex justify-content-between`}\n        >\n          {/* link wrapped around header */}\n          <Col>\n            <Link to={`/profiles/${profile_id}/`}>\n              <Avatar src={profile_avatar} height={45} />\n              {owner}\n            </Link>\n          </Col>\n          {/* displaying when the post was last updated */}\n          <Col className=\"mt-2 text-right d-flex justify-content-end p-0 pt-1\">\n            <span>{modified}</span>\n            {/* ... are placeholder for dropdown menu, we are now testing if logic works */}\n            <span className=\"ml-3\">\n              {is_owner && postPage && (\n                <MoreDropdown\n                  handleEdit={handleEdit}\n                  handleDelete={handleDelete}\n                />\n              )}\n            </span>\n          </Col>\n        </Media>\n        <Link to={`/posts/${id}/`}>\n          {/* checking if category_name content and image props have been passed before we render them */}\n          {category_name && (\n            <span className={styles.Category}>{category_name}</span>\n          )}\n          {content && (\n            <span className={`text-left ${styles.PostText}`}>{content}</span>\n          )}\n          {/* reminder, image is not mandatory */}\n          {image && <Card.Img className={styles.PostImage} src={image} />}\n        </Link>\n      </Card.Body>\n      <Card.Body>\n        <div>\n          <Container>\n            <Row className=\"justify-content-around text-center\">\n              {/* tbd if all hearts will use the same icon, classes added to test visual representation */}\n              <Col className={styles.IconText}>\n                {/* like logic */}\n                {is_owner ? (\n                  // using OverlayTrigger and Tooltip to display a tooltip for the owner.\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>You can't like your own post!</Tooltip>}\n                  >\n                    <i className=\"fas fa-heart mt-1\" />\n                  </OverlayTrigger>\n                ) : like_id ? (\n                  // if like_id exists, user already liked the post\n                  <span onClick={handleUnlike}>\n                    <i className={`far fa-heart mt-1 ${styles.IconText}`} />\n                  </span>\n                ) : currentUser ? (\n                  // if user is logged in, they can like the post\n                  <span onClick={handleLike}>\n                    <i className={`fas fa-heart mt-1 ${styles.PostText}`} />\n                  </span>\n                ) : (\n                  // display tooltip for non-user\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>Log in to like a post!</Tooltip>}\n                  >\n                    <i className=\"fas fa-heart mt-1\" />\n                  </OverlayTrigger>\n                )}\n                {/* number of likes */}\n                {likes_count}\n              </Col>\n              <Col className={styles.IconText}>\n                {/* comments icon leads to the post page */}\n                <Link to={`/posts/${id}`} className={styles.IconText}>\n                  {/* post text hover needed to align visual representation? tbd */}\n                  <i className={`far fa-comments ${styles.PostText}`} />\n                  {/* number of comments */}\n                  {comments_count}\n                </Link>\n              </Col>\n              <Col>\n                {currentUser && !is_owner && (\n                  <span\n                    onClick={saved_id == null ? handleSave : handleUnsave}\n                    className={styles.IconText}\n                  >\n                    <i\n                      className={\n                        saved_id !== null\n                          ? `fa-brands fa-earlybirds ${styles.IconText}`\n                          : `fa-solid fa-egg ${styles.PostText}`\n                      }\n                    />\n                    {saved_count}\n                  </span>\n                )}\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default Post;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\"\n\n// based off of Moments, with various changes\nfunction CommentCreateForm(props) {\n  const { post, setPost, setComments, profile_id } = props;\n  const [content, setContent] = useState(\"\");\n\n  const currentUser = useCurrentUser();\n\n    // screen width check\n    const smallScreen = useScreenWidth();\n\n  const handleChange = (e) => {\n    // update comment content\n    setContent(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const { data } = await axiosResponse.post(\"/comments/\", {\n        content,\n        post,\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: [data, ...prevComments.results],\n      }));\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            comments_count: prevPost.results[0].comments_count + 1,\n          },\n        ],\n      }));\n      setContent(\"\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group>\n        <InputGroup>\n          <Link to={`/profiles/${profile_id}`}>\n            <Avatar\n              src={currentUser?.profile_avatar}\n              text={currentUser?.username}\n              height={smallScreen ? 35 : 40}\n            />\n          </Link>\n          <Form.Control\n            as=\"textarea\"\n            className=\"ml-2 ml-md-3\"\n            placeholder=\"Type comment...\"\n            rows={smallScreen ? 4 : 2}\n            value={content}\n            onChange={handleChange}\n  \n          />\n        </InputGroup>\n      </Form.Group>\n      <button\n        className={`${bttnStyles.Button} d-block ml-auto`}\n        disabled={!content.trim()}\n        type=\"submit\"\n      >\n        Comment\n      </button>\n    </Form>\n  );\n}\n\nexport default CommentCreateForm;\n","import React, { useState } from \"react\";\n\n\nimport Form from \"react-bootstrap/Form\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\nimport bttnStyles from \"../../styles/Button.module.css\"\n\n// based off of Moments, with some changes\nfunction CommentEditForm(props) {\n  const { id, content, setShowEditForm, setComments } = props;\n\n\n  const [formContent, setFormContent] = useState(content);\n\n\n  const handleChange = (event) => {\n    setFormContent(event.target.value);\n  };\n\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosResponse.put(`/comments/${id}/`, {\n        content: formContent.trim(),\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: prevComments.results.map((comment) => {\n          return comment.id === id\n            ? {\n                ...comment,\n                content: formContent.trim(),\n                modified: \"now\",\n              }\n            : comment;\n        }),\n      }));\n      setShowEditForm(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group>\n        <Form.Control\n          as=\"textarea\"\n          value={formContent}\n          onChange={handleChange}\n          rows={2}\n        />\n      </Form.Group>\n      <div className=\"text-right\">\n        <button\n          className={`${bttnStyles.Button} mr-1`}\n          onClick={() => setShowEditForm(false)}\n          type=\"button\"\n        >\n          Cancel\n        </button>\n        <button\n          className={bttnStyles.Button}\n          disabled={!content.trim()}\n          type=\"submit\"\n        >\n          Update\n        </button>\n      </div>\n    </Form>\n  );\n}\n\n\nexport default CommentEditForm;\n","import { Media } from \"react-bootstrap\";\nimport styles from \"../styles/Comment.module.css\";\n\nimport React, { useState } from \"react\";\nimport Avatar from \"../components/Avatar\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport useScreenWidth from \"../hooks/useScreenWidth\";\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\nimport { MoreDropdown } from \"./Dropdowns\";\nimport { axiosResponse } from \"../api/axiosDefaults\";\n\nimport CommentEditForm from \"../pages/comments/CommentEditForm\";\n\nconst Comment = (props) => {\n  const {\n    profile_id,\n    // tbd is it needed?\n    profile_avatar,\n    owner,\n    modified,\n    content,\n    id,\n    // passed down from PostPage\n    setPost,\n    setComments,\n  } = props;\n\n    // adding state to toggle EditForm\n    const [showEditForm, setShowEditForm] = useState(false);\n\n  // currentUser from  custom context\n  const currentUser = useCurrentUser();\n  // checking if current user's username matches owner's\n  const is_owner = currentUser?.username === owner;\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  // copied from Moments\n  const handleDelete = async () => {\n    try {\n      await axiosResponse.delete(`/comments/${id}/`);\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            // reducing comment count by 1\n            comments_count: prevPost.results[0].comments_count - 1,\n          },\n        ],\n      }));\n      setComments((prevComments) => ({\n        ...prevComments,\n        // we want to filter for the id of comment we are removing\n        results: prevComments.results.filter((comment) => comment.id !== id),\n      }));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"mt-2\">\n      <Media>\n        <Link to={`/profiles/${profile_id}`}>\n          <Avatar src={profile_avatar} height={smallScreen ? 35 : 40} />\n        </Link>\n        <Media.Body>\n          <span className={styles.Commenter}>{owner}</span>\n          <span className={styles.ModifiedDate}>{modified}</span>\n          {/* ternary deciding if the form should show */}\n          {showEditForm ? (\n            <CommentEditForm\n            id={id}\n            profile_id={profile_id}\n            content={content}\n            setComments={setComments}\n            setShowEditForm={setShowEditForm}\n          />\n          ) : (\n            <p>{content}</p>\n          )}\n        </Media.Body>\n        {is_owner && !showEditForm && (\n          <MoreDropdown\n            handleEdit={() => setShowEditForm(true)}\n            handleDelete={handleDelete}\n          />\n        )}\n      </Media>\n    </div>\n  );\n};\n\nexport default Comment;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport appStyles from \".././App.module.css\";\nimport Asset from \".././components/Asset\";\nimport { Image } from \"react-bootstrap\";\nimport styles from \".././styles/Adds.module.css\";\n\nconst Add = () => {\n  const [advertisements, setAdvertisements] = useState(\"\");\n  const [selectedAdd, setSelectedAdd] = useState(\"\");\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    // fetching existing Advertisements\n    const fetchAdds = async () => {\n      try {\n        const { data } = await axios.get(\"/advertisements/\");\n        setAdvertisements(data);\n        setIsLoaded(true)\n        // console.log(\"advertisements\", advertisements);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    // setIsLoaded(false)\n    fetchAdds();\n  }, []);\n\n  useEffect(() => {\n    if (isLoaded && advertisements.results.length > 0) {\n      const randomSelect = Math.floor(Math.random() * advertisements.results.length);\n      setSelectedAdd(advertisements.results[randomSelect]);\n    }\n  }, [advertisements, isLoaded]);\n\n    useEffect(() => {\n    console.log(selectedAdd)\n  }, [selectedAdd])\n\n  return (\n    <div className={`${appStyles.Content}`}>\n      {selectedAdd && isLoaded ? (\n          <div>\n            <Image\n              className={styles.AddImage}\n              src={selectedAdd?.image}\n              alt={selectedAdd?.alt}\n            ></Image>\n            <p className={`${styles.AddText} text-center mt-5`}>{selectedAdd?.description}</p>\n          </div>\n        ) : (\n          <Asset spinner />\n        )}\n    </div>\n  );\n};\n\nexport default Add;\n","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport appStyles from \"../../App.module.css\";\nimport postStyles from \"../../styles/Post.module.css\";\nimport styles from \"../../styles/PostPage.module.css\";\n\nimport Post from \"./Post\";\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Comment from \"../../components/Comment\";\nimport PopularCategories from \"../../components/PopularCategories\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\nimport Add from \"../../components/Add\";\n\n// modelled after Moments lessons\nfunction PostPage() {\n  const { id } = useParams();\n  // setting an initial value as an empty array in useState to make all the future logic compatible with arrays of objects.\n  // this way it doesn't matter if we're getting a single object or array of posts.\n  const [post, setPost] = useState({ results: [] });\n\n  const currentUser = useCurrentUser();\n  const [comments, setComments] = useState({ results: [] });\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    // handleMount to fetch the post on mount.\n    const handleMount = async () => {\n      try {\n        // we'll eventually be making 2 requests - posts, comments.\n        // destructuring and renaming variable (to post) in place.\n        // it is called renaming with an object key.\n        // Promises.all accepts an array of promises and gets resolved when all promises get resolved, returning an array of data.\n        // If any of the promises fail, Promise.all gets rejected w/an error.\n        const [{ data: post }, { data: comments }] = await Promise.all([\n          // fetching the posts\n          axiosRequest.get(`/posts/${id}/`),\n          // fetching the comments\n          axiosRequest.get(`/comments/?post=${id}`),\n        ]);\n        console.log(\"post\", post);\n        // using setPost func to update the results array in the state to contain a post\n        setPost({ results: [post] });\n        // setting Comments\n        setComments(comments);\n        console.log(\"comments\", comments);\n        // clg post to check that this is working\n        console.log(post);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    // calling handleMount and running the code every time the id in the url changes.\n    handleMount();\n  }, [id]);\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        <Post {...post.results[0]} setPosts={setPost} postPage />\n        <Container\n          className={`${appStyles.Content} ${postStyles.PostText} ${styles.CommentFormWidth}`}\n        >\n          {/* tbd if conditional needs changing */}\n          {currentUser ? (\n            <CommentCreateForm\n              profile_id={currentUser.profile_id}\n              post={id}\n              setPost={setPost}\n              setComments={setComments}\n            />\n          ) : comments.results.length ? (\n            \"Comments\"\n          ) : null}\n          {comments.results.length ? (\n            // if there are comments, they're shown\n            comments.results.map((comment) => (\n              <Comment\n                key={comment.id}\n                {...comment}\n                setPost={setPost}\n                setComments={setComments}\n              />\n            ))\n          ) : // if there are no comments, we are checking if user is logged in\n          currentUser ? (\n            <span>No comments yet, be the first to comment.</span>\n          ) : (\n            // if the user is not logged in\n            <span>No comments...yet. Log in to comment.</span>\n          )}\n        </Container>\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default PostPage;\n","import React, { useEffect, useState } from \"react\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport Post from \"./Post\";\nimport Asset from \"../../components/Asset\";\nimport { useLocation } from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport appStyles from \"../../App.module.css\";\n\nimport axios from \"axios\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport PopularCategories from \"../../components/PopularCategories\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport Add from \"../../components/Add\";\n\n// modelled after Moments lessons\nfunction PostsPage({ message, filter = \"\", selectedCategory = \"\" }) {\n  const [posts, setPosts] = useState({ results: [] });\n  // keeping track if all data has loaded\n  const [isLoaded, setIsLoaded] = useState(false);\n  // we'll have to re-fetch posts again when user clicks between home, feed and liked pages.\n  // to detect location, we'll use useLocation react router hook.\n  const { pathname } = useLocation();\n\n  // attemting to fix loading issues when not logged in\n  const currentUser = useCurrentUser();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        // the request string will contain filter parameter, which comes from the filter prop we set in routes.\n        // tells API if we want to see all posts or certain ones.\n        if (currentUser == null) {\n          const { data } = await axios.get(`/posts/?${filter}/`);\n          setPosts(data);\n        } else {\n          const { data } = await axiosRequest.get(`/posts/?${filter}/`);\n          setPosts(data);\n        }\n        // setting IsLoaded to true so spinner no longer spins.\n        setIsLoaded(true);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    // we want spinner displayed before we fetch posts.\n    setIsLoaded(false);\n    // we want this called any time filter or url changes.\n    fetchPosts();\n  }, [filter, pathname, currentUser]);\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        {/* ternary to display spinner or posts */}\n        {isLoaded ? (\n          // nested ternary to display posts or message.\n          <>\n            {posts.results.length ? (\n              <InfiniteScroll\n                // child component will tell our Infinite Scroll component which child components we want it to render.\n                children={\n                  // map over posts and render each one\n                  posts.results.map((post) => (\n                    // setPosts is needed to like posts.\n                    <Post key={post.id} {...post} setPosts={setPosts} />\n                  ))\n                }\n                // how many posts are displayed\n                dataLength={posts.results.length}\n                // loader\n                loader={<Asset spinner />}\n                // check if there is more data to display\n                // we use double not operator, returns true for truthy and false for falsy values\n                // next is set to null if there are no more posts left\n                hasMore={!!posts.next}\n                // if hasMore is true, loads more\n                next={fetchMoreData(posts, setPosts)}\n              />\n            ) : (\n              // show no results asset\n              <Container className={appStyles.Content}>\n                {/* message we passed down */}\n                <Asset message={message} />\n              </Container>\n            )}\n          </>\n        ) : (\n          // spinner\n          <Container className={appStyles.Content}>\n            <Asset spinner />\n          </Container>\n        )}\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories selectedCategory={selectedCategory} />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default PostsPage;\n","import React, { useEffect, useRef, useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\n\nimport Asset from \"../../components/Asset\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\nimport axios from \"axios\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nfunction PostEditForm() {\n  const [errors, setErrors] = useState({});\n\n  const [categories, setCategories] = useState(\"\");\n\n  const [postData, setPostData] = useState({\n    content: \"\",\n    image: \"\",\n    category: \"\",\n  });\n\n  const { content, image, category } = postData;\n  // const { content, image } = postData;\n\n  // We use this useRef hook to maintain a reference to the form file upload element. Note it has a ref prop where we give it this hook below.\n  const imageInput = useRef(null);\n\n  // We use this useHistory hook to redirect the user.\n  const history = useHistory();\n\n  const { id } = useParams();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n        console.log(data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        const { data } = await axiosRequest.get(`/posts/${id}/`);\n        // const { content, image, is_owner } = data;\n        const { content, image, category, is_owner } = data;\n        console.log(data);\n        // if user is owner, prepopulate the post, else redirect\n        is_owner\n          ? setPostData({ content, image, category })\n          // ? setPostData({ content, image })\n          : history.push(\"/\");\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    fetchPost();\n    // dependency array takes history and id.\n  }, [history, id]);\n\n  const handleChangePost = (e) => {\n    // post change handler\n    setPostData({\n      ...postData,\n      content: e.target.value,\n    });\n  };\n\n  // copied from Moments lessons\n  const handleChangeImage = (e) => {\n    // image change handler\n    // checking if there is a file\n    console.log(e.target.files.length);\n    if (e.target.files.length) {\n      // revokeObjectURL is used to clear browser's reference to the previous file\n      // used in cases when user decides to use a different image after upload\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(e.target.files[0]),\n      });\n    }\n  };\n\n  const handleChangeCategory = (e) => {\n    // category change handler\n    setPostData({\n      ...postData,\n      category: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // submit function\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"content\", content);\n    // check if there is a file to be appended\n    if (imageInput.current.files.length !== 0) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"category\", category);\n\n    console.log(\"formdata\", formData);\n    // copied from Moments lessons\n    // because we're sending image as well as text to our API,\n    // we need to refresh our user's access token before making the request\n    try {\n      const { data } = await axiosRequest.put(`/posts/${id}/`, formData);\n      console.log(data);\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const categoryField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label htmlFor=\"category\">Category</Form.Label>\n        <Form.Control\n          as=\"select\"\n          aria-label=\"tbd\"\n          id=\"category\"\n          // defaultValue=\"Category\"\n          onChange={handleChangeCategory}\n        >\n          <option disabled>Category</option>\n          {categories.results?.map((category) => (\n            <option key={category.id} value={category.id}>\n              {category.name}: {category.description}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      {errors.category?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const textField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={4}\n          name=\"content\"\n          placeholder=\"Type your post\"\n          value={content}\n          onChange={handleChangePost}\n        />\n      </Form.Group>\n      {errors.content?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const imageField = (\n    <div>\n      <Form.Group>\n        {image ? (\n          <>\n            <figure>\n              <Image className={authStyles.Image} src={image} rounded />\n            </figure>\n            <div className=\"mr-auto text-right\">\n              <Form.Label\n                className={`${bttnStyles.Button} btn`}\n                htmlFor=\"image-upload\"\n              >\n                Change the image\n              </Form.Label>\n            </div>\n          </>\n        ) : (\n          <Form.Label\n            className={`${bttnStyles.Button} text-center ${\n              smallScreen ? styles.ButtonRight : bttnStyles.Wide\n            }`}\n            htmlFor=\"image-upload\"\n          >\n            <Asset message=\"Click or tap to upload an image\" />\n          </Form.Label>\n        )}\n        <Form.File\n          id=\"image-upload\"\n          accept=\"image/*\"\n          onChange={handleChangeImage}\n          ref={imageInput}\n          hidden\n        />\n      </Form.Group>\n      {errors.image?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const buttonField = (\n    <div className=\"text-right\">\n      <Button\n        className={`${bttnStyles.Button} m-2`}\n        onClick={() => history.goBack()}\n      >\n        Cancel\n      </Button>\n      <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n        Update\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        {smallScreen ? (\n          <>\n            <Col className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div className=\"p-2\">{imageField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n          </>\n        ) : (\n          <>\n            <Col md={8} className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n            <Col className=\"py-2 p-0 p-md-2\" md={4}>\n              <Container className={`${appStyles.Content} ${styles.Container}`}>\n                <div className=\"p-2\">{imageField}</div>\n              </Container>\n            </Col>\n          </>\n        )}\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostEditForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport Asset from \"../../components/Asset\";\n\nimport styles from \"../../styles/ProfilePage.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\n\nimport PopularCategories from \"../../components/PopularCategories\";\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\nimport { axiosRequest, axiosResponse } from \"../../api/axiosDefaults\";\nimport { useParams } from \"react-router-dom\";\nimport { Button, Image } from \"react-bootstrap\";\n\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Post from \"../posts/Post\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport { ProfileEditDropdown } from \"../../components/Dropdowns\";\nimport Add from \"../../components/Add\";\n\n// built following Moments lessons, with major changes\nfunction ProfilePage() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  // extracting id from the url to know which profile to fetch\n  const { id } = useParams();\n\n\n  const [currentProfile, setCurrentProfile] = useState()\n  const [currentPosts, setCurrentPosts] = useState({ results: [] })\n  const currentUser = useCurrentUser();\n  const [currentUserProfile, setCurrentUserProfile] = useState()\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  const FetchProfileData = async () => {\n    /* Function fetches current profile\n    and current profile posts */\n    try {\n      const [profile, posts] = await Promise.all([\n        axiosRequest.get(`/profiles/${id}/`),\n        axiosRequest.get(`/posts/?owner__profile=${id}`)\n      ])\n      setCurrentProfile(profile.data);\n      setCurrentPosts(posts.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const FetchCurrentUserProfile = async () => {\n    /* Function fetches current user profile */\n    try {\n      console.log(\"id\", currentUser.profile_id)\n      const profile = await axiosRequest.get(`/profiles/${currentUser.profile_id}/`);\n      console.log(profile.data)\n      setCurrentUserProfile(profile.data)\n      console.log(\"CURRENT USER PROFILE\", currentUserProfile);\n    } catch (err) {\n      console.log(err);\n  };\n}\n\n  useEffect(() => {\n    /* Generates a warning in the console,\n    however, moving function within useEffect does not solve the issue,\n    but makes it worse. */\n    FetchProfileData();\n    if (currentUser) {\n      FetchCurrentUserProfile();\n    }\n    setIsLoaded(true)\n  }, [id, currentUser?.profile_id]);\n\n  const handleFollow = async () => {\n    /* Function updates current profile and \n    current user profile data after following them */\n    try {\n      // destructuring data property from the response object\n      const { data } = await axiosResponse.post(\"/followers/\", {\n        // data sent is what profile user followed\n        followed: currentProfile.id,\n      });\n      setCurrentProfile(prevCurrentProfile => ({\n        ...prevCurrentProfile,\n        followers_count: currentProfile.followers_count + 1,\n        following_id: data.id,\n    }))\n    setCurrentUserProfile(prevCurrentUserProfile => ({\n      ...prevCurrentUserProfile,\n      following_count: currentUserProfile.followers_count + 1,\n    }))\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n    const handleUnfollow = async () => {\n    /* Function updates current profile and \n    current user profile data after following them */\n    try {\n      await axiosResponse.delete(`/followers/${currentProfile.following_id}/`);\n      setCurrentProfile(prevCurrentProfile => ({\n        ...prevCurrentProfile,\n        followers_count: currentProfile.followers_count - 1,\n        following_id: null,\n      }))\n      setCurrentUserProfile(prevCurrentUserProfile => ({\n        ...prevCurrentUserProfile,\n        following_count: currentUserProfile.followers_count - 1,\n      }))\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const mainProfile = (\n    <>\n    {currentProfile?.is_owner && <ProfileEditDropdown id={currentProfile?.id} />}\n      <Row noGutters className={`text-center ${appStyles.Content}`}>\n        <Col md={2} className=\" mt-1 offset-lg-0\">\n          <Image\n            className={`${styles.ProfileAvatar}`}\n            roundedCircle\n            src={currentProfile?.avatar}\n          />\n        </Col>\n        <Col md={5} className=\"mt-1 align-content-center\">\n          <h3 className={styles.ProfileUsername}>{currentProfile?.owner}</h3>\n        </Col>\n        <Col\n          md={3}\n          className=\"mt-1 offset-md-2 text-lg-right d-flex justify-content-end pr-3\"\n        >\n          {currentUser && !currentProfile?.is_owner &&\n            (currentProfile?.following_id ? (\n              <Button\n                className={bttnStyles.Button}\n                onClick={handleUnfollow}\n              >\n                Unfollow\n              </Button>\n            ) : (\n              <Button\n                className={bttnStyles.Button}\n                onClick={handleFollow}\n              >\n                Follow\n              </Button>\n            ))\n            }\n        </Col>\n        <Col className={`${styles.ProfileText} align-content-center`}>\n          {/* user stats */}\n          <Row className=\"justify-content-center no-gutters mt-2\">\n            <Col xs={3} className=\"pr-4\">\n              <div>{currentProfile?.posts_count}</div>\n              <span>Posts</span>\n            </Col>\n            <Col xs={3} className=\"pr-2\">\n              <div>{currentProfile?.followers_count}</div>\n              <span>Followers</span>\n            </Col>\n            <Col xs={3} className=\"pl-2\">\n              <div>{currentProfile?.following_count}</div>\n              <span>Following</span>\n            </Col>\n            <Col xs={3} className=\"pl-4\">\n              <div>{currentProfile?.saved_count}</div>\n              <span>Status</span>\n            </Col>\n          </Row>\n        </Col>\n          <Col xs={12} className={`${styles.ProfileText} text-left mt-3`}>\n        <div><strong>Name: </strong>{currentProfile?.name}</div>\n        <div className=\"mt-2\"><strong>Bio: </strong>{currentProfile?.bio}</div>\n        </Col>\n      </Row>\n      </>\n  );\n\n  const mainProfilePosts = (\n    <>\n      {currentPosts.results.length ? (\n        <InfiniteScroll\n          children={currentPosts.results.map((post) => (\n            <Post key={post.id} {...post} className={appStyles.Content} setCurrentPosts={setCurrentPosts} profilePage />\n          ))}\n          dataLength={currentPosts.results.length}\n          loader={<Asset spinner />}\n          hasMore={!!currentPosts.next}\n          next={() => fetchMoreData(currentPosts, currentPosts)}\n        />\n      ) : (\n        <div className={`${appStyles.Content}`}>\n        <Asset\n          message={`${currentProfile?.owner} hasn't posted yet.`}\n        />\n        </div>\n      )}\n    </>\n\n  );\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        <Container >\n          {isLoaded ? (\n            <>\n              {mainProfile}\n              {smallScreen && \n                <Add />\n              }\n              {mainProfilePosts}\n            </>\n          ) : (\n            <Asset spinner />\n          )}\n        </Container>\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default ProfilePage;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\n\nimport bird from \"../../assets/bird.jpg\";\n\n// based off of Moments with some adjustments\nconst EditUsernameForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  const { id } = useParams();\n\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() === id) {\n      setUsername(currentUser.username);\n    } else {\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axiosResponse.put(\"/dj-rest-auth/user/\", {\n        username,\n      });\n      setCurrentUser((prevUser) => ({\n        ...prevUser,\n        username,\n      }));\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={authStyles.Header}>Change Username</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group>\n              <Form.Label>Change username</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <div className=\"text-right\">\n              <Button\n                className={`${bttnStyles.Button} mr-1`}\n                onClick={() => history.goBack()}\n              >\n                Cancel\n              </Button>\n              <Button className={`${bttnStyles.Button}`} type=\"submit\">\n                Save\n              </Button>\n              {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n              ))}\n            </div>\n          </Form>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${authStyles.AuthCol}`}\n      >\n        <Image\n          className={`${authStyles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default EditUsernameForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\n\nimport bird from \"../../assets/bird.jpg\";\n\n// copied from Moments with minor adjustments\nconst UserEditPasswordForm = () => {\n  const history = useHistory();\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n\n  const [userData, setUserData] = useState({\n    new_password1: \"\",\n    new_password2: \"\",\n  });\n  const { new_password1, new_password2 } = userData;\n\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (e) => {\n    setUserData({\n      ...userData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() !== id) {\n      // redirect user if they are not the owner of this profile\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axiosResponse.post(\"/dj-rest-auth/password/change/\", userData);\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={authStyles.Header}>Change Password</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"new_password1\">\n              <Form.Label className=\"d-none\">New password</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"New password\"\n                type=\"password\"\n                value={new_password1}\n                onChange={handleChange}\n                name=\"new_password1\"\n              />\n            </Form.Group>\n            {errors?.new_password1?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <Form.Group controlId=\"new_password2\">\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"Confirm new password\"\n                type=\"password\"\n                value={new_password2}\n                onChange={handleChange}\n                name=\"new_password2\"\n              />\n            </Form.Group>\n            {errors?.new_password2?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <div className=\"text-right\">\n              <Button\n                className={`${bttnStyles.Button} mr-1`}\n                onClick={() => history.goBack()}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" className={`${bttnStyles.Button}`}>\n                Save\n              </Button>\n              {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n              ))}\n            </div>\n          </Form>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${authStyles.AuthCol}`}\n      >\n        <Image\n          className={`${authStyles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default UserEditPasswordForm;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport { axiosRequest } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport postFormStyles from \"../../styles/PostCreateEditForm.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\"\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\"\n\n// based off of Moments with many adjustments\nconst EditProfileForm = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const { id } = useParams();\n  const history = useHistory();\n  const imageFile = useRef();\n\n  const [profileData, setProfileData] = useState({\n    name: \"\",\n    bio: \"\",\n    avatar: \"\",\n  });\n  const { name, bio, avatar } = profileData;\n\n  const [errors, setErrors] = useState({});\n\n // screen width check\n const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      if (currentUser?.profile_id?.toString() === id) {\n        try {\n          const { data } = await axiosRequest.get(`/profiles/${id}/`);\n          const { name, bio, avatar } = data;\n          setProfileData({ name, bio, avatar });\n        } catch (err) {\n          console.log(err);\n          history.push(\"/\");\n        }\n      } else {\n        history.push(\"/\");\n      }\n    };\n    handleMount();\n  }, [currentUser, history, id]);\n\n  const handleChange = (e) => {\n    setProfileData({\n      ...profileData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"bio\", bio);\n\n    if (imageFile?.current?.files[0]) {\n      formData.append(\"avatar\", imageFile?.current?.files[0]);\n    }\n\n    try {\n      const { data } = await axiosRequest.put(`/profiles/${id}/`, formData);\n      setCurrentUser((currentUser) => ({\n        ...currentUser,\n        profile_avatar: data.avatar,\n      }));\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  const avatarField = (\n    <Form.Group>\n    {avatar && (\n      <figure>\n        <Image className={authStyles.Image} src={avatar} fluid />\n      </figure>\n    )}\n    {errors?.avatar?.map((message, idx) => (\n      <Alert variant=\"warning\" key={idx}>\n        {message}\n      </Alert>\n    ))}\n    <div className=\"mr-auto text-right\">\n      <Form.Label\n        className={`${bttnStyles.Button} btn`}\n        htmlFor=\"image-upload\"\n      >\n        Change the image\n      </Form.Label>\n    </div>\n    <Form.File\n    hidden\n      id=\"image-upload\"\n      ref={imageFile}\n      accept=\"image/*\"\n      onChange={(e) => {\n        if (e.target.files.length) {\n          setProfileData({\n            ...profileData,\n            avatar: URL.createObjectURL(e.target.files[0]),\n          });\n        }\n      }}\n    />\n  </Form.Group>\n  )\n\n  const textFields = (\n    <>\n      <Form.Group>\n        <Form.Label>Your name</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={name}\n          placeholder=\"Your name\"\n          rows={1}\n          name=\"name\"\n          onChange={handleChange}\n        />\n      </Form.Group>\n      {errors?.name?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n      <Form.Group>\n        <Form.Label>Your bio</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={bio}\n          placeholder=\"Your bio\"\n          name=\"bio\"\n          rows={4}\n          onChange={handleChange}\n        />\n      </Form.Group>\n      {errors?.bio?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </>\n  );\n\n  const buttonField = (\n    <div className=\"text-right\">\n    <Button\n    className={`${bttnStyles.Button} m-2`}\n    onClick={() => history.goBack()}\n  >\n    Cancel\n  </Button>\n  <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n    Post\n  </Button>\n  </div>\n  )\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n      {smallScreen ? (\n        <Col className=\"p-0 p-md-2\">\n          <Container className={appStyles.Content}>\n            <div>\n              {textFields}\n            </div>\n            <div>\n              {avatarField}\n            </div>\n            <div>{buttonField}</div>\n          </Container>\n        </Col>\n      ) : (\n        <>\n        <Col md={8} className=\"p-0 p-md-2\">\n        <Container className={appStyles.Content}>\n          <div>{textFields}</div>\n          <div>{buttonField}</div>\n        </Container>\n      </Col>\n        <Col className=\"py-2 p-0 p-md-2\" md={4}>\n          <Container className={`${appStyles.Content} ${postFormStyles.Container}`}><div className=\"p-2\">{avatarField}</div></Container>\n        </Col>\n        </>\n      )}\n      </Row>\n    </Form>\n  );\n};\n\nexport default EditProfileForm;\n","import styles from \"./App.module.css\";\nimport NavBar from \"./components/NavBar\";\nimport Container from \"react-bootstrap/Container\";\nimport { Route, Switch } from \"react-router-dom\";\nimport \"./api/axiosDefaults\";\nimport RegisterForm from \"./pages/auth/RegisterForm\";\nimport LoginForm from \"./pages/auth/LoginForm\";\nimport PageNotFound from \"./components/PageNotFound\";\nimport PostCreateForm from \"./pages/posts/PostCreateForm\";\nimport PostPage from \"./pages/posts/PostPage\";\nimport PostsPage from \"./pages/posts/PostsPage\";\nimport PostEditForm from \"./pages/posts/PostEditForm\";\nimport { useCurrentUser } from \"./contexts/CurrentUserContext\";\nimport { useSelectedCategory } from \"./contexts/SelectedCategoryContext\";\nimport ProfilePage from \"./pages/profiles/ProfilePage\";\nimport EditUsernameForm from \"./pages/profiles/EditUsernameForm\";\nimport EditPasswordForm from \"./pages/profiles/EditPasswordForm\";\nimport EditProfileForm from \"./pages/profiles/EditProfileForm\";\n\nfunction App() {\n  const currentUser = useCurrentUser();\n  const selectedCategory = useSelectedCategory();\n  console.log(\"app.js\", selectedCategory);\n\n  // need profile_id to filter the posts by.\n  // defaults to an empty string if current user details are still being fetched.\n  const profile_id = currentUser?.profile_id || \"\";\n\n  return (\n    <div className={styles.App}>\n      <NavBar />\n      <Container className={styles.Main}>\n        <Switch>\n          {/* home, feed and liked routes modelled after Moments code */}\n          <Route\n            className={styles.Content}\n            exact\n            path=\"/\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage message=\"No results found.\" />\n            )}\n          />\n          <Route\n            exact\n            path=\"/feed\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No results found. Adjust your search keyword or follow a user.\"\n                filter={`owner__followed__owner__profile=${profile_id}&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/liked\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No results found. Adjust your search keyword or like a post.\"\n                filter={`likes__owner__profile=${profile_id}&ordering=-likes__created&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/saved\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No results found. Adjust your search keyword or save a post.\"\n                filter={`saved__owner__profile=${profile_id}&ordering=-saved__created&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/categories/:id/posts\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No results found.\"\n                filter={`category_id=${selectedCategory}&ordering=-created&`}\n                selectedCategory={selectedCategory}\n              />\n            )}\n          />\n          <Route exact path=\"/login\" render={() => <LoginForm />} />\n          <Route exact path=\"/register\" render={() => <RegisterForm />} />\n          <Route exact path=\"/posts/create\" render={() => <PostCreateForm />} />\n          <Route exact path=\"/posts/:id/edit\" render={() => <PostEditForm />} />\n          <Route exact path=\"/posts/:id\" render={() => <PostPage />} />\n          <Route exact path=\"/profiles/:id\" render={() => <ProfilePage />} />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/username\"\n            render={() => <EditUsernameForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/password\"\n            render={() => <EditPasswordForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit\"\n            render={() => <EditProfileForm />}\n          />\n          <Route render={() => <PageNotFound />} />\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\nimport { SelectedCategoryProvider } from \"./contexts/SelectedCategoryContext\";\n\nReactDOM.render(\n  <Router>\n    <CurrentUserProvider>\n      <SelectedCategoryProvider>\n          <App />\n      </SelectedCategoryProvider>\n    </CurrentUserProvider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1amC6\",\"NavLink\":\"NavBar_NavLink__34ons\",\"Active\":\"NavBar_Active__3PBZb\",\"Brand\":\"NavBar_Brand__iWmt7\",\"NavLinkOffset\":\"NavBar_NavLinkOffset__1pQTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__3UScv\",\"PostHeader\":\"Post_PostHeader__3M--4\",\"PostText\":\"Post_PostText__3e2Ye\",\"IconText\":\"Post_IconText__YMwZV\",\"Category\":\"Post_Category__3sIbT\",\"PostImage\":\"Post_PostImage__1ZuuZ\",\"HeaderContent\":\"Post_HeaderContent__r6onr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"Dropdowns_DropdownItem__3dbO9\",\"DropdownBackground\":\"Dropdowns_DropdownBackground__1ejJx\",\"Absolute\":\"Dropdowns_Absolute__3M8sS\",\"DropdownIcon\":\"Dropdowns_DropdownIcon__2sva1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__2WHuV\",\"ButtonRight\":\"PostCreateEditForm_ButtonRight__31el0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileAvatar\":\"ProfilePage_ProfileAvatar__2KT7F\",\"ProfileUsername\":\"ProfilePage_ProfileUsername__zUlMb\",\"ProfileText\":\"ProfilePage_ProfileText__3KIBm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"PopularCategories_Header__209lK\",\"CategoryName\":\"PopularCategories_CategoryName__5QzJb\",\"Container\":\"PopularCategories_Container__2JDrL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__196lW\",\"Username\":\"Avatar_Username__3u3zc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__1dBcX\",\"ProfileText\":\"Asset_ProfileText__2yoNB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotFound\":\"PageNotFound_NotFound__2kk2i\",\"Subheader\":\"PageNotFound_Subheader__y_PYS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Commenter\":\"Comment_Commenter__jS4-t\",\"ModifiedDate\":\"Comment_ModifiedDate__2xZBi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddImage\":\"Adds_AddImage__3CCcO\",\"AddText\":\"Adds_AddText__208_5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"Content\":\"App_Content__ZaMNr\",\"Main\":\"App_Main__HQkvd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentFormWidth\":\"PostPage_CommentFormWidth__2vEMG\"};"],"sourceRoot":""}