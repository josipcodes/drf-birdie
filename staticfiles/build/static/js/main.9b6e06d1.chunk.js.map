{"version":3,"sources":["styles/AuthForm.module.css","styles/Button.module.css","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useScreenWidth.js","components/Asset.js","contexts/SelectedCategoryContext.js","components/PopularCategories.js","hooks/useNavBarToggle.js","components/NavBar.js","assets/birdie.png","assets/bird.jpg","hooks/useRedirect.js","pages/auth/RegisterForm.js","pages/auth/LoginForm.js","components/PageNotFound.js","pages/posts/PostCreateForm.js","components/Dropdowns.js","pages/posts/Post.js","pages/comments/CommentCreateForm.js","pages/comments/CommentEditForm.js","components/Comment.js","components/Add.js","pages/posts/PostPage.js","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","pages/profiles/ProfilePage.js","pages/profiles/EditUsernameForm.js","pages/profiles/EditPasswordForm.js","pages/profiles/EditProfileForm.js","App.js","reportWebVitals.js","index.js","styles/NavBar.module.css","styles/Post.module.css","styles/Dropdowns.module.css","styles/PostCreateEditForm.module.css","styles/ProfilePage.module.css","styles/PopularCategories.module.css","styles/Avatar.module.css","styles/Asset.module.css","styles/PageNotFound.module.css","styles/Comment.module.css","styles/Adds.module.css","App.module.css","styles/PostPage.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosRequest","create","axiosResponse","removeTokenTimestamp","localStorage","removeItem","fetchMoreData","async","resource","setResource","url","URL","next","pathname","search","replace","console","log","requestUrl","data","get","prevResource","results","reduce","acc","cur","some","accResult","id","err","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","history","useHistory","useEffect","handleMount","useMemo","interceptors","request","use","config","getItem","prevCurrentUser","push","Promise","reject","response","_err$response","status","_jsx","Provider","value","Avatar","src","height","text","_jsxs","className","styles","Username","width","alt","ScreenWidth","setWidth","window","innerWidth","handleResize","addEventListener","removeEventListener","Asset","spinner","message","concat","Spinner","animation","variant","ProfileText","SelectedCategoryContext","SetSelectedCategoryContext","SelectedCategoryProvider","selectedCategory","setSelectedCategory","PopularCategories","_categories$results","_categories$results2","categories","setCategories","fetchCategories","appStyles","Content","Container","length","_Fragment","Header","map","category","Link","to","CategoryName","onClick","handleClick","category_id","name","useNavBarToggle","expanded","setExpanded","ref","useRef","handleClickOutside","e","target","current","contains","document","NavBar","smallScreen","useScreenWidth","newPost","NavLink","activeClassName","Active","homePage","exact","avatarDisplay","profile_id","profile_avatar","username","loggedInOptions","NavLinkOffset","loggedOutOptions","Navbar","expand","fixed","bg","Brand","Nav","Toggle","Collapse","useRedirect","userAuthStatus","RegisterForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","signUpData","setSignUpData","password1","password2","errors","setErrors","handleChange","Row","Col","AuthCol","md","Form","onSubmit","preventDefault","Group","controlId","Label","Control","Input","type","placeholder","onChange","idx","Alert","Button","bttnStyles","Wide","non_field_errors","Image","bird","LoginForm","signInData","setSignInData","password","user","refreshTokenTimestamp","jwtDecode","refresh_token","exp","setItem","setTokenTimestamp","goBack","PageNotFound","authStyles","Main","NotFound","Subheader","PostCreateForm","_errors$category","_errors$content","_errors$image","postData","setPostData","content","image","imageInput","categoryField","htmlFor","as","defaultValue","disabled","description","textField","rows","imageField","rounded","ButtonRight","File","accept","files","revokeObjectURL","createObjectURL","hidden","buttonField","formData","FormData","append","_err$response2","ThreeDots","React","forwardRef","MoreDropdown","_ref2","handleEdit","handleDelete","Dropdown","drop","Menu","DropdownBackground","popperConfig","strategy","Item","DropdownItem","DropdownIcon","ProfileEditDropdown","_ref3","Absolute","Post","props","owner","modified","like_id","comments_count","likes_count","category_name","saved_id","saved_count","postPage","profilePage","setPosts","setCurrentPosts","is_owner","Card","Body","Media","PostHeader","delete","Category","PostText","Img","PostImage","IconText","OverlayTrigger","placement","overlay","Tooltip","prevPosts","CommentCreateForm","setPost","setComments","setContent","prevComments","prevPost","InputGroup","trim","CommentEditForm","setShowEditForm","formContent","setFormContent","event","put","comment","Comment","showEditForm","Commenter","ModifiedDate","filter","Add","advertisements","setAdvertisements","selectedAdd","setSelectedAdd","isLoaded","setIsLoaded","fetchAdds","_advertisements$resul","randomSelect","Math","floor","random","AddImage","AddText","PostPage","useParams","comments","all","postStyles","CommentFormWidth","PostsPage","posts","useLocation","fetchPosts","InfiniteScroll","dataLength","loader","hasMore","PostEditForm","fetchPost","ProfilePage","currentProfile","setCurrentProfile","currentPosts","currentUserProfile","setCurrentUserProfile","profile","FetchProfileData","FetchCurrentUserProfile","mainProfile","noGutters","ProfileAvatar","roundedCircle","avatar","ProfileUsername","following_id","prevCurrentProfile","followers_count","prevCurrentUserProfile","following_count","followed","xs","posts_count","bio","mainProfilePosts","EditUsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserEditPasswordForm","_errors$new_password","_errors$new_password2","userData","setUserData","new_password1","new_password2","EditProfileForm","_errors$avatar","_errors$name","_errors$bio","imageFile","profileData","setProfileData","avatarField","fluid","textFields","_imageFile$current","_imageFile$current2","postFormStyles","App","Switch","Route","path","render","EditPasswordForm","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.9b6e06d1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"AuthForm_Row__2PgqZ\",\"Input\":\"AuthForm_Input__3ONjR\",\"Header\":\"AuthForm_Header__3VpYh\",\"Link\":\"AuthForm_Link__2iPzL\",\"Container\":\"AuthForm_Container__3WYp7\",\"AuthCol\":\"AuthForm_AuthCol__1jY3i\",\"Image\":\"AuthForm_Image__2wfBh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\",\"Wide\":\"Button_Wide__2ScDr\"};"," // IMPORTANT!!\n // Because this React app is running in the same workspace as the API,\n\n // there is no need to set a separate baseURL until you reach deployment.\n\n // Setting a baseURL before you reach deployment will cause errors\n\n import axios from \"axios\";\n\n// from Moments lessons, modified\n axios.defaults.baseURL = '/api';\n\n \n // multipart as our app will deal with images, texts...\n axios.defaults.headers.post['Content-Type'] = \"multipart/form-data\"\n axios.defaults.withCredentials = true;\n\n // to intercept the request\nexport const axiosRequest = axios.create();\n// to intercept the response\nexport const axiosResponse = axios.create();","import jwtDecode from \"jwt-decode\";\nimport { axiosRequest } from \"../api/axiosDefaults\";\nimport axios from \"axios\";\n\n// copied from Moments\n// function accepts data object returned by API on login.\n// exp is expiry date.\nexport const setTokenTimestamp = (data) => {\n  const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n};\n\nexport const shouldRefreshToken = () => {\n  // returns refreshToken timestamp converted by double not operator.\n  // token will only be refreshed for a logged in user.\n  return !!localStorage.getItem(\"refreshTokenTimestamp\");\n};\n\nexport const removeTokenTimestamp = () => {\n  // removed time stamp from the localStorage\n  localStorage.removeItem(\"refreshTokenTimestamp\");\n};\n\n// todo check if this works when deployed, users report infinite scroll is causing problems on Gitpod\n// when replacing localhost address from dev tools with an actual page address, I can see next data\n// used for InfiniteScroll\nexport const fetchMoreData = async (resource, setResource) => {\n  try {\n    // code provided by Sean and Roman from Tutor support\n    let url = new URL(resource.next);\n    url = (url.pathname + url.search).replace('/api', '')\n    console.log({requestUrl: url})\n    // updated axiosRequest to axios, fetching posts now works correctly. Todo, update comment\n    const { data } = await axios.get(url);\n\n    setResource((prevResource) => ({\n      ...prevResource,\n      next: data.next,\n      results: data.results.reduce((acc, cur) => {\n        return acc.some((accResult) => accResult.id === cur.id)\n          ? acc\n          : [...acc, cur];\n      }, prevResource.results),\n    }));\n  } catch (err) {\n    console.log(err);\n  }\n};\n","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosRequest, axiosResponse } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\n// based off of Moments lessons\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const history = useHistory();\n\n  const handleMount = async () => {\n    try {\n      const { data } = await axiosResponse.get(\"dj-rest-auth/user/\");\n      console.log(\"CurrentUserProvider\", data)\n      // Set the current user with the data we get back.\n      // Without this, we'd have to log in after each refresh\n      setCurrentUser(data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handleMount();\n  }, []);\n\n  // refreshing tokens\n  useMemo(() => {\n    // request interceptor\n    axiosRequest.interceptors.request.use(\n      async (config) => {\n        console.log(config)\n        // if runs only when token needs refreshing\n        if (shouldRefreshToken()) {\n          try {\n            // attempting to refresh the token\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            // if token refresh failed and user was previously logged in\n            // if refresh token expired\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n            return config;\n          }\n          return config;\n        }\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n\n    // response interceptor\n    axiosResponse.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status === 401) {\n          try {\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n          }\n          return axios(err.config);\n        }\n        // Promise rejected if error wasn't 401\n        return Promise.reject(err);\n      }\n    );\n  }, [history]);\n\n  return (\n    // Providers allow current user value and\n    // function that is updating it to be available to all children\n    <CurrentUserContext.Provider value={currentUser}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n};\n","import React from \"react\";\nimport styles from \"../styles/Avatar.module.css\";\n\nconst Avatar = ({ src, height = 45, text }) => {\n  return (\n    <span className={styles.Username}>\n      <img\n        className={styles.Avatar}\n        src={src}\n        height={height}\n        width={height}\n        alt=\"user avatar\"\n      />\n      {text}\n    </span>\n  );\n};\n\n\nexport default Avatar;","import { useState, useEffect } from 'react';\n\n/* code copied from \nhttps://www.altcademy.com/blog/how-to-check-screen-width-in-reactjs/ \nCode modified to return boolean value */ \nconst ScreenWidth = () => {\n  const [width, setWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n//   returning boolean value\n  return width < 768;\n}\n\nexport default ScreenWidth;","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport styles from \"../styles/Asset.module.css\";\n\n// temporarily copied from Moments\n// minor changes applied\nconst Asset = ({ spinner, src, message }) => {\n  return (\n    <div className={`${styles.Asset}`}>\n      {spinner && <Spinner animation=\"border\" variant=\"warning\" />}\n      {src && <img src={src} alt={message} />}\n      {message && <p className={`${styles.ProfileText} mt-4`}>{message}</p>}\n    </div>\n  );\n};\n\nexport default Asset;\n","import { createContext, useContext, useState } from \"react\";\n\n// based off of Moments lessons\nexport const SelectedCategoryContext = createContext();\nexport const SetSelectedCategoryContext = createContext();\n\nexport const useSelectedCategory = () => useContext(SelectedCategoryContext);\nexport const useSetSelectedCategory = () => useContext(SetSelectedCategoryContext);\n\nexport const SelectedCategoryProvider = ({ children }) => {\n    // manually inputing a nonexistant id in the url will default to the first category created\n  const [selectedCategory, setSelectedCategory] = useState(1);\n\n  return (\n    // Providers allow current user value and\n    // function that is updating it to be available to all children\n    <SelectedCategoryContext.Provider value={selectedCategory}>\n      <SetSelectedCategoryContext.Provider value={setSelectedCategory}>\n        {children}\n      </SetSelectedCategoryContext.Provider>\n    </SelectedCategoryContext.Provider>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport appStyles from \".././App.module.css\";\nimport Asset from \".././components/Asset\";\n\nimport styles from \".././styles/PopularCategories.module.css\"\nimport { Link } from \"react-router-dom\";\n\nimport { useSetSelectedCategory } from \"../contexts/SelectedCategoryContext\";\n\nconst PopularCategories = ({selectedCategory}) => {\n  const [categories, setCategories] = useState(\"\");\n\n  const setSelectedCategory = useSetSelectedCategory()\n\n\n  useEffect(() => {\n    // fetching existing categories\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  const handleClick = (category_id) => {\n    // setting selected category\n    setSelectedCategory(category_id);\n    console.log(\"category_id\", category_id)\n    console.log(\"selectedCategory\", selectedCategory)\n  };\n\n  return (\n    <div className={`${appStyles.Content} ${styles.Container}`}>\n      {categories?.results?.length ? (\n        <>\n        {/* display categories in the order of popularity */}\n          <h1 className={styles.Header}>Popular categories</h1>\n          {categories.results?.map((category) => (\n            <Link to={`/categories/${category.id}/posts`} className={styles.CategoryName} key={category.id} onClick={() => handleClick(category.id)}>{category.name}</Link>\n          ))}\n        </>\n      ) : (\n        <Asset spinner />\n      )}\n    </div>\n  );\n};\n\n\nexport default PopularCategories;","import { useEffect, useRef, useState } from \"react\";\n\n\nconst useNavBarToggle = () => {\n  // menu is initially collapsed\n  const [expanded, setExpanded] = useState(false);\n  const ref = useRef(null);\n\n  // created following Moments lessons\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n        console.log(\"ref\", ref)\n        console.log(\"target\", e.target)\n      if (ref.current && !ref.current.contains(e.target)) {\n        setExpanded(false);\n      }\n    };\n    document.addEventListener(\"mouseup\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mouseup\", handleClickOutside);\n    };\n  }, [ref]);\n  return { expanded, setExpanded, ref };\n};\n\n\nexport default useNavBarToggle;","import React from \"react\";\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport logo from \"../assets/birdie.png\";\nimport styles from \"../styles/NavBar.module.css\";\nimport { NavLink } from \"react-router-dom\";\nimport { useCurrentUser, useSetCurrentUser } from \"../contexts/CurrentUserContext\";\nimport Avatar from \"./Avatar\";\nimport axios from \"axios\";\nimport { removeTokenTimestamp } from \"../utils/utils\";\nimport useScreenWidth from \"../hooks/useScreenWidth\"\nimport PopularCategories from \"./PopularCategories\";\nimport useNavBarToggle from \"../hooks/useNavBarToggle\";\n\nconst NavBar = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  const { expanded, setExpanded, ref } = useNavBarToggle();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  const handleLogOut = async () => {\n    /* handles logging user out\n    nullifies CurrentUser\n    tbd if a better process can be implemented before going live */\n    try {\n      await axios.post(\"/dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n\n  const newPost = (\n    <NavLink\n      to=\"/posts/create\"\n      className={styles.NavLink}\n      activeClassName={styles.Active}\n    >\n      Post\n    </NavLink>\n  );\n\n  const homePage = (\n    <NavLink\n    exact\n    to=\"/\"\n    className={styles.NavLink}\n    activeClassName={styles.Active}\n  >\n    Home\n  </NavLink>\n  )\n\n  const avatarDisplay = (\n      <NavLink\n      to={`/profiles/${currentUser?.profile_id}`}\n      className={styles.NavLink}\n      onClick={() => {}}\n    >\n      <Avatar src={currentUser?.profile_avatar} text={currentUser?.username} height={38} />\n    </NavLink> \n  )\n\n\n  const loggedInOptions = (\n    // using empty element as JSX can only return a single element\n    <>\n    <NavLink\n      to=\"/feed\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      activeClassName={styles.Active}\n    >\n      Feed\n    </NavLink>\n    <NavLink\n      to=\"/liked\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      activeClassName={styles.Active}\n    >\n      Liked\n    </NavLink>\n    <NavLink\n      to=\"/saved\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      activeClassName={styles.Active}\n    >\n      Saved posts\n    </NavLink>\n      {smallScreen && (\n        // display popular categories when on smaller screens\n          <PopularCategories className=\"text-right\" />\n      )}\n    <NavLink\n      to=\"/\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      onClick={handleLogOut}\n    >\n      Log out\n    </NavLink>\n  </>\n  )\n\n  const loggedOutOptions = (\n    // using empty element as JSX can only return a single element\n    <>\n      {\" \"}\n      <NavLink\n        to=\"/login\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Log in\n      </NavLink>\n      <NavLink\n        to=\"/register\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Register\n      </NavLink>\n      {smallScreen && (\n        // display popular categories when on smaller screens\n          <PopularCategories className=\"text-right\" />\n      )}\n    </>\n  );\n\n  return (\n    <Navbar\n      className={styles.NavBar}\n      expand=\"md\"\n      fixed=\"top\"\n      bg=\"dark\"\n      variant=\"dark\"\n      expanded={expanded}\n    >\n      <Container>\n        <NavLink to=\"/\">\n          <Navbar.Brand>\n            <img src={logo} alt=\"logo\" height=\"47px\" />\n          </Navbar.Brand>\n          <Navbar.Brand className={`${styles.Brand} mr-auto text-right`}>\n            Birdie\n          </Navbar.Brand>\n        </NavLink>\n        <Nav className=\"mr-auto text-right\">\n          {currentUser ? newPost : homePage}\n          </Nav>\n          <Nav className=\"ml-auto text-left\">\n          {currentUser && smallScreen && avatarDisplay}\n          </Nav>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" onClick={() => setExpanded(!expanded)} ref={ref} />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n\n          <Nav className=\"ml-auto text-right\">\n            {currentUser ? (\n              <>\n              {loggedInOptions}\n              {!smallScreen && avatarDisplay}              \n              </>\n              ) : loggedOutOptions}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/bird.2843c24d.jpg\";","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\n\nexport const useRedirect = (userAuthStatus) => {\n  const history = useHistory();\n\n// copied from Moments with minor changes\n  useEffect(() => {\n    // making a network request on mount to check if user is logged in.\n    const handleMount = async () => {\n      try {\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\n        // if user is logged in, the code below will run\n        if (userAuthStatus === \"loggedIn\") {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        // if user is not logged in, the code below will run\n        if (userAuthStatus === \"loggedOut\") {\n          history.push(\"/login/\");\n        }\n      }\n    };\n\n\n    handleMount();\n  }, [history, userAuthStatus]);\n};\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bird from \"../../assets/bird.jpg\";\n\nimport { Form, Button, Image, Col, Row, Container, Alert } from \"react-bootstrap\";\n\nimport axios from \"axios\";\n\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// code adapted from Moments lessons\nconst RegisterForm = () => {\n  useRedirect('loggedIn')\n  const [signUpData, setSignUpData] = useState({\n    username: \"\",\n    password1: \"\",\n    password2: \"\",\n  });\n  \n  const { username, password1, password2 } = signUpData;\n\n  const [errors, setErrors] = useState({})\n\n  // from router\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    setSignUpData({\n      ...signUpData,\n      // this creates a key:value pair\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      await axios.post(\"/dj-rest-auth/registration/\", signUpData);\n      history.push(\"/login\");\n    } catch (err) {\n      // if response isn't defined, it won't throw an error\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className={`${styles.AuthCol} my-auto p-md-2`} md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={styles.Header}>Sign up</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password1\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password1\"\n                value={password1}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password1?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password2\">\n              <Form.Label className=\"d-none\">Confirm Password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password2\"\n                value={password2}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password2?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Button\n              className={`${bttnStyles.Button} ${bttnStyles.Wide}`}\n              type=\"submit\"\n            >\n              Register\n            </Button>\n            {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/login\">\n            Already have an account? <span>Login</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${styles.AuthCol}`}\n      >\n        <Image className={`${styles.Image} ${appStyles.Content}`} src={bird} />\n      </Col>\n    </Row>\n  );\n};\n\nexport default RegisterForm;\n","import React, { useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bird from \"../../assets/bird.jpg\";\nimport axios from \"axios\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// code adapted from Moments lessons\nfunction LoginForm() {\n  const setCurrentUser = useSetCurrentUser();\n  useRedirect('loggedIn')\n\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const { username, password } = signInData;\n\n  const [errors, setErrors] = useState({})\n\n  // from router\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    setSignInData({\n      ...signInData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      const { data } = await axios.post(\"dj-rest-auth/login/\", signInData);\n      console.log(\"data\", data)\n      setCurrentUser(data.user);\n      console.log(\"data.user\", data.user)\n      // extracting exp date from the access token, saves it to user's browser in local storage.\n      setTokenTimestamp(data);\n      // history.push(\"/\")\n      history.goBack();\n    } catch(err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={styles.Header}>Sign in</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n              className={styles.Input}\n              type=\"text\"\n              placeholder=\"Enter Username\"\n              name=\"username\"\n              value={username}\n              onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n              className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                    {message}\n                </Alert>\n            ))}\n            <Button\n              type=\"submit\"\n              className={`${bttnStyles.Button} ${bttnStyles.Wide}`}\n            >\n              Login\n            </Button>\n            {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/register\">\n            Don't have an account? <span>Register now!</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${styles.AuthCol}`}\n      >\n        <Image\n          className={`${styles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n}\n\n\nexport default LoginForm;\n","import React from \"react\";\nimport bird from \"../assets/bird.jpg\";\nimport { Image, Row, Container, Col } from \"react-bootstrap\";\nimport styles from \"../styles/PageNotFound.module.css\";\nimport authStyles from \"../styles/AuthForm.module.css\";\nimport appStyles from \".././App.module.css\";\n\nconst PageNotFound = () => {\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto offset-md-2\" md={8}>\n        <Container className={`${appStyles.Content}`}>\n          <h1 className={`${appStyles.Main} ${authStyles.Header}`}>\n            This page seems to have flown away\n          </h1>\n          <Image\n            className={`${authStyles.Image} ${styles.NotFound}`}\n            src={bird}\n          />\n          <h2 className={styles.Subheader}>Do you ever feel like a plastic bag</h2>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default PageNotFound;\n","import React, { useRef, useState, useEffect } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\n\nimport Asset from \"../../components/Asset\";\nimport { Image } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport axios from \"axios\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\"\n\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// based off of Moments lessons\nfunction PostCreateForm() {\n  useRedirect(\"loggedOut\");\n  const [errors, setErrors] = useState({});\n\n  const [categories, setCategories] = useState(\"\");\n\n  const [postData, setPostData] = useState({\n    content: \"\",\n    image: \"\",\n    category: \"\",\n  });\n\n  //   destructuring content & image\n  const { content, image, category } = postData;\n\n  const imageInput = useRef(null);\n  const history = useHistory();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    /* fetching and setting categories\n    used in the form dropdown */\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n        console.log(data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  const handleChangePost = (e) => {\n    // post change handler\n    setPostData({\n      ...postData,\n      content: e.target.value,\n    });\n  };\n\n  // copied from Moments lessons\n  const handleChangeImage = (e) => {\n    // image change handler\n    // checking if there is a file\n    console.log(e.target.files.length);\n    if (e.target.files.length) {\n      // revokeObjectURL is used to clear browser's reference to the previous file\n      // used in cases when user decides to use a different image after upload\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(e.target.files[0]),\n      });\n    }\n  };\n\n  const handleChangeCategory = (e) => {\n    // category change handler\n    setPostData({\n      ...postData,\n      category: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // submit function\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"content\", content);\n    // check if there is a file to be appended\n    if (imageInput.current.files.length !== 0) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"category\", category);\n\n    console.log(\"formdata\", formData);\n\n    // copied from Moments lessons\n    // because we're sending image as well as text to our API,\n    // we need to refresh our user's access token before making the request\n    try {\n      const { data } = await axiosRequest.post(\"/posts/\", formData);\n      console.log(data);\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const categoryField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label htmlFor=\"category\">Category</Form.Label>\n        <Form.Control\n          as=\"select\"\n          aria-label=\"tbd\"\n          id=\"category\"\n          defaultValue=\"Category\"\n          onChange={handleChangeCategory}\n        >\n          <option disabled>Category</option>\n          {categories.results?.map((category) => (\n            <option key={category.id} value={category.id}>\n              {category.name}: {category.description}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      {errors.category?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const textField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={4}\n          name=\"content\"\n          placeholder=\"Type your post\"\n          value={content}\n          onChange={handleChangePost}\n        />\n      </Form.Group>\n      {errors.content?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const imageField = (\n    <div>\n    <Form.Group>\n    {image ? (\n      <>\n        <figure>\n          <Image className={authStyles.Image} src={image} rounded />\n        </figure>\n        <div className=\"mr-auto text-right\">\n          <Form.Label\n            className={`${bttnStyles.Button} btn`}\n            htmlFor=\"image-upload\"\n          >\n            Change the image\n          </Form.Label>\n        </div>\n      </>\n    ) : (\n      <Form.Label\n        className={`${bttnStyles.Button} text-center ${smallScreen ? styles.ButtonRight : bttnStyles.Wide}`}\n        htmlFor=\"image-upload\"\n      >\n        <Asset\n          message=\"Click or tap to upload an image\"\n        />\n      </Form.Label>\n    )}\n    <Form.File\n      id=\"image-upload\"\n      accept=\"image/*\"\n      onChange={handleChangeImage}\n      ref={imageInput}\n      hidden\n    />\n  </Form.Group>\n  {errors.image?.map((message, idx) => (\n    <Alert variant=\"warning\" key={idx}>\n      {message}\n    </Alert>\n  ))}\n  </div>\n  )\n\n  const buttonField = (\n    <div className=\"text-right\">\n    <Button\n    className={`${bttnStyles.Button} m-2`}\n    onClick={() => history.goBack()}\n  >\n    Cancel\n  </Button>\n  <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n    Post\n  </Button>\n  </div>\n  )\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n      {smallScreen ? (\n        <>\n        <Col className=\"p-0 p-md-2\">\n        <Container className={appStyles.Content}>\n          <div>{textField}</div>\n          <div>{categoryField}</div>\n          <div className=\"p-2\">{imageField}</div>\n          <div>{buttonField}</div>\n        </Container>\n      </Col>\n      </>\n      ) : (\n        <>\n        <Col md={8} className=\"p-0 p-md-2\">\n        <Container className={appStyles.Content}>\n          <div>{textField}</div>\n          <div>{categoryField}</div>\n          <div>{buttonField}</div>\n        </Container>\n      </Col>\n      <Col className=\"py-2 p-0 p-md-2\" md={4}>\n        <Container\n          className={`${appStyles.Content} ${styles.Container}`}\n        >\n          <div className=\"p-2\">{imageField}</div>\n        </Container>\n      </Col>\n      </>\n      )}\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostCreateForm;\n","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport styles from \"../styles/Dropdowns.module.css\";\nimport { useHistory } from \"react-router\";\n\n// copied from Moments!\n\n// The forwardRef is important!!\n// Dropdown needs access to the DOM node in order to position the Menu\n// React-bootstrap uses the forwardRef method to pass the ref into our function as a second argument.\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n  <i\n    className=\"fas fa-ellipsis-v\"\n    ref={ref}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  />\n));\n\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\n  return (\n    // drop left positions dropdown to the left of the button\n    <Dropdown className=\"ml-auto\" drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n\n      <Dropdown.Menu\n      className={`text-center ${styles.DropdownBackground}`}\n        popperConfig={{ strategy: \"fixed\" }}\n      >\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleEdit}\n          aria-label=\"edit\"\n        >\n          <i className={`fas fa-edit ${styles.DropdownIcon}`} />\n        </Dropdown.Item>\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleDelete}\n          aria-label=\"delete\"\n        >\n          <i className={`fas fa-trash-alt ${styles.DropdownIcon}`} />\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\nexport function ProfileEditDropdown({ id }) {\n  const history = useHistory();\n  return (\n    <Dropdown className={`px-3 m-4 ${styles.Absolute}`} drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n      <Dropdown.Menu className={`text-center ${styles.DropdownBackground}`}>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit`)}\n          aria-label=\"edit-profile\"\n        >\n          <i className={`fas fa-edit ${styles.DropdownIcon}`} /> edit profile\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/username`)}\n          aria-label=\"edit-username\"\n        >\n          <i className={`far fa-id-card ${styles.DropdownIcon}`} />\n          Change username\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/password`)}\n          aria-label=\"edit-password\"\n        >\n          <i className={`fas fa-key ${styles.DropdownIcon}`}/>\n          Change password\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n}\n","import React from \"react\";\nimport styles from \"../../styles/Post.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport {\n  Container,\n  Row,\n  Card,\n  Col,\n  Media,\n  OverlayTrigger,\n  Tooltip,\n} from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Avatar from \"../../components/Avatar\";\nimport { MoreDropdown } from \"../../components/Dropdowns\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\n// temporarily copied from Moments, modified\nconst Post = (props) => {\n  const {\n    id,\n    owner,\n    content,\n    modified,\n    image,\n    profile_id,\n    profile_avatar,\n    like_id,\n    comments_count,\n    likes_count,\n    category_name,\n    saved_id,\n    saved_count,\n    // adding prop from PostPage.js\n    postPage,\n    // adding prop from ProfilePage.js\n    profilePage,\n    // passed from parent components to update the likes/saves.\n    setPosts,\n    setCurrentPosts,\n  } = props;\n\n  const currentUser = useCurrentUser();\n  // assigning boolean value to is_owner.\n  const is_owner = currentUser?.username === owner;\n  const history = useHistory();\n\n  // copied from Moments\n  const handleEdit = () => {\n    history.push(`/posts/${id}/edit`);\n  };\n\n  // copied from Moments\n  // tbd if asking for confirmation would benefit or annoy the user\n  const handleDelete = async () => {\n    try {\n      await axiosResponse.delete(`/posts/${id}/`);\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons with changes\n  const handleSave = async () => {\n      /* Function saves a post, increases the number of saves on the post */\n      try {\n        // save id is needed so the API knows which post is being saved\n        const { data } = await axiosResponse.post(\"/saved/\", { post: id });\n        if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we saved.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? {\n                  ...post,\n                  saved_count: post.saved_count + 1,\n                  saved_id: data.id,\n                }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we saved.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? {\n                  ...post,\n                  saved_count: post.saved_count + 1,\n                  saved_id: data.id,\n                }\n              : post;\n          }),\n        }));\n      }} catch (err) {\n        console.log(err);\n      }\n  };\n\n  // built based off of Moments lessons with changes\n  const handleUnsave = async () => {\n      /* Function unsaves a post, decreases the number of saves on the post */\n      try {\n        await axiosResponse.delete(`/saved/${saved_id}/`);\n        if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, saved_count: post.saved_count - 1, saved_id: null }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, saved_count: post.saved_count - 1, saved_id: null }\n              : post;\n          }),\n        }));\n      }\n      } catch (err) {\n        console.log(err);\n      }\n    } \n\n  // built based off of Moments lessons\n  const handleLike = async () => {\n      /* Function likes a post, increases the number of likes on the post */\n      try {\n        // like id is needed so the API knows which post is being liked\n        const { data } = await axiosResponse.post(\"/likes/\", { post: id });\n        if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we liked.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we liked.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\n              : post;\n          }),\n        }));\n      }\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n  // built based off of Moments lessons\n  const handleUnlike = async () => {\n      /* Function unlikes a post, decreases the number of likes on the post */\n      try {\n        await axiosResponse.delete(`/likes/${like_id}/`);\n        if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count - 1, like_id: null }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count - 1, like_id: null }\n              : post;\n          }),\n        }));\n      }} catch (err) {\n        console.log(err);\n      }\n    } \n\n  return (\n    <Card className={styles.Post}>\n      <Card.Body>\n        <Media\n          className={`${styles.PostHeader} d-flex justify-content-between`}\n        >\n          {/* link wrapped around header */}\n          <Col>\n            <Link to={`/profiles/${profile_id}/`}>\n              <Avatar src={profile_avatar} height={45} />\n              {owner}\n            </Link>\n          </Col>\n          {/* displaying when the post was last updated */}\n          <Col className=\"mt-2 text-right d-flex justify-content-end p-0 pt-1\">\n            <span>{modified}</span>\n            {/* ... are placeholder for dropdown menu, we are now testing if logic works */}\n            <span className=\"ml-3\">\n              {is_owner && postPage && (\n                <MoreDropdown\n                  handleEdit={handleEdit}\n                  handleDelete={handleDelete}\n                />\n              )}\n            </span>\n          </Col>\n        </Media>\n        <Link to={`/posts/${id}/`}>\n          {/* checking if category_name content and image props have been passed before we render them */}\n          {category_name && (\n            <span className={styles.Category}>{category_name}</span>\n          )}\n          {content && (\n            <span className={`text-left ${styles.PostText}`}>{content}</span>\n          )}\n          {/* reminder, image is not mandatory */}\n          {image && <Card.Img className={styles.PostImage} src={image} />}\n        </Link>\n      </Card.Body>\n      <Card.Body>\n        <div>\n          <Container>\n            <Row className=\"justify-content-around text-center\">\n              {/* tbd if all hearts will use the same icon, classes added to test visual representation */}\n              <Col className={styles.IconText}>\n                {/* like logic */}\n                {is_owner ? (\n                  // using OverlayTrigger and Tooltip to display a tooltip for the owner.\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>You can't like your own post!</Tooltip>}\n                  >\n                    <i className=\"fas fa-heart mt-1\" />\n                  </OverlayTrigger>\n                ) : like_id ? (\n                  // if like_id exists, user already liked the post\n                  <span onClick={handleUnlike}>\n                    <i className={`far fa-heart mt-1 ${styles.IconText}`} />\n                  </span>\n                ) : currentUser ? (\n                  // if user is logged in, they can like the post\n                  <span onClick={handleLike}>\n                    <i className={`fas fa-heart mt-1 ${styles.PostText}`} />\n                  </span>\n                ) : (\n                  // display tooltip for non-user\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>Log in to like a post!</Tooltip>}\n                  >\n                    <i className=\"fas fa-heart mt-1\" />\n                  </OverlayTrigger>\n                )}\n                {/* number of likes */}\n                {likes_count}\n              </Col>\n              <Col className={styles.IconText}>\n                {/* comments icon leads to the post page */}\n                <Link to={`/posts/${id}`} className={styles.IconText}>\n                  {/* post text hover needed to align visual representation? tbd */}\n                  <i className={`far fa-comments ${styles.PostText}`} />\n                  {/* number of comments */}\n                  {comments_count}\n                </Link>\n              </Col>\n              <Col>\n                {currentUser && !is_owner && (\n                  <span\n                    onClick={saved_id == null ? handleSave : handleUnsave}\n                    className={styles.IconText}\n                  >\n                    <i\n                      className={\n                        saved_id !== null\n                          ? `fa-brands fa-earlybirds ${styles.IconText}`\n                          : `fa-solid fa-egg ${styles.PostText}`\n                      }\n                    />\n                    {saved_count}\n                  </span>\n                )}\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default Post;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\"\n\n// based off of Moments, with various changes\nfunction CommentCreateForm(props) {\n  const { post, setPost, setComments, profile_id } = props;\n  const [content, setContent] = useState(\"\");\n\n  const currentUser = useCurrentUser();\n\n    // screen width check\n    const smallScreen = useScreenWidth();\n\n  const handleChange = (e) => {\n    // update comment content\n    setContent(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const { data } = await axiosResponse.post(\"/comments/\", {\n        content,\n        post,\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: [data, ...prevComments.results],\n      }));\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            comments_count: prevPost.results[0].comments_count + 1,\n          },\n        ],\n      }));\n      setContent(\"\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group>\n        <InputGroup>\n          <Link to={`/profiles/${profile_id}`}>\n            <Avatar\n              src={currentUser?.profile_avatar}\n              text={currentUser?.username}\n              height={smallScreen ? 35 : 40}\n            />\n          </Link>\n          <Form.Control\n            as=\"textarea\"\n            className=\"ml-2 ml-md-3\"\n            placeholder=\"Type comment...\"\n            rows={smallScreen ? 4 : 2}\n            value={content}\n            onChange={handleChange}\n  \n          />\n        </InputGroup>\n      </Form.Group>\n      <button\n        className={`${bttnStyles.Button} d-block ml-auto`}\n        disabled={!content.trim()}\n        type=\"submit\"\n      >\n        Comment\n      </button>\n    </Form>\n  );\n}\n\nexport default CommentCreateForm;\n","import React, { useState } from \"react\";\n\n\nimport Form from \"react-bootstrap/Form\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\nimport bttnStyles from \"../../styles/Button.module.css\"\n\n// based off of Moments, with some changes\nfunction CommentEditForm(props) {\n  const { id, content, setShowEditForm, setComments } = props;\n\n\n  const [formContent, setFormContent] = useState(content);\n\n\n  const handleChange = (event) => {\n    setFormContent(event.target.value);\n  };\n\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosResponse.put(`/comments/${id}/`, {\n        content: formContent.trim(),\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: prevComments.results.map((comment) => {\n          return comment.id === id\n            ? {\n                ...comment,\n                content: formContent.trim(),\n                modified: \"now\",\n              }\n            : comment;\n        }),\n      }));\n      setShowEditForm(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group>\n        <Form.Control\n          as=\"textarea\"\n          value={formContent}\n          onChange={handleChange}\n          rows={2}\n        />\n      </Form.Group>\n      <div className=\"text-right\">\n        <button\n          className={`${bttnStyles.Button} mr-1`}\n          onClick={() => setShowEditForm(false)}\n          type=\"button\"\n        >\n          Cancel\n        </button>\n        <button\n          className={bttnStyles.Button}\n          disabled={!content.trim()}\n          type=\"submit\"\n        >\n          Update\n        </button>\n      </div>\n    </Form>\n  );\n}\n\n\nexport default CommentEditForm;\n","import { Media } from \"react-bootstrap\";\nimport styles from \"../styles/Comment.module.css\";\n\nimport React, { useState } from \"react\";\nimport Avatar from \"../components/Avatar\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport useScreenWidth from \"../hooks/useScreenWidth\";\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\nimport { MoreDropdown } from \"./Dropdowns\";\nimport { axiosResponse } from \"../api/axiosDefaults\";\n\nimport CommentEditForm from \"../pages/comments/CommentEditForm\";\n\nconst Comment = (props) => {\n  const {\n    profile_id,\n    // tbd is it needed?\n    profile_avatar,\n    owner,\n    modified,\n    content,\n    id,\n    // passed down from PostPage\n    setPost,\n    setComments,\n  } = props;\n\n    // adding state to toggle EditForm\n    const [showEditForm, setShowEditForm] = useState(false);\n\n  // currentUser from  custom context\n  const currentUser = useCurrentUser();\n  // checking if current user's username matches owner's\n  const is_owner = currentUser?.username === owner;\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  // copied from Moments\n  const handleDelete = async () => {\n    try {\n      await axiosResponse.delete(`/comments/${id}/`);\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            // reducing comment count by 1\n            comments_count: prevPost.results[0].comments_count - 1,\n          },\n        ],\n      }));\n      setComments((prevComments) => ({\n        ...prevComments,\n        // we want to filter for the id of comment we are removing\n        results: prevComments.results.filter((comment) => comment.id !== id),\n      }));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"mt-2\">\n      <Media>\n        <Link to={`/profiles/${profile_id}`}>\n          <Avatar src={profile_avatar} height={smallScreen ? 35 : 40} />\n        </Link>\n        <Media.Body>\n          <span className={styles.Commenter}>{owner}</span>\n          <span className={styles.ModifiedDate}>{modified}</span>\n          {/* ternary deciding if the form should show */}\n          {showEditForm ? (\n            <CommentEditForm\n            id={id}\n            profile_id={profile_id}\n            content={content}\n            setComments={setComments}\n            setShowEditForm={setShowEditForm}\n          />\n          ) : (\n            <p>{content}</p>\n          )}\n        </Media.Body>\n        {is_owner && !showEditForm && (\n          <MoreDropdown\n            handleEdit={() => setShowEditForm(true)}\n            handleDelete={handleDelete}\n          />\n        )}\n      </Media>\n    </div>\n  );\n};\n\nexport default Comment;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport appStyles from \".././App.module.css\";\nimport Asset from \".././components/Asset\";\nimport { Image } from \"react-bootstrap\";\nimport styles from \".././styles/Adds.module.css\";\n\nconst Add = () => {\n  const [advertisements, setAdvertisements] = useState(\"\");\n  const [selectedAdd, setSelectedAdd] = useState(\"\");\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    // fetching existing Advertisements\n    const fetchAdds = async () => {\n      try {\n        const { data } = await axios.get(\"/advertisements/\");\n        setAdvertisements(data);\n        setIsLoaded(true)\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchAdds();\n  }, []);\n\n  useEffect(() => {\n    if (isLoaded && advertisements?.results && advertisements?.results?.length > 0) {\n      const randomSelect = Math.floor(Math.random() * advertisements.results.length);\n      setSelectedAdd(advertisements.results[randomSelect]);\n    }\n  }, [advertisements, isLoaded]);\n\n    useEffect(() => {\n  }, [selectedAdd])\n\n  return (\n    <div className={`${appStyles.Content}`}>\n      {selectedAdd && isLoaded ? (\n          <div>\n            <Image\n              className={styles.AddImage}\n              src={selectedAdd?.image}\n              alt={selectedAdd?.alt}\n            ></Image>\n            <p className={`${styles.AddText} text-center mt-5`}>{selectedAdd?.description}</p>\n          </div>\n        ) : (\n          <Asset spinner />\n        )}\n    </div>\n  );\n};\n\nexport default Add;\n","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport appStyles from \"../../App.module.css\";\nimport postStyles from \"../../styles/Post.module.css\";\nimport styles from \"../../styles/PostPage.module.css\";\n\nimport Post from \"./Post\";\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Comment from \"../../components/Comment\";\nimport PopularCategories from \"../../components/PopularCategories\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\nimport Add from \"../../components/Add\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// modelled after Moments lessons\nfunction PostPage() {\n  useRedirect(\"loggedOut\");\n  const { id } = useParams();\n  // setting an initial value as an empty array in useState to make all the future logic compatible with arrays of objects.\n  // this way it doesn't matter if we're getting a single object or array of posts.\n  const [post, setPost] = useState({ results: [] });\n\n  const currentUser = useCurrentUser();\n  const [comments, setComments] = useState({ results: [] });\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    // handleMount to fetch the post on mount.\n    const handleMount = async () => {\n      try {\n        // we'll eventually be making 2 requests - posts, comments.\n        // destructuring and renaming variable (to post) in place.\n        // it is called renaming with an object key.\n        // Promises.all accepts an array of promises and gets resolved when all promises get resolved, returning an array of data.\n        // If any of the promises fail, Promise.all gets rejected w/an error.\n        const [{ data: post }, { data: comments }] = await Promise.all([\n          // fetching the posts\n          axiosRequest.get(`/posts/${id}/`),\n          // fetching the comments\n          axiosRequest.get(`/comments/?post=${id}`),\n        ]);\n        // using setPost func to update the results array in the state to contain a post\n        setPost({ results: [post] });\n        // setting Comments\n        setComments(comments);\n        // clg post to check that this is working\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    // calling handleMount and running the code every time the id in the url changes.\n    handleMount();\n  }, [id]);\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        <Post {...post.results[0]} setPosts={setPost} postPage />\n        <Container\n          className={`${appStyles.Content} ${postStyles.PostText} ${styles.CommentFormWidth}`}\n        >\n          {/* tbd if conditional needs changing */}\n          {currentUser ? (\n            <CommentCreateForm\n              profile_id={currentUser.profile_id}\n              post={id}\n              setPost={setPost}\n              setComments={setComments}\n            />\n          ) : comments.results.length ? (\n            \"Comments\"\n          ) : null}\n          {comments.results.length ? (\n            // if there are comments, they're shown\n            comments.results.map((comment) => (\n              <Comment\n                key={comment.id}\n                {...comment}\n                setPost={setPost}\n                setComments={setComments}\n              />\n            ))\n          ) : // if there are no comments, we are checking if user is logged in\n          currentUser ? (\n            <span>No comments yet, be the first to comment.</span>\n          ) : (\n            // if the user is not logged in\n            <span>No comments...yet. Log in to comment.</span>\n          )}\n        </Container>\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default PostPage;\n","import React, { useEffect, useState } from \"react\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport Post from \"./Post\";\nimport Asset from \"../../components/Asset\";\nimport { useLocation } from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport appStyles from \"../../App.module.css\";\n\nimport axios from \"axios\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport PopularCategories from \"../../components/PopularCategories\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport Add from \"../../components/Add\";\n\n// modelled after Moments lessons\nfunction PostsPage({ message, filter = \"\", selectedCategory = \"\" }) {\n  const [posts, setPosts] = useState({ results: [] });\n  // keeping track if all data has loaded\n  const [isLoaded, setIsLoaded] = useState(false);\n  // we'll have to re-fetch posts again when user clicks between home, feed and liked pages.\n  // to detect location, we'll use useLocation react router hook.\n  const { pathname } = useLocation();\n\n  // attemting to fix loading issues when not logged in\n  const currentUser = useCurrentUser();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        // the request string will contain filter parameter, which comes from the filter prop we set in routes.\n        // tells API if we want to see all posts or certain ones.\n        if (currentUser == null) {\n          const { data } = await axios.get(`/posts/?${filter}`);\n          setPosts(data);\n        } else {\n          const { data } = await axiosRequest.get(`/posts/?${filter}`);\n          setPosts(data);\n        }\n        // setting IsLoaded to true so spinner no longer spins.\n        setIsLoaded(true);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    // we want spinner displayed before we fetch posts.\n    setIsLoaded(false);\n    // we want this called any time filter or url changes.\n    \n    fetchPosts();\n  }, [filter, pathname, currentUser]);\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        {/* ternary to display spinner or posts */}\n        {isLoaded ? (\n          // nested ternary to display posts or message.\n          <>\n            {posts.results.length ? (\n              <InfiniteScroll\n                // child component will tell our Infinite Scroll component which child components we want it to render.\n                children={\n                  // map over posts and render each one\n                  posts.results.map((post) => (\n                    // setPosts is needed to like posts.\n                    <Post key={post.id} {...post} setPosts={setPosts} />\n                  ))\n                }\n                // how many posts are displayed\n                dataLength={posts.results.length}\n                // loader\n                loader={<Asset spinner />}\n                // check if there is more data to display\n                // we use double not operator, returns true for truthy and false for falsy values\n                // next is set to null if there are no more posts left\n                hasMore={!!posts.next}\n                // if hasMore is true, loads more\n                next={() => fetchMoreData(posts, setPosts)}\n              />\n            ) : (\n              // show no results asset\n              <Container className={appStyles.Content}>\n                {/* message we passed down */}\n                <Asset message={message} />\n              </Container>\n            )}\n          </>\n        ) : (\n          // spinner\n          <Container className={appStyles.Content}>\n            <Asset spinner />\n          </Container>\n        )}\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories selectedCategory={selectedCategory} />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default PostsPage;\n","import React, { useEffect, useRef, useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\n\nimport Asset from \"../../components/Asset\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\nimport axios from \"axios\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nfunction PostEditForm() {\n  const [errors, setErrors] = useState({});\n\n  const [categories, setCategories] = useState(\"\");\n\n  const [postData, setPostData] = useState({\n    content: \"\",\n    image: \"\",\n    category: \"\",\n  });\n\n  const { content, image, category } = postData;\n  // const { content, image } = postData;\n\n  // We use this useRef hook to maintain a reference to the form file upload element. Note it has a ref prop where we give it this hook below.\n  const imageInput = useRef(null);\n\n  // We use this useHistory hook to redirect the user.\n  const history = useHistory();\n\n  const { id } = useParams();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n        console.log(data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        const { data } = await axiosRequest.get(`/posts/${id}/`);\n        // const { content, image, is_owner } = data;\n        const { content, image, category, is_owner } = data;\n        console.log(data);\n        // if user is owner, prepopulate the post, else redirect\n        is_owner\n          ? setPostData({ content, image, category })\n          // ? setPostData({ content, image })\n          : history.push(\"/\");\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    fetchPost();\n    // dependency array takes history and id.\n  }, [history, id]);\n\n  const handleChangePost = (e) => {\n    // post change handler\n    setPostData({\n      ...postData,\n      content: e.target.value,\n    });\n  };\n\n  // copied from Moments lessons\n  const handleChangeImage = (e) => {\n    // image change handler\n    // checking if there is a file\n    console.log(e.target.files.length);\n    if (e.target.files.length) {\n      // revokeObjectURL is used to clear browser's reference to the previous file\n      // used in cases when user decides to use a different image after upload\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(e.target.files[0]),\n      });\n    }\n  };\n\n  const handleChangeCategory = (e) => {\n    // category change handler\n    setPostData({\n      ...postData,\n      category: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // submit function\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"content\", content);\n    // check if there is a file to be appended\n    if (imageInput.current.files.length !== 0) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"category\", category);\n\n    console.log(\"formdata\", formData);\n    // copied from Moments lessons\n    // because we're sending image as well as text to our API,\n    // we need to refresh our user's access token before making the request\n    try {\n      const { data } = await axiosRequest.put(`/posts/${id}/`, formData);\n      console.log(data);\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const categoryField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label htmlFor=\"category\">Category</Form.Label>\n        <Form.Control\n          as=\"select\"\n          aria-label=\"tbd\"\n          id=\"category\"\n          // defaultValue=\"Category\"\n          onChange={handleChangeCategory}\n        >\n          <option disabled>Category</option>\n          {categories.results?.map((category) => (\n            <option key={category.id} value={category.id}>\n              {category.name}: {category.description}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      {errors.category?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const textField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={4}\n          name=\"content\"\n          placeholder=\"Type your post\"\n          value={content}\n          onChange={handleChangePost}\n        />\n      </Form.Group>\n      {errors.content?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const imageField = (\n    <div>\n      <Form.Group>\n        {image ? (\n          <>\n            <figure>\n              <Image className={authStyles.Image} src={image} rounded />\n            </figure>\n            <div className=\"mr-auto text-right\">\n              <Form.Label\n                className={`${bttnStyles.Button} btn`}\n                htmlFor=\"image-upload\"\n              >\n                Change the image\n              </Form.Label>\n            </div>\n          </>\n        ) : (\n          <Form.Label\n            className={`${bttnStyles.Button} text-center ${\n              smallScreen ? styles.ButtonRight : bttnStyles.Wide\n            }`}\n            htmlFor=\"image-upload\"\n          >\n            <Asset message=\"Click or tap to upload an image\" />\n          </Form.Label>\n        )}\n        <Form.File\n          id=\"image-upload\"\n          accept=\"image/*\"\n          onChange={handleChangeImage}\n          ref={imageInput}\n          hidden\n        />\n      </Form.Group>\n      {errors.image?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const buttonField = (\n    <div className=\"text-right\">\n      <Button\n        className={`${bttnStyles.Button} m-2`}\n        onClick={() => history.goBack()}\n      >\n        Cancel\n      </Button>\n      <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n        Update\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        {smallScreen ? (\n          <>\n            <Col className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div className=\"p-2\">{imageField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n          </>\n        ) : (\n          <>\n            <Col md={8} className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n            <Col className=\"py-2 p-0 p-md-2\" md={4}>\n              <Container className={`${appStyles.Content} ${styles.Container}`}>\n                <div className=\"p-2\">{imageField}</div>\n              </Container>\n            </Col>\n          </>\n        )}\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostEditForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport Asset from \"../../components/Asset\";\n\nimport styles from \"../../styles/ProfilePage.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\n\nimport PopularCategories from \"../../components/PopularCategories\";\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\nimport { axiosRequest, axiosResponse } from \"../../api/axiosDefaults\";\nimport { useParams } from \"react-router-dom\";\nimport { Button, Image } from \"react-bootstrap\";\n\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Post from \"../posts/Post\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport { ProfileEditDropdown } from \"../../components/Dropdowns\";\nimport Add from \"../../components/Add\";\n\nimport axios from \"axios\";\n\n// built following Moments lessons, with major changes\nfunction ProfilePage() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  // extracting id from the url to know which profile to fetch\n  const { id } = useParams();\n\n\n  const [currentProfile, setCurrentProfile] = useState()\n  const [currentPosts, setCurrentPosts] = useState({ results: [] })\n  const currentUser = useCurrentUser();\n  const [currentUserProfile, setCurrentUserProfile] = useState()\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  const FetchProfileData = async () => {\n    /* Function fetches current profile\n    and current profile posts */\n    try {\n      const [profile, posts] = await Promise.all([\n        axios.get(`/profiles/${id}/`),\n        // updated url temporarily due to url appearing with two api/ when fetching\n        axios.get(`posts/?owner__profile=${id}`)\n      ])\n      setCurrentProfile(profile.data);\n      setCurrentPosts(posts.data);\n      console.log(currentPosts)\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const FetchCurrentUserProfile = async () => {\n    /* Function fetches current user profile */\n    try {\n      console.log(\"id\", currentUser.profile_id)\n      const profile = await axiosRequest.get(`/profiles/${currentUser.profile_id}/`);\n      console.log(profile.data)\n      setCurrentUserProfile(profile.data)\n      console.log(\"CURRENT USER PROFILE\", currentUserProfile);\n    } catch (err) {\n      console.log(err);\n  };\n}\n\n  useEffect(() => {\n    /* Generates a warning in the console,\n    however, moving function within useEffect does not solve the issue,\n    but makes it worse. */\n    FetchProfileData();\n    if (currentUser) {\n      FetchCurrentUserProfile();\n    }\n    setIsLoaded(true)\n  }, [id, currentUser?.profile_id]);\n\n  const handleFollow = async () => {\n    /* Function updates current profile and \n    current user profile data after following them */\n    try {\n      // destructuring data property from the response object\n      const { data } = await axiosResponse.post(\"/followers/\", {\n        // data sent is what profile user followed\n        followed: currentProfile.id,\n      });\n      setCurrentProfile(prevCurrentProfile => ({\n        ...prevCurrentProfile,\n        followers_count: currentProfile.followers_count + 1,\n        following_id: data.id,\n    }))\n    setCurrentUserProfile(prevCurrentUserProfile => ({\n      ...prevCurrentUserProfile,\n      following_count: currentUserProfile.followers_count + 1,\n    }))\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n    const handleUnfollow = async () => {\n    /* Function updates current profile and \n    current user profile data after following them */\n    try {\n      await axiosResponse.delete(`/followers/${currentProfile.following_id}/`);\n      setCurrentProfile(prevCurrentProfile => ({\n        ...prevCurrentProfile,\n        followers_count: currentProfile.followers_count - 1,\n        following_id: null,\n      }))\n      setCurrentUserProfile(prevCurrentUserProfile => ({\n        ...prevCurrentUserProfile,\n        following_count: currentUserProfile.followers_count - 1,\n      }))\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const mainProfile = (\n    <>\n    {currentProfile?.is_owner && <ProfileEditDropdown id={currentProfile?.id} />}\n      <Row noGutters className={`text-center ${appStyles.Content}`}>\n        <Col md={2} className=\" mt-1 offset-lg-0\">\n          <Image\n            className={`${styles.ProfileAvatar}`}\n            roundedCircle\n            src={currentProfile?.avatar}\n          />\n        </Col>\n        <Col md={5} className=\"mt-1 align-content-center\">\n          <h3 className={styles.ProfileUsername}>{currentProfile?.owner}</h3>\n        </Col>\n        <Col\n          md={3}\n          className=\"mt-1 offset-md-2 text-lg-right d-flex justify-content-end pr-3\"\n        >\n          {currentUser && !currentProfile?.is_owner &&\n            (currentProfile?.following_id ? (\n              <Button\n                className={bttnStyles.Button}\n                onClick={handleUnfollow}\n              >\n                Unfollow\n              </Button>\n            ) : (\n              <Button\n                className={bttnStyles.Button}\n                onClick={handleFollow}\n              >\n                Follow\n              </Button>\n            ))\n            }\n        </Col>\n        <Col className={`${styles.ProfileText} align-content-center`}>\n          {/* user stats */}\n          <Row className=\"justify-content-center no-gutters mt-2\">\n            <Col xs={3} className=\"pr-4\">\n              <div>{currentProfile?.posts_count}</div>\n              <span>Posts</span>\n            </Col>\n            <Col xs={3} className=\"pr-2\">\n              <div>{currentProfile?.followers_count}</div>\n              <span>Followers</span>\n            </Col>\n            <Col xs={3} className=\"pl-2\">\n              <div>{currentProfile?.following_count}</div>\n              <span>Following</span>\n            </Col>\n            <Col xs={3} className=\"pl-4\">\n              <div>{currentProfile?.saved_count}</div>\n              <span>Status</span>\n            </Col>\n          </Row>\n        </Col>\n          <Col xs={12} className={`${styles.ProfileText} text-left mt-3`}>\n        <div><strong>Name: </strong>{currentProfile?.name}</div>\n        <div className=\"mt-2\"><strong>Bio: </strong>{currentProfile?.bio}</div>\n        </Col>\n      </Row>\n      </>\n  );\n\n  const mainProfilePosts = (\n    <>\n      {currentPosts.results.length ? (\n        <InfiniteScroll\n          children={currentPosts.results.map((post) => (\n            <Post key={post.id} {...post} className={appStyles.Content} setCurrentPosts={setCurrentPosts} profilePage />\n          ))}\n          dataLength={currentPosts.results.length}\n          loader={<Asset spinner />}\n          hasMore={!!currentPosts.next}\n          next={() => fetchMoreData(currentPosts, setCurrentPosts)}\n        />\n      ) : (\n        <div className={`${appStyles.Content}`}>\n        <Asset\n          message={`${currentProfile?.owner} hasn't posted yet.`}\n        />\n        </div>\n      )}\n    </>\n\n  );\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        <Container >\n          {isLoaded ? (\n            <>\n              {mainProfile}\n              {smallScreen && \n                <Add />\n              }\n              {mainProfilePosts}\n            </>\n          ) : (\n            <Asset spinner />\n          )}\n        </Container>\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default ProfilePage;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\n\nimport bird from \"../../assets/bird.jpg\";\n\n// based off of Moments with some adjustments\nconst EditUsernameForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  const { id } = useParams();\n\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() === id) {\n      setUsername(currentUser.username);\n    } else {\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axiosResponse.put(\"/dj-rest-auth/user/\", {\n        username,\n      });\n      setCurrentUser((prevUser) => ({\n        ...prevUser,\n        username,\n      }));\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={authStyles.Header}>Change Username</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group>\n              <Form.Label>Change username</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <div className=\"text-right\">\n              <Button\n                className={`${bttnStyles.Button} mr-1`}\n                onClick={() => history.goBack()}\n              >\n                Cancel\n              </Button>\n              <Button className={`${bttnStyles.Button}`} type=\"submit\">\n                Save\n              </Button>\n              {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n              ))}\n            </div>\n          </Form>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${authStyles.AuthCol}`}\n      >\n        <Image\n          className={`${authStyles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default EditUsernameForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\n\nimport bird from \"../../assets/bird.jpg\";\n\n// copied from Moments with minor adjustments\nconst UserEditPasswordForm = () => {\n  const history = useHistory();\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n\n  const [userData, setUserData] = useState({\n    new_password1: \"\",\n    new_password2: \"\",\n  });\n  const { new_password1, new_password2 } = userData;\n\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (e) => {\n    setUserData({\n      ...userData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() !== id) {\n      // redirect user if they are not the owner of this profile\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axiosResponse.post(\"/dj-rest-auth/password/change/\", userData);\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={authStyles.Header}>Change Password</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"new_password1\">\n              <Form.Label className=\"d-none\">New password</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"New password\"\n                type=\"password\"\n                value={new_password1}\n                onChange={handleChange}\n                name=\"new_password1\"\n              />\n            </Form.Group>\n            {errors?.new_password1?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <Form.Group controlId=\"new_password2\">\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"Confirm new password\"\n                type=\"password\"\n                value={new_password2}\n                onChange={handleChange}\n                name=\"new_password2\"\n              />\n            </Form.Group>\n            {errors?.new_password2?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <div className=\"text-right\">\n              <Button\n                className={`${bttnStyles.Button} mr-1`}\n                onClick={() => history.goBack()}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" className={`${bttnStyles.Button}`}>\n                Save\n              </Button>\n              {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n              ))}\n            </div>\n          </Form>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${authStyles.AuthCol}`}\n      >\n        <Image\n          className={`${authStyles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default UserEditPasswordForm;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport { axiosRequest } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport postFormStyles from \"../../styles/PostCreateEditForm.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\"\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\"\n\n// based off of Moments with many adjustments\nconst EditProfileForm = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const { id } = useParams();\n  const history = useHistory();\n  const imageFile = useRef();\n\n  const [profileData, setProfileData] = useState({\n    name: \"\",\n    bio: \"\",\n    avatar: \"\",\n  });\n  const { name, bio, avatar } = profileData;\n\n  const [errors, setErrors] = useState({});\n\n // screen width check\n const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      if (currentUser?.profile_id?.toString() === id) {\n        try {\n          const { data } = await axiosRequest.get(`/profiles/${id}/`);\n          const { name, bio, avatar } = data;\n          setProfileData({ name, bio, avatar });\n        } catch (err) {\n          console.log(err);\n          history.push(\"/\");\n        }\n      } else {\n        history.push(\"/\");\n      }\n    };\n    handleMount();\n  }, [currentUser, history, id]);\n\n  const handleChange = (e) => {\n    setProfileData({\n      ...profileData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"bio\", bio);\n\n    if (imageFile?.current?.files[0]) {\n      formData.append(\"avatar\", imageFile?.current?.files[0]);\n    }\n\n    try {\n      const { data } = await axiosRequest.put(`/profiles/${id}/`, formData);\n      setCurrentUser((currentUser) => ({\n        ...currentUser,\n        profile_avatar: data.avatar,\n      }));\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  const avatarField = (\n    <Form.Group>\n    {avatar && (\n      <figure>\n        <Image className={authStyles.Image} src={avatar} fluid />\n      </figure>\n    )}\n    {errors?.avatar?.map((message, idx) => (\n      <Alert variant=\"warning\" key={idx}>\n        {message}\n      </Alert>\n    ))}\n    <div className=\"mr-auto text-right\">\n      <Form.Label\n        className={`${bttnStyles.Button} btn`}\n        htmlFor=\"image-upload\"\n      >\n        Change the image\n      </Form.Label>\n    </div>\n    <Form.File\n    hidden\n      id=\"image-upload\"\n      ref={imageFile}\n      accept=\"image/*\"\n      onChange={(e) => {\n        if (e.target.files.length) {\n          setProfileData({\n            ...profileData,\n            avatar: URL.createObjectURL(e.target.files[0]),\n          });\n        }\n      }}\n    />\n  </Form.Group>\n  )\n\n  const textFields = (\n    <>\n      <Form.Group>\n        <Form.Label>Your name</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={name}\n          placeholder=\"Your name\"\n          rows={1}\n          name=\"name\"\n          onChange={handleChange}\n        />\n      </Form.Group>\n      {errors?.name?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n      <Form.Group>\n        <Form.Label>Your bio</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={bio}\n          placeholder=\"Your bio\"\n          name=\"bio\"\n          rows={4}\n          onChange={handleChange}\n        />\n      </Form.Group>\n      {errors?.bio?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </>\n  );\n\n  const buttonField = (\n    <div className=\"text-right\">\n    <Button\n    className={`${bttnStyles.Button} m-2`}\n    onClick={() => history.goBack()}\n  >\n    Cancel\n  </Button>\n  <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n    Post\n  </Button>\n  </div>\n  )\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n      {smallScreen ? (\n        <Col className=\"p-0 p-md-2\">\n          <Container className={appStyles.Content}>\n            <div>\n              {textFields}\n            </div>\n            <div>\n              {avatarField}\n            </div>\n            <div>{buttonField}</div>\n          </Container>\n        </Col>\n      ) : (\n        <>\n        <Col md={8} className=\"p-0 p-md-2\">\n        <Container className={appStyles.Content}>\n          <div>{textFields}</div>\n          <div>{buttonField}</div>\n        </Container>\n      </Col>\n        <Col className=\"py-2 p-0 p-md-2\" md={4}>\n          <Container className={`${appStyles.Content} ${postFormStyles.Container}`}><div className=\"p-2\">{avatarField}</div></Container>\n        </Col>\n        </>\n      )}\n      </Row>\n    </Form>\n  );\n};\n\nexport default EditProfileForm;\n","import styles from \"./App.module.css\";\nimport NavBar from \"./components/NavBar\";\nimport Container from \"react-bootstrap/Container\";\nimport { Route, Switch } from \"react-router-dom\";\nimport \"./api/axiosDefaults\";\nimport RegisterForm from \"./pages/auth/RegisterForm\";\nimport LoginForm from \"./pages/auth/LoginForm\";\nimport PageNotFound from \"./components/PageNotFound\";\nimport PostCreateForm from \"./pages/posts/PostCreateForm\";\nimport PostPage from \"./pages/posts/PostPage\";\nimport PostsPage from \"./pages/posts/PostsPage\";\nimport PostEditForm from \"./pages/posts/PostEditForm\";\nimport { useCurrentUser } from \"./contexts/CurrentUserContext\";\nimport { useSelectedCategory } from \"./contexts/SelectedCategoryContext\";\nimport ProfilePage from \"./pages/profiles/ProfilePage\";\nimport EditUsernameForm from \"./pages/profiles/EditUsernameForm\";\nimport EditPasswordForm from \"./pages/profiles/EditPasswordForm\";\nimport EditProfileForm from \"./pages/profiles/EditProfileForm\";\n\nfunction App() {\n  const currentUser = useCurrentUser();\n  const selectedCategory = useSelectedCategory();\n\n  // need profile_id to filter the posts by.\n  // defaults to an empty string if current user details are still being fetched.\n  const profile_id = currentUser?.profile_id || \"\";\n\n  return (\n    <div className={styles.App}>\n      <NavBar />\n      <Container className={styles.Main}>\n        <Switch>\n          {/* home, feed and liked routes modelled after Moments code */}\n          <Route\n            className={styles.Content}\n            exact\n            path=\"/\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage message=\"No results found.\" />\n            )}\n          />\n          <Route\n            exact\n            path=\"/feed\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No results found. Adjust your search keyword or follow a user.\"\n                filter={`owner__followed__owner__profile=${profile_id}&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/liked\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No results found. Adjust your search keyword or like a post.\"\n                filter={`likes__owner__profile=${profile_id}&ordering=-likes__created&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/saved\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No results found. Adjust your search keyword or save a post.\"\n                filter={`saved__owner__profile=${profile_id}&ordering=-saved__created&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/categories/:id/posts\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No results found.\"\n                filter={`category_id=${selectedCategory}&ordering=-created&`}\n                selectedCategory={selectedCategory}\n              />\n            )}\n          />\n          <Route exact path=\"/login\" render={() => <LoginForm />} />\n          <Route exact path=\"/register\" render={() => <RegisterForm />} />\n          <Route exact path=\"/posts/create\" render={() => <PostCreateForm />} />\n          <Route exact path=\"/posts/:id/edit\" render={() => <PostEditForm />} />\n          <Route exact path=\"/posts/:id\" render={() => <PostPage />} />\n          <Route exact path=\"/profiles/:id\" render={() => <ProfilePage />} />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/username\"\n            render={() => <EditUsernameForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/password\"\n            render={() => <EditPasswordForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit\"\n            render={() => <EditProfileForm />}\n          />\n          <Route render={() => <PageNotFound />} />\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\nimport { SelectedCategoryProvider } from \"./contexts/SelectedCategoryContext\";\n\nReactDOM.render(\n  <Router>\n    <CurrentUserProvider>\n      <SelectedCategoryProvider>\n          <App />\n      </SelectedCategoryProvider>\n    </CurrentUserProvider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1amC6\",\"NavLink\":\"NavBar_NavLink__34ons\",\"Active\":\"NavBar_Active__3PBZb\",\"Brand\":\"NavBar_Brand__iWmt7\",\"NavLinkOffset\":\"NavBar_NavLinkOffset__1pQTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__3UScv\",\"PostHeader\":\"Post_PostHeader__3M--4\",\"PostText\":\"Post_PostText__3e2Ye\",\"IconText\":\"Post_IconText__YMwZV\",\"Category\":\"Post_Category__3sIbT\",\"PostImage\":\"Post_PostImage__1ZuuZ\",\"HeaderContent\":\"Post_HeaderContent__r6onr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"Dropdowns_DropdownItem__3dbO9\",\"DropdownBackground\":\"Dropdowns_DropdownBackground__1ejJx\",\"Absolute\":\"Dropdowns_Absolute__3M8sS\",\"DropdownIcon\":\"Dropdowns_DropdownIcon__2sva1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__2WHuV\",\"ButtonRight\":\"PostCreateEditForm_ButtonRight__31el0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileAvatar\":\"ProfilePage_ProfileAvatar__2KT7F\",\"ProfileUsername\":\"ProfilePage_ProfileUsername__zUlMb\",\"ProfileText\":\"ProfilePage_ProfileText__3KIBm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"PopularCategories_Header__209lK\",\"CategoryName\":\"PopularCategories_CategoryName__5QzJb\",\"Container\":\"PopularCategories_Container__2JDrL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__196lW\",\"Username\":\"Avatar_Username__3u3zc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__1dBcX\",\"ProfileText\":\"Asset_ProfileText__2yoNB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotFound\":\"PageNotFound_NotFound__2kk2i\",\"Subheader\":\"PageNotFound_Subheader__y_PYS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Commenter\":\"Comment_Commenter__jS4-t\",\"ModifiedDate\":\"Comment_ModifiedDate__2xZBi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddImage\":\"Adds_AddImage__3CCcO\",\"AddText\":\"Adds_AddText__208_5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"Content\":\"App_Content__ZaMNr\",\"Main\":\"App_Main__HQkvd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentFormWidth\":\"PostPage_CommentFormWidth__2vEMG\"};"],"sourceRoot":""}