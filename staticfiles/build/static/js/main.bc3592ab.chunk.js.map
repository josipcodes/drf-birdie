{"version":3,"sources":["styles/AuthForm.module.css","styles/Button.module.css","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/Avatar.js","hooks/useScreenWidth.js","components/Asset.js","contexts/SelectedCategoryContext.js","components/PopularCategories.js","hooks/useNavBarToggle.js","components/NavBar.js","assets/birdie.png","assets/bird.jpg","hooks/useRedirect.js","pages/auth/RegisterForm.js","pages/auth/LoginForm.js","components/PageNotFound.js","pages/posts/PostCreateForm.js","components/Dropdowns.js","pages/posts/Post.js","pages/comments/CommentCreateForm.js","pages/comments/CommentEditForm.js","components/Comment.js","components/Add.js","pages/posts/PostPage.js","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","pages/profiles/ProfilePage.js","pages/profiles/EditUsernameForm.js","pages/profiles/EditPasswordForm.js","pages/profiles/EditProfileForm.js","App.js","reportWebVitals.js","index.js","styles/NavBar.module.css","styles/Post.module.css","styles/Dropdowns.module.css","styles/PostCreateEditForm.module.css","styles/Comment.module.css","styles/ProfilePage.module.css","styles/CommentCreateEditForm.module.css","styles/Asset.module.css","styles/PopularCategories.module.css","styles/Avatar.module.css","styles/PageNotFound.module.css","styles/Adds.module.css","App.module.css","styles/PostPage.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosRequest","create","axiosResponse","removeTokenTimestamp","localStorage","removeItem","fetchMoreData","async","resource","setResource","url","URL","next","pathname","search","replace","console","log","requestUrl","data","get","prevResource","results","reduce","acc","cur","some","accResult","id","err","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","history","useHistory","useEffect","handleMount","useMemo","interceptors","request","use","config","getItem","prevCurrentUser","push","Promise","reject","response","_err$response","status","_jsx","Provider","value","Avatar","src","height","text","_jsxs","className","styles","Username","width","alt","ScreenWidth","setWidth","window","innerWidth","handleResize","addEventListener","removeEventListener","Asset","spinner","message","buttonMessage","Spinner","animation","variant","concat","ProfileText","ButtonText","SelectedCategoryContext","SetSelectedCategoryContext","SelectedCategoryProvider","selectedCategory","setSelectedCategory","PopularCategories","_categories$results","_categories$results2","categories","setCategories","fetchCategories","appStyles","Content","CategoryContainer","length","_Fragment","Header","map","category","Link","to","CategoryName","onClick","handleClick","category_id","name","useNavBarToggle","expanded","setExpanded","ref","useRef","handleClickOutside","e","target","current","contains","document","NavBar","smallScreen","useScreenWidth","newPost","NavLink","activeClassName","Active","homePage","exact","avatarDisplay","profile_id","profile_avatar","username","loggedInOptions","NavLinkOffset","loggedOutOptions","Navbar","expand","fixed","bg","Container","Brand","Nav","Toggle","Collapse","useRedirect","userAuthStatus","RegisterForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","signUpData","setSignUpData","password1","password2","errors","setErrors","handleChange","Row","Col","AuthCol","md","Form","onSubmit","preventDefault","Group","controlId","Label","Control","Input","type","placeholder","onChange","idx","Alert","Button","bttnStyles","Wide","non_field_errors","Image","bird","LoginForm","signInData","setSignInData","password","user","refreshTokenTimestamp","jwtDecode","refresh_token","exp","setItem","setTokenTimestamp","goBack","PageNotFound","authStyles","Main","NotFound","Subheader","PostCreateForm","_errors$category","_errors$content","_errors$image","postData","setPostData","content","image","imageInput","categoryField","htmlFor","as","defaultValue","disabled","description","textField","rows","imageField","rounded","ButtonRight","File","accept","files","revokeObjectURL","createObjectURL","hidden","buttonField","formData","FormData","append","_err$response2","ThreeDots","React","forwardRef","MoreDropdown","_ref2","handleEdit","handleDelete","Dropdown","drop","Menu","DropdownBackground","popperConfig","strategy","Item","DropdownItem","DropdownIcon","ProfileEditDropdown","_ref3","Absolute","Post","props","owner","modified","like_id","comments_count","likes_count","category_name","saved_id","saved_count","postPage","profilePage","setPosts","setCurrentPosts","is_owner","Card","ProfilePost","Body","Media","PostHeader","OwnerLinkIcon","delete","Category","PostText","Img","PostImage","IconText","OverlayTrigger","placement","overlay","Tooltip","PostNotLiked","prevPosts","PostLiked","CommentIcon","PostSaved","PostNotSaved","CommentCreateForm","setPost","setComments","setContent","prevComments","prevPost","InputGroup","CommentHeight","trim","CommentEditForm","setShowEditForm","formContent","setFormContent","event","put","comment","Comment","showEditForm","MediaBody","Commenter","ModifiedDate","CommentDisplay","filter","Add","advertisements","setAdvertisements","selectedAdd","setSelectedAdd","isLoaded","setIsLoaded","fetchAdds","_advertisements$resul","randomSelect","Math","floor","random","AddImage","AddText","PostPage","useParams","comments","all","postStyles","CommentFormWidth","InfiniteScroll","dataLength","loader","hasMore","PostsPage","posts","useLocation","fetchPosts","PostEditForm","fetchPost","ProfilePage","currentProfile","setCurrentProfile","currentPosts","currentUserProfile","setCurrentUserProfile","profile","FetchProfileData","FetchCurrentUserProfile","mainProfile","noGutters","ProfileAvatar","roundedCircle","avatar","ProfileUsername","following_id","prevCurrentProfile","followers_count","prevCurrentUserProfile","following_count","followed","xs","posts_count","bio","mainProfilePosts","EditUsernameForm","setUsername","_currentUser$profile_","toString","prevUser","UserEditPasswordForm","_errors$new_password","_errors$new_password2","userData","setUserData","new_password1","new_password2","EditProfileForm","_errors$avatar","_errors$name","_errors$bio","imageFile","profileData","setProfileData","avatarField","fluid","textFields","_imageFile$current","_imageFile$current2","postFormStyles","App","Switch","Route","path","render","EditPasswordForm","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.bc3592ab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"AuthForm_Row__2PgqZ\",\"Input\":\"AuthForm_Input__3ONjR\",\"Header\":\"AuthForm_Header__3VpYh\",\"Link\":\"AuthForm_Link__2iPzL\",\"Container\":\"AuthForm_Container__3WYp7\",\"AuthCol\":\"AuthForm_AuthCol__1jY3i\",\"Image\":\"AuthForm_Image__2wfBh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\",\"Wide\":\"Button_Wide__2ScDr\"};"," // IMPORTANT!!\n // Because this React app is running in the same workspace as the API,\n\n // there is no need to set a separate baseURL until you reach deployment.\n\n // Setting a baseURL before you reach deployment will cause errors\n\n import axios from \"axios\";\n\n// from Moments lessons, modified\n axios.defaults.baseURL = '/api';\n\n \n // multipart as our app will deal with images, texts...\n axios.defaults.headers.post['Content-Type'] = \"multipart/form-data\"\n axios.defaults.withCredentials = true;\n\n // to intercept the request\nexport const axiosRequest = axios.create();\n// to intercept the response\nexport const axiosResponse = axios.create();","import jwtDecode from \"jwt-decode\";\nimport { axiosRequest } from \"../api/axiosDefaults\";\nimport axios from \"axios\";\n\n// copied from Moments\n// function accepts data object returned by API on login.\n// exp is expiry date.\nexport const setTokenTimestamp = (data) => {\n  const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n};\n\nexport const shouldRefreshToken = () => {\n  // returns refreshToken timestamp converted by double not operator.\n  // token will only be refreshed for a logged in user.\n  return !!localStorage.getItem(\"refreshTokenTimestamp\");\n};\n\nexport const removeTokenTimestamp = () => {\n  // removed time stamp from the localStorage\n  localStorage.removeItem(\"refreshTokenTimestamp\");\n};\n\n// when replacing localhost address from dev tools with an actual page address, I can see next data\n// used for InfiniteScroll\nexport const fetchMoreData = async (resource, setResource) => {\n  try {\n    // code provided by Sean and Roman from Tutor support\n    let url = new URL(resource.next);\n    url = (url.pathname + url.search).replace('/api', '')\n    console.log({requestUrl: url})\n    // replacing axiosRequest with axios so data is fetched\n    // regardless is user is signed in\n    const { data } = await axios.get(url);\n\n    setResource((prevResource) => ({\n      ...prevResource,\n      next: data.next,\n      results: data.results.reduce((acc, cur) => {\n        return acc.some((accResult) => accResult.id === cur.id)\n          ? acc\n          : [...acc, cur];\n      }, prevResource.results),\n    }));\n  } catch (err) {\n    console.log(err);\n  }\n};\n","import { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { axiosRequest, axiosResponse } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\n// based off of Moments lessons\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const history = useHistory();\n\n  const handleMount = async () => {\n    try {\n      const { data } = await axiosResponse.get(\"dj-rest-auth/user/\");\n      console.log(\"CurrentUserProvider\", data)\n      // Set the current user with the data we get back.\n      // Without this, we'd have to log in after each refresh\n      setCurrentUser(data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handleMount();\n  }, []);\n\n  // refreshing tokens\n  useMemo(() => {\n    // request interceptor\n    axiosRequest.interceptors.request.use(\n      async (config) => {\n        console.log(config)\n        // if runs only when token needs refreshing\n        if (shouldRefreshToken()) {\n          try {\n            // attempting to refresh the token\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            // if token refresh failed and user was previously logged in\n            // if refresh token expired\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n            return config;\n          }\n          return config;\n        }\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n\n    // response interceptor\n    axiosResponse.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status === 401) {\n          try {\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\n          } catch (err) {\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push(\"/login\");\n              }\n              return null;\n            });\n            removeTokenTimestamp();\n          }\n          return axios(err.config);\n        }\n        // Promise rejected if error wasn't 401\n        return Promise.reject(err);\n      }\n    );\n  }, [history]);\n\n  return (\n    // Providers allow current user value and\n    // function that is updating it to be available to all children\n    <CurrentUserContext.Provider value={currentUser}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n};\n","import React from \"react\";\nimport styles from \"../styles/Avatar.module.css\";\n\nconst Avatar = ({ src, height = 45, text }) => {\n  return (\n    <span className={styles.Username}>\n      <img\n        className={styles.Avatar}\n        src={src}\n        height={height}\n        width={height}\n        alt=\"user avatar\"\n      />\n      {text}\n    </span>\n  );\n};\n\n\nexport default Avatar;","import { useState, useEffect } from 'react';\n\n/* code copied from \nhttps://www.altcademy.com/blog/how-to-check-screen-width-in-reactjs/ \nCode modified to return boolean value */ \nconst ScreenWidth = () => {\n  const [width, setWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n//   returning boolean value\n  return width < 768;\n}\n\nexport default ScreenWidth;","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport styles from \"../styles/Asset.module.css\";\n\n// temporarily copied from Moments\n// minor changes applied\nconst Asset = ({ spinner, src, message, buttonMessage }) => {\n  return (\n    <div className={styles.Asset}>\n      {spinner && <Spinner animation=\"border\" variant=\"warning\" />}\n      {src && <img src={src} alt={message} />}\n      {message && <p className={`${styles.ProfileText} mt-4`}>{message}</p>}\n      {buttonMessage && <p className={`${styles.ButtonText} mt-4`}>{buttonMessage}</p>}\n    </div>\n  );\n};\n\nexport default Asset;\n","import { createContext, useContext, useState } from \"react\";\n\n// based off of Moments lessons\nexport const SelectedCategoryContext = createContext();\nexport const SetSelectedCategoryContext = createContext();\n\nexport const useSelectedCategory = () => useContext(SelectedCategoryContext);\nexport const useSetSelectedCategory = () => useContext(SetSelectedCategoryContext);\n\nexport const SelectedCategoryProvider = ({ children }) => {\n    // manually inputing a nonexistant id in the url will default to the first category created\n  const [selectedCategory, setSelectedCategory] = useState(1);\n\n  return (\n    // Providers allow current user value and\n    // function that is updating it to be available to all children\n    <SelectedCategoryContext.Provider value={selectedCategory}>\n      <SetSelectedCategoryContext.Provider value={setSelectedCategory}>\n        {children}\n      </SetSelectedCategoryContext.Provider>\n    </SelectedCategoryContext.Provider>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport appStyles from \".././App.module.css\";\nimport Asset from \".././components/Asset\";\n\nimport styles from \".././styles/PopularCategories.module.css\"\nimport { Link } from \"react-router-dom\";\n\nimport { useSetSelectedCategory } from \"../contexts/SelectedCategoryContext\";\n\nconst PopularCategories = ({selectedCategory}) => {\n  const [categories, setCategories] = useState(\"\");\n\n  const setSelectedCategory = useSetSelectedCategory()\n\n\n  useEffect(() => {\n    // fetching existing categories\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  const handleClick = (category_id) => {\n    // setting selected category\n    setSelectedCategory(category_id);\n    console.log(\"category_id\", category_id)\n    console.log(\"selectedCategory\", selectedCategory)\n  };\n\n  return (\n    <div className={`${appStyles.Content} ${styles.CategoryContainer}`}>\n      {categories?.results?.length ? (\n        <>\n        {/* display categories in the order of popularity */}\n          <h1 className={styles.Header}>Popular categories</h1>\n          {categories.results?.map((category) => (\n            <Link to={`/categories/${category.id}/posts`} className={styles.CategoryName} key={category.id} onClick={() => handleClick(category.id)}>{category.name}</Link>\n          ))}\n        </>\n      ) : (\n        <Asset spinner />\n      )}\n    </div>\n  );\n};\n\n\nexport default PopularCategories;","import { useEffect, useRef, useState } from \"react\";\n\n\nconst useNavBarToggle = () => {\n  // menu is initially collapsed\n  const [expanded, setExpanded] = useState(false);\n  const ref = useRef(null);\n\n  // created following Moments lessons\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n        console.log(\"ref\", ref)\n        console.log(\"target\", e.target)\n      if (ref.current && !ref.current.contains(e.target)) {\n        setExpanded(false);\n      }\n    };\n    document.addEventListener(\"mouseup\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mouseup\", handleClickOutside);\n    };\n  }, [ref]);\n  return { expanded, setExpanded, ref };\n};\n\n\nexport default useNavBarToggle;","import React from \"react\";\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport logo from \"../assets/birdie.png\";\nimport styles from \"../styles/NavBar.module.css\";\nimport { NavLink } from \"react-router-dom\";\nimport { useCurrentUser, useSetCurrentUser } from \"../contexts/CurrentUserContext\";\nimport Avatar from \"./Avatar\";\nimport axios from \"axios\";\nimport { removeTokenTimestamp } from \"../utils/utils\";\nimport useScreenWidth from \"../hooks/useScreenWidth\"\nimport PopularCategories from \"./PopularCategories\";\nimport useNavBarToggle from \"../hooks/useNavBarToggle\";\n\nconst NavBar = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  const { expanded, setExpanded, ref } = useNavBarToggle();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  const handleLogOut = async () => {\n    /* handles logging user out\n    nullifies CurrentUser\n    tbd if a better process can be implemented before going live */\n    try {\n      await axios.post(\"/dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n\n  const newPost = (\n    <NavLink\n      to=\"/posts/create\"\n      className={styles.NavLink}\n      activeClassName={styles.Active}\n    >\n      <i className=\"fa-solid fa-plus mr-2\"></i>\n      Post\n    </NavLink>\n  );\n\n  const homePage = (\n    <NavLink\n    exact\n    to=\"/\"\n    className={styles.NavLink}\n    activeClassName={styles.Active}\n  >\n    Feed\n  </NavLink>\n  )\n\n  const avatarDisplay = (\n      <NavLink\n      to={`/profiles/${currentUser?.profile_id}`}\n      className={styles.NavLink}\n    >\n      <Avatar src={currentUser?.profile_avatar} text={currentUser?.username} height={38} />\n    </NavLink> \n  )\n\n\n  const loggedInOptions = (\n    // using empty element as JSX can only return a single element\n    <>\n    <NavLink\n      to=\"/feed\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      activeClassName={styles.Active}\n    >\n      <i className=\"fa-solid fa-user-group mr-2\"></i>\n      Subscribed\n    </NavLink>\n    <NavLink\n      to=\"/liked\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      activeClassName={styles.Active}\n    >\n      <i className=\"fas fa-heart mr-2\"></i>\n      Liked\n    </NavLink>\n    <NavLink\n      to=\"/saved\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset} ${smallScreen ? \"mb-2\" : \"\"}`}\n      activeClassName={styles.Active}\n    >\n      <i className=\"fa-brands fa-earlybirds mr-2\"></i>\n      Saved\n    </NavLink>\n      {smallScreen && (\n        // display popular categories when on smaller screens\n          <PopularCategories className=\"text-right\" />\n      )}\n    <NavLink\n      to=\"/\"\n      className={`${styles.NavLink} ${styles.NavLinkOffset}`}\n      onClick={handleLogOut}\n    >\n      Log out\n    </NavLink>\n  </>\n  )\n\n  const loggedOutOptions = (\n    // using empty element as JSX can only return a single element\n    <>\n      {\" \"}\n      <NavLink\n        to=\"/login\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Log in\n      </NavLink>\n      <NavLink\n        to=\"/register\"\n        className={styles.NavLink}\n        activeClassName={styles.Active}\n      >\n        Register\n      </NavLink>\n      {smallScreen && (\n        // display popular categories when on smaller screens\n          <PopularCategories className=\"text-right\" />\n      )}\n    </>\n  );\n\n  return (\n    <Navbar\n      className={styles.NavBar}\n      expand=\"md\"\n      fixed=\"top\"\n      bg=\"dark\"\n      variant=\"dark\"\n      expanded={expanded}\n    >\n      <Container>\n        <NavLink to=\"/\">\n          <Navbar.Brand>\n            <img src={logo} alt=\"logo\" height=\"47px\" />\n          </Navbar.Brand>\n          <Navbar.Brand className={`${styles.Brand} mr-auto text-right`}>\n            Birdie\n          </Navbar.Brand>\n        </NavLink>\n        <Nav className=\"mr-auto text-right\">\n          {currentUser ? newPost : homePage}\n          </Nav>\n          <Nav className=\"ml-auto text-left\">\n          {currentUser && smallScreen && avatarDisplay}\n          </Nav>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" onClick={() => setExpanded(!expanded)} ref={ref} />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n\n          <Nav className=\"ml-auto text-right\">\n            {currentUser ? (\n              <>\n              {loggedInOptions}\n              {!smallScreen && avatarDisplay}              \n              </>\n              ) : loggedOutOptions}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default NavBar;\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/bird.2843c24d.jpg\";","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\n\n\nexport const useRedirect = (userAuthStatus) => {\n  const history = useHistory();\n\n// copied from Moments with minor changes\n  useEffect(() => {\n    // making a network request on mount to check if user is logged in.\n    const handleMount = async () => {\n      try {\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\n        // if user is logged in, the code below will run\n        if (userAuthStatus === \"loggedIn\") {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        // if user is not logged in, the code below will run\n        if (userAuthStatus === \"loggedOut\") {\n          history.push(\"/login/\");\n        }\n      }\n    };\n\n\n    handleMount();\n  }, [history, userAuthStatus]);\n};\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bird from \"../../assets/bird.jpg\";\n\nimport { Form, Button, Image, Col, Row, Container, Alert } from \"react-bootstrap\";\n\nimport axios from \"axios\";\n\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// code adapted from Moments lessons\nconst RegisterForm = () => {\n  useRedirect('loggedIn')\n  const [signUpData, setSignUpData] = useState({\n    username: \"\",\n    password1: \"\",\n    password2: \"\",\n  });\n  \n  const { username, password1, password2 } = signUpData;\n\n  const [errors, setErrors] = useState({})\n\n  // from router\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    setSignUpData({\n      ...signUpData,\n      // this creates a key:value pair\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      await axios.post(\"/dj-rest-auth/registration/\", signUpData);\n      history.push(\"/login\");\n    } catch (err) {\n      // if response isn't defined, it won't throw an error\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className={`${styles.AuthCol} my-auto p-md-2`} md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={styles.Header}>Sign up</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                value={username}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password1\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password1\"\n                value={password1}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password1?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password2\">\n              <Form.Label className=\"d-none\">Confirm Password</Form.Label>\n              <Form.Control\n                className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password2\"\n                value={password2}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password2?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Button\n              className={`${bttnStyles.Button} ${bttnStyles.Wide}`}\n              type=\"submit\"\n            >\n              Register\n            </Button>\n            {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/login\">\n            Already have an account? <span>Login</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${styles.AuthCol}`}\n      >\n        <Image className={`${styles.Image} ${appStyles.Content}`} src={bird} />\n      </Col>\n    </Row>\n  );\n};\n\nexport default RegisterForm;\n","import React, { useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport styles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bird from \"../../assets/bird.jpg\";\nimport axios from \"axios\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// code adapted from Moments lessons\nfunction LoginForm() {\n  const setCurrentUser = useSetCurrentUser();\n  useRedirect('loggedIn')\n\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const { username, password } = signInData;\n\n  const [errors, setErrors] = useState({})\n\n  // from router\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    setSignInData({\n      ...signInData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // prevents refresh\n    e.preventDefault();\n    try {\n      const { data } = await axios.post(\"dj-rest-auth/login/\", signInData);\n      console.log(\"data\", data)\n      setCurrentUser(data.user);\n      console.log(\"data.user\", data.user)\n      // extracting exp date from the access token, saves it to user's browser in local storage.\n      setTokenTimestamp(data);\n      // history.push(\"/\")\n      history.goBack();\n    } catch(err) {\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={styles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={styles.Header}>Sign in</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"username\">\n              <Form.Label className=\"d-none\">Username</Form.Label>\n              <Form.Control\n              className={styles.Input}\n              type=\"text\"\n              placeholder=\"Enter Username\"\n              name=\"username\"\n              value={username}\n              onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                    {message}\n                </Alert>\n            ))}\n            <Form.Group controlId=\"password\">\n              <Form.Label className=\"d-none\">Password</Form.Label>\n              <Form.Control\n              className={styles.Input}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </Form.Group>\n            {errors?.password?.map((message, idx) => (\n                <Alert key={idx} variant=\"warning\">\n                    {message}\n                </Alert>\n            ))}\n            <Button\n              type=\"submit\"\n              className={`${bttnStyles.Button} ${bttnStyles.Wide}`}\n            >\n              Login\n            </Button>\n            {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n            ))}\n          </Form>\n        </Container>\n        <Container className={`mt-3 ${appStyles.Content}`}>\n          <Link className={styles.Link} to=\"/register\">\n            Don't have an account? <span>Register now!</span>\n          </Link>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${styles.AuthCol}`}\n      >\n        <Image\n          className={`${styles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n}\n\n\nexport default LoginForm;\n","import React from \"react\";\nimport bird from \"../assets/bird.jpg\";\nimport { Image, Row, Container, Col } from \"react-bootstrap\";\nimport styles from \"../styles/PageNotFound.module.css\";\nimport authStyles from \"../styles/AuthForm.module.css\";\nimport appStyles from \".././App.module.css\";\n\nconst PageNotFound = () => {\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto offset-md-2\" md={8}>\n        <Container className={appStyles.Content}>\n          <h1 className={`${appStyles.Main} ${authStyles.Header}`}>\n            This page seems to have flown away\n          </h1>\n          <Image\n            className={`${authStyles.Image} ${styles.NotFound}`}\n            src={bird}\n          />\n          <h2 className={styles.Subheader}>Do you ever feel like a plastic bag</h2>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default PageNotFound;\n","import React, { useRef, useState, useEffect } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\n\nimport Asset from \"../../components/Asset\";\nimport { Image } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport axios from \"axios\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\"\n\nimport { useRedirect } from \"../../hooks/useRedirect\";\n\n// based off of Moments lessons\nfunction PostCreateForm() {\n  useRedirect(\"loggedOut\");\n  const [errors, setErrors] = useState({});\n\n  const [categories, setCategories] = useState(\"\");\n\n  const [postData, setPostData] = useState({\n    content: \"\",\n    image: \"\",\n    category: \"\",\n  });\n\n  //   destructuring content & image\n  const { content, image, category } = postData;\n\n  const imageInput = useRef(null);\n  const history = useHistory();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    /* fetching and setting categories\n    used in the form dropdown */\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n        console.log(data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  const handleChangePost = (e) => {\n    // post change handler\n    setPostData({\n      ...postData,\n      content: e.target.value,\n    });\n  };\n\n  // copied from Moments lessons\n  const handleChangeImage = (e) => {\n    // image change handler\n    // checking if there is a file\n    console.log(e.target.files.length);\n    if (e.target.files.length) {\n      // revokeObjectURL is used to clear browser's reference to the previous file\n      // used in cases when user decides to use a different image after upload\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(e.target.files[0]),\n      });\n    }\n  };\n\n  const handleChangeCategory = (e) => {\n    // category change handler\n    setPostData({\n      ...postData,\n      category: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // submit function\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"content\", content);\n    // check if there is a file to be appended\n    if (imageInput.current.files.length !== 0) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"category\", category);\n\n    console.log(\"formdata\", formData);\n\n    // copied from Moments lessons\n    // because we're sending image as well as text to our API,\n    // we need to refresh our user's access token before making the request\n    try {\n      const { data } = await axiosRequest.post(\"/posts/\", formData);\n      console.log(data);\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const categoryField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label htmlFor=\"category\">Category</Form.Label>\n        <Form.Control\n          as=\"select\"\n          aria-label=\"tbd\"\n          id=\"category\"\n          defaultValue=\"Category\"\n          onChange={handleChangeCategory}\n        >\n          <option disabled>Category</option>\n          {categories.results?.map((category) => (\n            <option key={category.id} value={category.id}>\n              {category.name}: {category.description}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      {errors.category?.map((idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          You need to choose a category.\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const textField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={4}\n          name=\"content\"\n          placeholder=\"Type your post\"\n          value={content}\n          onChange={handleChangePost}\n        />\n      </Form.Group>\n      {errors.content?.map((idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          Post has to contain at least some text.\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const imageField = (\n    <div>\n    <Form.Group>\n    {image ? (\n      <>\n        <figure>\n          <Image className={authStyles.Image} src={image} rounded />\n        </figure>\n        <div className=\"mr-auto text-right\">\n          <Form.Label\n            className={`${bttnStyles.Button} btn`}\n            htmlFor=\"image-upload\"\n          >\n            Change the image\n          </Form.Label>\n        </div>\n      </>\n    ) : (\n      <Form.Label\n        className={`${bttnStyles.Button} text-center ${smallScreen ? styles.ButtonRight : bttnStyles.Wide}`}\n        htmlFor=\"image-upload\"\n      >\n        <Asset \n          buttonMessage=\"Click or tap to upload an image\"\n        />\n      </Form.Label>\n    )}\n    <Form.File\n      id=\"image-upload\"\n      accept=\"image/*\"\n      onChange={handleChangeImage}\n      ref={imageInput}\n      hidden\n    />\n  </Form.Group>\n  {errors.image?.map((message, idx) => (\n    <Alert variant=\"warning\" key={idx}>\n      {message}\n    </Alert>\n  ))}\n  </div>\n  )\n\n  const buttonField = (\n    <div className=\"text-right\">\n    <Button\n    className={`${bttnStyles.Button} m-2`}\n    onClick={() => history.goBack()}\n  >\n    Cancel\n  </Button>\n  <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n    Post\n  </Button>\n  </div>\n  )\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n      {smallScreen ? (\n        <>\n        <Col className=\"p-0 p-md-2\">\n        <Container className={appStyles.Content}>\n          <div>{textField}</div>\n          <div>{categoryField}</div>\n          <div className=\"p-2\">{imageField}</div>\n          <div>{buttonField}</div>\n        </Container>\n      </Col>\n      </>\n      ) : (\n        <>\n        <Col md={8} className=\"p-0 p-md-2\">\n        <Container className={appStyles.Content}>\n          <div>{textField}</div>\n          <div>{categoryField}</div>\n          <div>{buttonField}</div>\n        </Container>\n      </Col>\n      <Col className=\"py-2 p-0 p-md-2\" md={4}>\n        <Container\n          className={`${appStyles.Content} ${styles.Container}`}\n        >\n          <div className=\"p-2\">{imageField}</div>\n        </Container>\n      </Col>\n      </>\n      )}\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostCreateForm;\n","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport styles from \"../styles/Dropdowns.module.css\";\nimport { useHistory } from \"react-router\";\n\n// copied from Moments!\n\n// The forwardRef is important!!\n// Dropdown needs access to the DOM node in order to position the Menu\n// React-bootstrap uses the forwardRef method to pass the ref into our function as a second argument.\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n  <i\n    className=\"fas fa-ellipsis-v\"\n    ref={ref}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  />\n));\n\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\n  return (\n    // drop left positions dropdown to the left of the button\n    <Dropdown className=\"ml-auto\" drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n\n      <Dropdown.Menu\n      className={`text-center ${styles.DropdownBackground}`}\n        popperConfig={{ strategy: \"fixed\" }}\n      >\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleEdit}\n          aria-label=\"edit\"\n        >\n          <i className={`fas fa-edit ${styles.DropdownIcon}`} />\n        </Dropdown.Item>\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleDelete}\n          aria-label=\"delete\"\n        >\n          <i className={`fas fa-trash-alt ${styles.DropdownIcon}`} />\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\nexport function ProfileEditDropdown({ id }) {\n  const history = useHistory();\n  return (\n    <Dropdown className={`px-3 m-4 ${styles.Absolute}`} drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n      <Dropdown.Menu className={`text-center ${styles.DropdownBackground}`}>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit`)}\n          aria-label=\"edit-profile\"\n        >\n          <i className={`fas fa-edit ${styles.DropdownIcon}`} /> edit profile\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/username`)}\n          aria-label=\"edit-username\"\n        >\n          <i className={`far fa-id-card ${styles.DropdownIcon}`} />\n          Change username\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/password`)}\n          aria-label=\"edit-password\"\n        >\n          <i className={`fas fa-key ${styles.DropdownIcon}`}/>\n          Change password\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n}\n","import React from \"react\";\nimport styles from \"../../styles/Post.module.css\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport {\n  Container,\n  Row,\n  Card,\n  Col,\n  Media,\n  OverlayTrigger,\n  Tooltip,\n} from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Avatar from \"../../components/Avatar\";\nimport { MoreDropdown } from \"../../components/Dropdowns\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\n// temporarily copied from Moments, modified\nconst Post = (props) => {\n  const {\n    id,\n    owner,\n    content,\n    modified,\n    image,\n    profile_id,\n    profile_avatar,\n    like_id,\n    comments_count,\n    likes_count,\n    category_name,\n    saved_id,\n    saved_count,\n    // adding prop from PostPage.js\n    postPage,\n    // adding prop from ProfilePage.js\n    profilePage,\n    // passed from parent components to update the likes/saves.\n    setPosts,\n    setCurrentPosts,\n  } = props;\n\n  const currentUser = useCurrentUser();\n  // assigning boolean value to is_owner.\n  const is_owner = currentUser?.username === owner;\n  const history = useHistory();\n\n  // copied from Moments\n  const handleEdit = () => {\n    history.push(`/posts/${id}/edit`);\n  };\n\n  // copied from Moments\n  // tbd if asking for confirmation would benefit or annoy the user\n  const handleDelete = async () => {\n    try {\n      await axiosResponse.delete(`/posts/${id}/`);\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons with changes\n  const handleSave = async () => {\n    /* Function saves a post, increases the number of saves on the post */\n    try {\n      // save id is needed so the API knows which post is being saved\n      const { data } = await axiosResponse.post(\"/saved/\", { post: id });\n      if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we saved.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? {\n                  ...post,\n                  saved_count: post.saved_count + 1,\n                  saved_id: data.id,\n                }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we saved.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? {\n                  ...post,\n                  saved_count: post.saved_count + 1,\n                  saved_id: data.id,\n                }\n              : post;\n          }),\n        }));\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons with changes\n  const handleUnsave = async () => {\n    /* Function unsaves a post, decreases the number of saves on the post */\n    try {\n      await axiosResponse.delete(`/saved/${saved_id}/`);\n      if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, saved_count: post.saved_count - 1, saved_id: null }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, saved_count: post.saved_count - 1, saved_id: null }\n              : post;\n          }),\n        }));\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons\n  const handleLike = async () => {\n    /* Function likes a post, increases the number of likes on the post */\n    try {\n      // like id is needed so the API knows which post is being liked\n      const { data } = await axiosResponse.post(\"/likes/\", { post: id });\n      if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we liked.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            // using ternary to check if the post id matches the post we liked.\n            // if it does, we'll add to the count, otherwise we return post so map can continue checking.\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count + 1, like_id: data.id }\n              : post;\n          }),\n        }));\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // built based off of Moments lessons\n  const handleUnlike = async () => {\n    /* Function unlikes a post, decreases the number of likes on the post */\n    try {\n      await axiosResponse.delete(`/likes/${like_id}/`);\n      if (profilePage) {\n        setCurrentPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count - 1, like_id: null }\n              : post;\n          }),\n        }));\n      } else {\n        setPosts((prevPosts) => ({\n          ...prevPosts,\n          results: prevPosts.results.map((post) => {\n            return post.id === id\n              ? { ...post, likes_count: post.likes_count - 1, like_id: null }\n              : post;\n          }),\n        }));\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <Card className={profilePage ? styles.ProfilePost : styles.Post}>\n      <Card.Body>\n        <Media\n          className={`${styles.PostHeader} d-flex justify-content-between`}\n        >\n          {/* link wrapped around header */}\n          <Col>\n            <Link to={`/profiles/${profile_id}/`}>\n              <Avatar src={profile_avatar} height={45} />\n              {owner}\n              {!postPage && !profilePage && (\n                <i\n                  className={`fa-solid fa-arrow-up-right-from-square ml-2 ${styles.OwnerLinkIcon}`}\n                ></i>\n              )}\n            </Link>\n          </Col>\n          {/* displaying when the post was last updated */}\n          <Col className=\"mt-2 text-right d-flex justify-content-end p-0 pt-1\">\n            <span>{modified}</span>\n            {/* ... are placeholder for dropdown menu, we are now testing if logic works */}\n            <span className=\"ml-3\">\n              {is_owner && postPage && (\n                <MoreDropdown\n                  handleEdit={handleEdit}\n                  handleDelete={handleDelete}\n                />\n              )}\n            </span>\n          </Col>\n        </Media>\n        <Link to={`/posts/${id}/`}>\n          {/* checking if category_name content and image props have been passed before we render them */}\n          {category_name && (\n            <span className={styles.Category}>{category_name}</span>\n          )}\n          {content && (\n            <span className={`text-left ${styles.PostText}`}>{content}</span>\n          )}\n          {/* reminder, image is not mandatory */}\n          {image && <Card.Img className={styles.PostImage} src={image} />}\n        </Link>\n      </Card.Body>\n      <Card.Body>\n        <div>\n          <Container>\n            <Row className=\"justify-content-around text-center\">\n              <Col className={styles.IconText}>\n                {/* like logic */}\n                {is_owner ? (\n                  // using OverlayTrigger and Tooltip to display a tooltip for the owner.\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>You can't like your own post!</Tooltip>}\n                  >\n                    <i className={`fas fa-heart mt-1 ${styles.PostNotLiked}`} />\n                  </OverlayTrigger>\n                ) : like_id ? (\n                  // if like_id exists, user already liked the post\n                  <span onClick={handleUnlike}>\n                    <i className={`fas fa-heart mt-1 ${styles.PostLiked}`} />\n                  </span>\n                ) : currentUser ? (\n                  // if user is logged in, they can like the post\n                  <span onClick={handleLike}>\n                    <i className={`fas fa-heart mt-1 ${styles.PostNotLiked}`} />\n                  </span>\n                ) : (\n                  // display tooltip for non-user\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>Log in to like a post!</Tooltip>}\n                  >\n                    <i className={`fas fa-heart mt-1 ${styles.PostNotLiked}`} />\n                  </OverlayTrigger>\n                )}\n                {/* number of likes */}\n                <span className={styles.IconText}>{likes_count}</span>\n              </Col>\n              <Col className={styles.IconText}>\n                {/* comments icon leads to the post page */}\n                <Link to={`/posts/${id}`} className={styles.IconText}>\n                  {/* post text hover needed to align visual representation? tbd */}\n                  <i className={`far fa-comments ${styles.CommentIcon}`} />\n                  {/* number of comments */}\n                  {comments_count}\n                </Link>\n              </Col>\n              <Col>\n                {currentUser && !is_owner && (\n                  <OverlayTrigger\n                    placement=\"top\"\n                    overlay={<Tooltip>Save a post for later!</Tooltip>}\n                  >\n                    <span\n                      onClick={saved_id == null ? handleSave : handleUnsave}\n                      className={styles.IconText}\n                    >\n                      <i\n                        className={\n                          saved_id !== null\n                            ? `fa-brands fa-earlybirds ${styles.PostSaved}`\n                            : `fa-solid fa-egg ${styles.PostNotSaved}`\n                        }\n                      />\n                      {saved_count}\n                    </span>\n                  </OverlayTrigger>\n                )}\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default Post;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\"\n\nimport styles from \"../../styles/CommentCreateEditForm.module.css\"\n\n// based off of Moments, with various changes\nfunction CommentCreateForm(props) {\n  const { post, setPost, setComments, profile_id } = props;\n  const [content, setContent] = useState(\"\");\n\n  const currentUser = useCurrentUser();\n\n    // screen width check\n    const smallScreen = useScreenWidth();\n\n  const handleChange = (e) => {\n    // update comment content\n    setContent(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const { data } = await axiosResponse.post(\"/comments/\", {\n        content,\n        post,\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: [data, ...prevComments.results],\n      }));\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            comments_count: prevPost.results[0].comments_count + 1,\n          },\n        ],\n      }));\n      setContent(\"\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group>\n        <InputGroup>\n          <Link to={`/profiles/${profile_id}`}>\n            <Avatar\n              src={currentUser?.profile_avatar}\n              text={currentUser?.username}\n              height={smallScreen ? 35 : 40}\n            />\n          </Link>\n          <Form.Control\n            as=\"textarea\"\n            className={`ml-2 ml-md-3 ${styles.CommentHeight}`}\n            placeholder=\"Type comment...\"\n            rows={smallScreen ? 4 : 2}\n            value={content}\n            onChange={handleChange}\n  \n          />\n        </InputGroup>\n      </Form.Group>\n      <button\n        className={`${bttnStyles.Button} d-block ml-auto`}\n        disabled={!content.trim()}\n        type=\"submit\"\n      >\n        Comment\n      </button>\n    </Form>\n  );\n}\n\nexport default CommentCreateForm;\n","import React, { useState } from \"react\";\n\n\nimport Form from \"react-bootstrap/Form\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\n\nimport bttnStyles from \"../../styles/Button.module.css\"\n\nimport styles from \"../../styles/CommentCreateEditForm.module.css\"\n\n// based off of Moments, with some changes\nfunction CommentEditForm(props) {\n  const { id, content, setShowEditForm, setComments } = props;\n\n\n  const [formContent, setFormContent] = useState(content);\n\n\n  const handleChange = (event) => {\n    setFormContent(event.target.value);\n  };\n\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosResponse.put(`/comments/${id}/`, {\n        content: formContent.trim(),\n      });\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: prevComments.results.map((comment) => {\n          return comment.id === id\n            ? {\n                ...comment,\n                content: formContent.trim(),\n                modified: \"now\",\n              }\n            : comment;\n        }),\n      }));\n      setShowEditForm(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group>\n        <Form.Control\n          as=\"textarea\"\n          value={formContent}\n          onChange={handleChange}\n          className={styles.CommentHeight}\n          rows={2}\n        />\n      </Form.Group>\n      <div className=\"text-right\">\n        <button\n          className={`${bttnStyles.Button} mr-1`}\n          onClick={() => setShowEditForm(false)}\n          type=\"button\"\n        >\n          Cancel\n        </button>\n        <button\n          className={bttnStyles.Button}\n          disabled={!content.trim()}\n          type=\"submit\"\n        >\n          Update\n        </button>\n      </div>\n    </Form>\n  );\n}\n\n\nexport default CommentEditForm;\n","import { Media } from \"react-bootstrap\";\nimport styles from \"../styles/Comment.module.css\";\n\nimport React, { useState } from \"react\";\nimport Avatar from \"../components/Avatar\";\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport useScreenWidth from \"../hooks/useScreenWidth\";\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\nimport { MoreDropdown } from \"./Dropdowns\";\nimport { axiosResponse } from \"../api/axiosDefaults\";\n\nimport CommentEditForm from \"../pages/comments/CommentEditForm\";\n\nconst Comment = (props) => {\n  const {\n    profile_id,\n    profile_avatar,\n    owner,\n    modified,\n    content,\n    id,\n    // passed down from PostPage\n    setPost,\n    setComments,\n  } = props;\n\n    // adding state to toggle EditForm\n    const [showEditForm, setShowEditForm] = useState(false);\n\n  // currentUser from  custom context\n  const currentUser = useCurrentUser();\n  // checking if current user's username matches owner's\n  const is_owner = currentUser?.username === owner;\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  // copied from Moments\n  const handleDelete = async () => {\n    try {\n      await axiosResponse.delete(`/comments/${id}/`);\n      setPost((prevPost) => ({\n        results: [\n          {\n            ...prevPost.results[0],\n            // reducing comment count by 1\n            comments_count: prevPost.results[0].comments_count - 1,\n          },\n        ],\n      }));\n      setComments((prevComments) => ({\n        ...prevComments,\n        // we want to filter for the id of comment we are removing\n        results: prevComments.results.filter((comment) => comment.id !== id),\n      }));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"mt-2\">\n      <Media>\n        <Link to={`/profiles/${profile_id}`}>\n          <Avatar src={profile_avatar} height={smallScreen ? 35 : 40} />\n        </Link>\n        <Media.Body className={styles.MediaBody}>\n          <span className={styles.Commenter}>{owner}</span>\n          <span className={styles.ModifiedDate}>{modified}</span>\n          {/* ternary deciding if the form should show */}\n          {showEditForm ? (\n            <CommentEditForm\n            id={id}\n            profile_id={profile_id}\n            content={content}\n            setComments={setComments}\n            setShowEditForm={setShowEditForm}\n          />\n          ) : (\n            <p className={styles.CommentDisplay}>{content}</p>\n          )}\n        </Media.Body>\n        {is_owner && !showEditForm && (\n          <MoreDropdown\n            handleEdit={() => setShowEditForm(true)}\n            handleDelete={handleDelete}\n          />\n        )}\n      </Media>\n    </div>\n  );\n};\n\nexport default Comment;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport appStyles from \".././App.module.css\";\nimport Asset from \".././components/Asset\";\nimport { Image } from \"react-bootstrap\";\nimport styles from \".././styles/Adds.module.css\";\n\nconst Add = () => {\n  const [advertisements, setAdvertisements] = useState(\"\");\n  const [selectedAdd, setSelectedAdd] = useState(\"\");\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    // fetching existing Advertisements\n    const fetchAdds = async () => {\n      try {\n        const { data } = await axios.get(\"/advertisements/\");\n        setAdvertisements(data);\n        setIsLoaded(true)\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchAdds();\n  }, []);\n\n  useEffect(() => {\n    if (isLoaded && advertisements?.results && advertisements?.results?.length > 0) {\n      const randomSelect = Math.floor(Math.random() * advertisements.results.length);\n      setSelectedAdd(advertisements.results[randomSelect]);\n    }\n  }, [advertisements, isLoaded]);\n\n    useEffect(() => {\n  }, [selectedAdd])\n\n  return (\n    <div className={appStyles.Content}>\n      {selectedAdd && isLoaded ? (\n          <div>\n            <Image\n              className={styles.AddImage}\n              src={selectedAdd?.image}\n              alt={selectedAdd?.alt}\n            ></Image>\n            <p className={`${styles.AddText} text-center mt-5`}>{selectedAdd?.description}</p>\n          </div>\n        ) : (\n          <Asset spinner />\n        )}\n    </div>\n  );\n};\n\nexport default Add;\n","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport appStyles from \"../../App.module.css\";\nimport postStyles from \"../../styles/Post.module.css\";\nimport styles from \"../../styles/PostPage.module.css\";\n\nimport Post from \"./Post\";\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Comment from \"../../components/Comment\";\nimport PopularCategories from \"../../components/PopularCategories\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\nimport Add from \"../../components/Add\";\nimport { useRedirect } from \"../../hooks/useRedirect\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Asset from \"../../components/Asset\";\nimport { fetchMoreData } from \"../../utils/utils\";\n\n// modelled after Moments lessons\nfunction PostPage() {\n  useRedirect(\"loggedOut\");\n  const { id } = useParams();\n  // setting an initial value as an empty array in useState to make all the future logic compatible with arrays of objects.\n  // this way it doesn't matter if we're getting a single object or array of posts.\n  const [post, setPost] = useState({ results: [] });\n\n  const currentUser = useCurrentUser();\n  const [comments, setComments] = useState({ results: [] });\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    // handleMount to fetch the post on mount.\n    const handleMount = async () => {\n      try {\n        // we'll eventually be making 2 requests - posts, comments.\n        // destructuring and renaming variable (to post) in place.\n        // it is called renaming with an object key.\n        // Promises.all accepts an array of promises and gets resolved when all promises get resolved, returning an array of data.\n        // If any of the promises fail, Promise.all gets rejected w/an error.\n        const [{ data: post }, { data: comments }] = await Promise.all([\n          // fetching the posts\n          axiosRequest.get(`/posts/${id}/`),\n          // fetching the comments\n          axiosRequest.get(`comments/?post=${id}`),\n        ]);\n        // using setPost func to update the results array in the state to contain a post\n        setPost({ results: [post] });\n        // setting Comments\n        setComments(comments);\n        // clg post to check that this is working\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    // calling handleMount and running the code every time the id in the url changes.\n    handleMount();\n  }, [id]);\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        <Post {...post.results[0]} setPosts={setPost} postPage />\n        <Container\n          className={`${appStyles.Content} ${postStyles.PostText} ${styles.CommentFormWidth}`}\n        >\n          {/* tbd if conditional needs changing */}\n          {currentUser && (\n            <CommentCreateForm\n              profile_id={currentUser.profile_id}\n              post={id}\n              setPost={setPost}\n              setComments={setComments}\n            />\n          )}\n          {comments.results.length ? (\n            // copied off of Moments\n            <InfiniteScroll\n              children={\n                // if there are comments, they're shown\n                comments.results.map((comment) => (\n                  // we're spreading comment object so its contents are passed as props\n                  <Comment\n                    key={comment.id}\n                    {...comment}\n                    setPost={setPost}\n                    setComments={setComments}\n                  />\n                ))\n              }\n              dataLength={comments.results.length}\n              loader={<Asset spinner />}\n              hasMore={!!comments.next}\n              next={() => fetchMoreData(comments, setComments)}\n            />\n          ) : // if there are no comments, we are checking if user is logged in\n          currentUser ? (\n            <span>No comments yet, be the first to comment.</span>\n          ) : (\n            // if the user is not logged in\n            <span>No comments...yet. Log in to comment.</span>\n          )}\n        </Container>\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default PostPage;\n","import React, { useEffect, useState } from \"react\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\nimport Post from \"./Post\";\nimport Asset from \"../../components/Asset\";\nimport { useLocation } from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport appStyles from \"../../App.module.css\";\n\nimport axios from \"axios\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport PopularCategories from \"../../components/PopularCategories\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport Add from \"../../components/Add\";\n\n// modelled after Moments lessons\nfunction PostsPage({ message, filter = \"\", selectedCategory = \"\" }) {\n  const [posts, setPosts] = useState({ results: [] });\n  // keeping track if all data has loaded\n  const [isLoaded, setIsLoaded] = useState(false);\n  // we'll have to re-fetch posts again when user clicks between home, feed and liked pages.\n  // to detect location, we'll use useLocation react router hook.\n  const { pathname } = useLocation();\n\n  // attemting to fix loading issues when not logged in\n  const currentUser = useCurrentUser();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        // the request string will contain filter parameter, which comes from the filter prop we set in routes.\n        // tells API if we want to see all posts or certain ones.\n        if (currentUser == null) {\n          const { data } = await axios.get(`/posts/?${filter}`);\n          setPosts(data);\n        } else {\n          const { data } = await axiosRequest.get(`/posts/?${filter}`);\n          setPosts(data);\n        }\n        // setting IsLoaded to true so spinner no longer spins.\n        setIsLoaded(true);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    // we want spinner displayed before we fetch posts.\n    setIsLoaded(false);\n    // we want this called any time filter or url changes.\n    \n    fetchPosts();\n  }, [filter, pathname, currentUser]);\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        {/* ternary to display spinner or posts */}\n        {isLoaded ? (\n          // nested ternary to display posts or message.\n          <>\n            {posts.results.length ? (\n              <InfiniteScroll\n                // child component will tell our Infinite Scroll component which child components we want it to render.\n                children={\n                  // map over posts and render each one\n                  posts.results.map((post) => (\n                    // setPosts is needed to like posts.\n                    <Post key={post.id} {...post} setPosts={setPosts} />\n                  ))\n                }\n                // how many posts are displayed\n                dataLength={posts.results.length}\n                // loader\n                loader={<Asset spinner />}\n                // check if there is more data to display\n                // we use double not operator, returns true for truthy and false for falsy values\n                // next is set to null if there are no more posts left\n                hasMore={!!posts.next}\n                // if hasMore is true, loads more\n                next={() => fetchMoreData(posts, setPosts)}\n              />\n            ) : (\n              // show no results asset\n              <Container className={appStyles.Content}>\n                {/* message we passed down */}\n                <Asset message={message} />\n              </Container>\n            )}\n          </>\n        ) : (\n          // spinner\n          <Container className={appStyles.Content}>\n            <Asset spinner />\n          </Container>\n        )}\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories selectedCategory={selectedCategory} />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default PostsPage;\n","import React, { useEffect, useRef, useState } from \"react\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Image from \"react-bootstrap/Image\";\n\nimport Asset from \"../../components/Asset\";\n\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRequest } from \"../../api/axiosDefaults\";\nimport axios from \"axios\";\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\n\nfunction PostEditForm() {\n  const [errors, setErrors] = useState({});\n\n  const [categories, setCategories] = useState(\"\");\n\n  const [postData, setPostData] = useState({\n    content: \"\",\n    image: \"\",\n    category: \"\",\n  });\n\n  const { content, image, category } = postData;\n  // const { content, image } = postData;\n\n  // We use this useRef hook to maintain a reference to the form file upload element. Note it has a ref prop where we give it this hook below.\n  const imageInput = useRef(null);\n\n  // We use this useHistory hook to redirect the user.\n  const history = useHistory();\n\n  const { id } = useParams();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const { data } = await axios.get(\"/categories/\");\n        setCategories(data);\n        console.log(data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchCategories();\n  }, []);\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      try {\n        const { data } = await axiosRequest.get(`/posts/${id}/`);\n        // const { content, image, is_owner } = data;\n        const { content, image, category, is_owner } = data;\n        console.log(data);\n        // if user is owner, prepopulate the post, else redirect\n        is_owner\n          ? setPostData({ content, image, category })\n          // ? setPostData({ content, image })\n          : history.push(\"/\");\n      } catch (err) {\n        // console.log(err);\n      }\n    };\n    fetchPost();\n    // dependency array takes history and id.\n  }, [history, id]);\n\n  const handleChangePost = (e) => {\n    // post change handler\n    setPostData({\n      ...postData,\n      content: e.target.value,\n    });\n  };\n\n  // copied from Moments lessons\n  const handleChangeImage = (e) => {\n    // image change handler\n    // checking if there is a file\n    console.log(e.target.files.length);\n    if (e.target.files.length) {\n      // revokeObjectURL is used to clear browser's reference to the previous file\n      // used in cases when user decides to use a different image after upload\n      URL.revokeObjectURL(image);\n      setPostData({\n        ...postData,\n        image: URL.createObjectURL(e.target.files[0]),\n      });\n    }\n  };\n\n  const handleChangeCategory = (e) => {\n    // category change handler\n    setPostData({\n      ...postData,\n      category: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    // submit function\n    e.preventDefault();\n    const formData = new FormData();\n\n    formData.append(\"content\", content);\n    // check if there is a file to be appended\n    if (imageInput.current.files.length !== 0) {\n      formData.append(\"image\", imageInput.current.files[0]);\n    }\n    formData.append(\"category\", category);\n\n    console.log(\"formdata\", formData);\n    // copied from Moments lessons\n    // because we're sending image as well as text to our API,\n    // we need to refresh our user's access token before making the request\n    try {\n      const { data } = await axiosRequest.put(`/posts/${id}/`, formData);\n      console.log(data);\n      history.push(`/posts/${data.id}`);\n    } catch (err) {\n      console.log(err);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  const categoryField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label htmlFor=\"category\">Category</Form.Label>\n        <Form.Control\n          as=\"select\"\n          aria-label=\"tbd\"\n          id=\"category\"\n          // defaultValue=\"Category\"\n          onChange={handleChangeCategory}\n        >\n          <option disabled>Category</option>\n          {categories.results?.map((category) => (\n            <option key={category.id} value={category.id}>\n              {category.name}: {category.description}\n            </option>\n          ))}\n        </Form.Control>\n      </Form.Group>\n      {errors.category?.map((idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          You need to choose a category.\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const textField = (\n    <div className=\"text-center\">\n      <Form.Group>\n        <Form.Label>Content</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          rows={4}\n          name=\"content\"\n          placeholder=\"Type your post\"\n          value={content}\n          onChange={handleChangePost}\n        />\n      </Form.Group>\n      {errors.content?.map((idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          Post has to contain at least some text.\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const imageField = (\n    <div>\n      <Form.Group>\n        {image ? (\n          <>\n            <figure>\n              <Image className={authStyles.Image} src={image} rounded />\n            </figure>\n            <div className=\"mr-auto text-right\">\n              <Form.Label\n                className={`${bttnStyles.Button} btn`}\n                htmlFor=\"image-upload\"\n              >\n                Change the image\n              </Form.Label>\n            </div>\n          </>\n        ) : (\n          <Form.Label\n            className={`${bttnStyles.Button} text-center ${\n              smallScreen ? styles.ButtonRight : bttnStyles.Wide\n            }`}\n            htmlFor=\"image-upload\"\n          >\n            <Asset buttonMessage=\"Click or tap to upload an image\" />\n          </Form.Label>\n        )}\n        <Form.File\n          id=\"image-upload\"\n          accept=\"image/*\"\n          onChange={handleChangeImage}\n          ref={imageInput}\n          hidden\n        />\n      </Form.Group>\n      {errors.image?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </div>\n  );\n\n  const buttonField = (\n    <div className=\"text-right\">\n      <Button\n        className={`${bttnStyles.Button} m-2`}\n        onClick={() => history.goBack()}\n      >\n        Cancel\n      </Button>\n      <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n        Update\n      </Button>\n    </div>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        {smallScreen ? (\n          <>\n            <Col className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div className=\"p-2\">{imageField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n          </>\n        ) : (\n          <>\n            <Col md={8} className=\"p-0 p-md-2\">\n              <Container className={appStyles.Content}>\n                <div>{textField}</div>\n                <div>{categoryField}</div>\n                <div>{buttonField}</div>\n              </Container>\n            </Col>\n            <Col className=\"py-2 p-0 p-md-2\" md={4}>\n              <Container className={`${appStyles.Content} ${styles.Container}`}>\n                <div className=\"p-2\">{imageField}</div>\n              </Container>\n            </Col>\n          </>\n        )}\n      </Row>\n    </Form>\n  );\n}\n\nexport default PostEditForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Container from \"react-bootstrap/Container\";\n\nimport Asset from \"../../components/Asset\";\n\nimport styles from \"../../styles/ProfilePage.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport bttnStyles from \"../../styles/Button.module.css\";\n\nimport PopularCategories from \"../../components/PopularCategories\";\nimport useScreenWidth from \"../../hooks/useScreenWidth\";\nimport { axiosRequest, axiosResponse } from \"../../api/axiosDefaults\";\nimport { NavLink, useParams } from \"react-router-dom\";\nimport { Button, Image } from \"react-bootstrap\";\n\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport Post from \"../posts/Post\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { fetchMoreData } from \"../../utils/utils\";\nimport { ProfileEditDropdown } from \"../../components/Dropdowns\";\nimport Add from \"../../components/Add\";\n\nimport axios from \"axios\";\n\n// built following Moments lessons, with major changes\nfunction ProfilePage() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  // extracting id from the url to know which profile to fetch\n  const { id } = useParams();\n\n  const [currentProfile, setCurrentProfile] = useState();\n  const [currentPosts, setCurrentPosts] = useState({ results: [] });\n  const currentUser = useCurrentUser();\n  const [currentUserProfile, setCurrentUserProfile] = useState();\n\n  // screen width check\n  const smallScreen = useScreenWidth();\n\n  const FetchProfileData = async () => {\n    /* Function fetches current profile\n    and current profile posts */\n    try {\n      const [profile, posts] = await Promise.all([\n        axios.get(`/profiles/${id}/`),\n        // updated url temporarily due to url appearing with two api/ when fetching\n        axios.get(`posts/?owner__profile=${id}`),\n      ]);\n      setCurrentProfile(profile.data);\n      setCurrentPosts(posts.data);\n      console.log(currentPosts);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const FetchCurrentUserProfile = async () => {\n    /* Function fetches current user profile */\n    try {\n      console.log(\"id\", currentUser.profile_id);\n      const profile = await axiosRequest.get(\n        `/profiles/${currentUser.profile_id}/`\n      );\n      console.log(profile.data);\n      setCurrentUserProfile(profile.data);\n      console.log(\"CURRENT USER PROFILE\", currentUserProfile);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    /* Generates a warning in the console,\n    however, moving function within useEffect does not solve the issue,\n    but makes it worse. */\n    FetchProfileData();\n    if (currentUser) {\n      FetchCurrentUserProfile();\n    }\n    setIsLoaded(true);\n  }, [id, currentUser?.profile_id]);\n\n  const handleFollow = async () => {\n    /* Function updates current profile and \n    current user profile data after following them */\n    try {\n      // destructuring data property from the response object\n      const { data } = await axiosResponse.post(\"/followers/\", {\n        // data sent is what profile user followed\n        followed: currentProfile.id,\n      });\n      setCurrentProfile((prevCurrentProfile) => ({\n        ...prevCurrentProfile,\n        followers_count: currentProfile.followers_count + 1,\n        following_id: data.id,\n      }));\n      setCurrentUserProfile((prevCurrentUserProfile) => ({\n        ...prevCurrentUserProfile,\n        following_count: currentUserProfile.followers_count + 1,\n      }));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleUnfollow = async () => {\n    /* Function updates current profile and \n    current user profile data after following them */\n    try {\n      await axiosResponse.delete(`/followers/${currentProfile.following_id}/`);\n      setCurrentProfile((prevCurrentProfile) => ({\n        ...prevCurrentProfile,\n        followers_count: currentProfile.followers_count - 1,\n        following_id: null,\n      }));\n      setCurrentUserProfile((prevCurrentUserProfile) => ({\n        ...prevCurrentUserProfile,\n        following_count: currentUserProfile.followers_count - 1,\n      }));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const mainProfile = (\n    <>\n      {currentProfile?.is_owner && (\n        <ProfileEditDropdown id={currentProfile?.id} />\n      )}\n      <Row noGutters className={`text-center ${appStyles.Content}`}>\n        <Col md={2} className=\"mt-1 offset-lg-0\">\n          <Image\n            className={styles.ProfileAvatar}\n            roundedCircle\n            src={currentProfile?.avatar}\n          />\n        </Col>\n        <Col md={5} className=\"mt-1 align-content-center\">\n          <h3 className={styles.ProfileUsername}>{currentProfile?.owner}</h3>\n        </Col>\n        <Col\n          md={3}\n          className=\"mt-1 offset-md-2 text-lg-right d-flex justify-content-end pr-3\"\n        >\n          {currentUser &&\n            !currentProfile?.is_owner &&\n            (currentProfile?.following_id ? (\n              <Button className={bttnStyles.Button} onClick={handleUnfollow}>\n                Unfollow\n              </Button>\n            ) : (\n              <Button className={bttnStyles.Button} onClick={handleFollow}>\n                Follow\n              </Button>\n            ))}\n        </Col>\n        <Col className={`${styles.ProfileText} align-content-center`}>\n          {/* user stats */}\n          <Row className=\"justify-content-center no-gutters mt-2\">\n            <Col xs={3} className=\"pr-4\">\n              <div>{currentProfile?.posts_count}</div>\n              <span>Posts</span>\n            </Col>\n            <Col xs={3} className=\"pr-2\">\n              <div>{currentProfile?.followers_count}</div>\n              <span>Followers</span>\n            </Col>\n            <Col xs={3} className=\"pl-2\">\n              <div>{currentProfile?.following_count}</div>\n              <span>Following</span>\n            </Col>\n            <Col xs={3} className=\"pl-4\">\n              <div>{currentProfile?.saved_count}</div>\n              <span>Status</span>\n            </Col>\n          </Row>\n        </Col>\n        <Col xs={12} className={`${styles.ProfileText} text-left mt-3`}>\n          {currentProfile?.name && (\n            <div>\n              <strong>Name: </strong>\n              {currentProfile?.name}\n            </div>\n          )}\n          {currentProfile?.bio && (\n            <div className=\"mt-2\">\n              <strong>Bio: </strong>\n              {currentProfile?.bio}\n            </div>\n          )}\n        </Col>\n      </Row>\n    </>\n  );\n\n  const mainProfilePosts = (\n    <>\n      {currentPosts.results.length ? (\n        <InfiniteScroll\n          children={currentPosts.results.map((post) => (\n            <Post\n              key={post.id}\n              {...post}\n              className={appStyles.Content}\n              setCurrentPosts={setCurrentPosts}\n              profilePage\n            />\n          ))}\n          dataLength={currentPosts.results.length}\n          loader={<Asset spinner />}\n          hasMore={!!currentPosts.next}\n          next={() => fetchMoreData(currentPosts, setCurrentPosts)}\n        />\n      ) : (\n        <div className={appStyles.Content}>\n          <Asset message={`${currentProfile?.owner} hasn't posted yet.`} />\n          {currentProfile?.is_owner && (\n            // conditional rendering call to action for owner\n            <NavLink\n              to=\"/posts/create\"\n              className={`${bttnStyles.Button} ${bttnStyles.Wide} d-block text-center`}\n            >\n              Post something\n            </NavLink>\n          )}\n        </div>\n      )}\n    </>\n  );\n\n  return (\n    <Row className=\"mt-2\">\n      <Col className=\"py-2 p-md-1\" md={8}>\n        <Container>\n          {isLoaded ? (\n            <>\n              {mainProfile}\n              {smallScreen && <Add />}\n              {mainProfilePosts}\n            </>\n          ) : (\n            <Asset spinner />\n          )}\n        </Container>\n      </Col>\n      {!smallScreen && (\n        // display popular categories when on desktop\n        <Col md={4} className=\"p-md-2\">\n          <PopularCategories />\n          <Add />\n        </Col>\n      )}\n    </Row>\n  );\n}\n\nexport default ProfilePage;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\n\nimport bird from \"../../assets/bird.jpg\";\n\n// based off of Moments with some adjustments\nconst EditUsernameForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  const { id } = useParams();\n\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() === id) {\n      setUsername(currentUser.username);\n    } else {\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axiosResponse.put(\"/dj-rest-auth/user/\", {\n        username,\n      });\n      setCurrentUser((prevUser) => ({\n        ...prevUser,\n        username,\n      }));\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={authStyles.Header}>Change Username</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group>\n              <Form.Label>Change username</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <div className=\"text-right\">\n              <Button\n                className={`${bttnStyles.Button} mr-1`}\n                onClick={() => history.goBack()}\n              >\n                Cancel\n              </Button>\n              <Button className={bttnStyles.Button} type=\"submit\">\n                Save\n              </Button>\n              {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n              ))}\n            </div>\n          </Form>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${authStyles.AuthCol}`}\n      >\n        <Image\n          className={`${authStyles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default EditUsernameForm;\n","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport Image from \"react-bootstrap/Image\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { axiosResponse } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\n\nimport bird from \"../../assets/bird.jpg\";\n\n// copied from Moments with minor adjustments\nconst UserEditPasswordForm = () => {\n  const history = useHistory();\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n\n  const [userData, setUserData] = useState({\n    new_password1: \"\",\n    new_password2: \"\",\n  });\n  const { new_password1, new_password2 } = userData;\n\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (e) => {\n    setUserData({\n      ...userData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() !== id) {\n      // redirect user if they are not the owner of this profile\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axiosResponse.post(\"/dj-rest-auth/password/change/\", userData);\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  return (\n    <Row className={authStyles.Row}>\n      <Col className=\"my-auto p-md-2\" md={5}>\n        <Container className={`${appStyles.Content} p-4`}>\n          <h1 className={authStyles.Header}>Change Password</h1>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group controlId=\"new_password1\">\n              <Form.Label className=\"d-none\">New password</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"New password\"\n                type=\"password\"\n                value={new_password1}\n                onChange={handleChange}\n                name=\"new_password1\"\n              />\n            </Form.Group>\n            {errors?.new_password1?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <Form.Group controlId=\"new_password2\">\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\n              <Form.Control\n                className={authStyles.Input}\n                placeholder=\"Confirm new password\"\n                type=\"password\"\n                value={new_password2}\n                onChange={handleChange}\n                name=\"new_password2\"\n              />\n            </Form.Group>\n            {errors?.new_password2?.map((message, idx) => (\n              <Alert variant=\"warning\" key={idx}>\n                {message}\n              </Alert>\n            ))}\n            <div className=\"text-right\">\n              <Button\n                className={`${bttnStyles.Button} mr-1`}\n                onClick={() => history.goBack()}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" className={`${bttnStyles.Button}`}>\n                Save\n              </Button>\n              {errors?.non_field_errors?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx} className=\"mt-3\">\n                    {message}\n                </Alert>\n              ))}\n            </div>\n          </Form>\n        </Container>\n      </Col>\n      <Col\n        md={7}\n        className={`my-auto d-none d-md-block p-2 ${authStyles.AuthCol}`}\n      >\n        <Image\n          className={`${authStyles.Image} ${appStyles.Content}`}\n          src={bird}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default UserEditPasswordForm;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport { axiosRequest } from \"../../api/axiosDefaults\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\n\nimport bttnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport postFormStyles from \"../../styles/PostCreateEditForm.module.css\";\nimport authStyles from \"../../styles/AuthForm.module.css\"\n\nimport useScreenWidth from \"../../hooks/useScreenWidth\"\n\n// based off of Moments with many adjustments\nconst EditProfileForm = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const { id } = useParams();\n  const history = useHistory();\n  const imageFile = useRef();\n\n  const [profileData, setProfileData] = useState({\n    name: \"\",\n    bio: \"\",\n    avatar: \"\",\n  });\n  const { name, bio, avatar } = profileData;\n\n  const [errors, setErrors] = useState({});\n\n // screen width check\n const smallScreen = useScreenWidth();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      if (currentUser?.profile_id?.toString() === id) {\n        try {\n          const { data } = await axiosRequest.get(`/profiles/${id}/`);\n          const { name, bio, avatar } = data;\n          setProfileData({ name, bio, avatar });\n        } catch (err) {\n          console.log(err);\n          history.push(\"/\");\n        }\n      } else {\n        history.push(\"/\");\n      }\n    };\n    handleMount();\n  }, [currentUser, history, id]);\n\n  const handleChange = (e) => {\n    setProfileData({\n      ...profileData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"bio\", bio);\n\n    if (imageFile?.current?.files[0]) {\n      formData.append(\"avatar\", imageFile?.current?.files[0]);\n    }\n\n    try {\n      const { data } = await axiosRequest.put(`/profiles/${id}/`, formData);\n      setCurrentUser((currentUser) => ({\n        ...currentUser,\n        profile_avatar: data.avatar,\n      }));\n      history.goBack();\n    } catch (err) {\n      console.log(err);\n      setErrors(err.response?.data);\n    }\n  };\n\n  const avatarField = (\n    <Form.Group>\n    {avatar && (\n      <figure>\n        <Image className={authStyles.Image} src={avatar} fluid />\n      </figure>\n    )}\n    {errors?.avatar?.map((message, idx) => (\n      <Alert variant=\"warning\" key={idx}>\n        {message}\n      </Alert>\n    ))}\n    <div className=\"mr-auto text-right\">\n      <Form.Label\n        className={`${bttnStyles.Button} btn`}\n        htmlFor=\"image-upload\"\n      >\n        Change the image\n      </Form.Label>\n    </div>\n    <Form.File\n    hidden\n      id=\"image-upload\"\n      ref={imageFile}\n      accept=\"image/*\"\n      onChange={(e) => {\n        if (e.target.files.length) {\n          setProfileData({\n            ...profileData,\n            avatar: URL.createObjectURL(e.target.files[0]),\n          });\n        }\n      }}\n    />\n  </Form.Group>\n  )\n\n  const textFields = (\n    <>\n      <Form.Group>\n        <Form.Label>Your name</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={name}\n          placeholder=\"Your name\"\n          rows={1}\n          name=\"name\"\n          onChange={handleChange}\n        />\n      </Form.Group>\n      {errors?.name?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n      <Form.Group>\n        <Form.Label>Your bio</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={bio}\n          placeholder=\"Your bio\"\n          name=\"bio\"\n          rows={4}\n          onChange={handleChange}\n        />\n      </Form.Group>\n      {errors?.bio?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n    </>\n  );\n\n  const buttonField = (\n    <div className=\"text-right\">\n    <Button\n    className={`${bttnStyles.Button} m-2`}\n    onClick={() => history.goBack()}\n  >\n    Cancel\n  </Button>\n  <Button className={`${bttnStyles.Button} m-2`} type=\"submit\">\n    Post\n  </Button>\n  </div>\n  )\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n      {smallScreen ? (\n        <Col className=\"p-0 p-md-2\">\n          <Container className={appStyles.Content}>\n            <div>\n              {textFields}\n            </div>\n            <div>\n              {avatarField}\n            </div>\n            <div>{buttonField}</div>\n          </Container>\n        </Col>\n      ) : (\n        <>\n        <Col md={8} className=\"p-0 p-md-2\">\n        <Container className={appStyles.Content}>\n          <div>{textFields}</div>\n          <div>{buttonField}</div>\n        </Container>\n      </Col>\n        <Col className=\"py-2 p-0 p-md-2\" md={4}>\n          <Container className={`${appStyles.Content} ${postFormStyles.Container}`}><div className=\"p-2\">{avatarField}</div></Container>\n        </Col>\n        </>\n      )}\n      </Row>\n    </Form>\n  );\n};\n\nexport default EditProfileForm;\n","import styles from \"./App.module.css\";\nimport NavBar from \"./components/NavBar\";\nimport Container from \"react-bootstrap/Container\";\nimport { Route, Switch } from \"react-router-dom\";\nimport \"./api/axiosDefaults\";\nimport RegisterForm from \"./pages/auth/RegisterForm\";\nimport LoginForm from \"./pages/auth/LoginForm\";\nimport PageNotFound from \"./components/PageNotFound\";\nimport PostCreateForm from \"./pages/posts/PostCreateForm\";\nimport PostPage from \"./pages/posts/PostPage\";\nimport PostsPage from \"./pages/posts/PostsPage\";\nimport PostEditForm from \"./pages/posts/PostEditForm\";\nimport { useCurrentUser } from \"./contexts/CurrentUserContext\";\nimport { useSelectedCategory } from \"./contexts/SelectedCategoryContext\";\nimport ProfilePage from \"./pages/profiles/ProfilePage\";\nimport EditUsernameForm from \"./pages/profiles/EditUsernameForm\";\nimport EditPasswordForm from \"./pages/profiles/EditPasswordForm\";\nimport EditProfileForm from \"./pages/profiles/EditProfileForm\";\n\nfunction App() {\n  const currentUser = useCurrentUser();\n  const selectedCategory = useSelectedCategory();\n\n  // need profile_id to filter the posts by.\n  // defaults to an empty string if current user details are still being fetched.\n  const profile_id = currentUser?.profile_id || \"\";\n\n  return (\n    <div className={styles.App}>\n      <NavBar />\n      <Container className={styles.Main}>\n        <Switch>\n          {/* home, feed and liked routes modelled after Moments code */}\n          <Route\n            className={styles.Content}\n            exact\n            path=\"/\"\n            render={() => (\n              // message for when path brings up no results.\n              <PostsPage message=\"No posts found.\" />\n            )}\n          />\n          <Route\n            exact\n            path=\"/feed\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No posts found. Follow a user to change that.\"\n                filter={`owner__followed__owner__profile=${profile_id}&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/liked\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No posts found. Like some posts to change that.\"\n                filter={`likes__owner__profile=${profile_id}&ordering=-likes__created&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/saved\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No posts found. Save some post for later and find them here later.\"\n                filter={`saved__owner__profile=${profile_id}&ordering=-saved__created&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/categories/:id/posts\"\n            render={() => (\n              // message for when search brings up no results.\n              <PostsPage\n                message=\"No posts in this category.\"\n                filter={`category_id=${selectedCategory}&ordering=-created&`}\n                selectedCategory={selectedCategory}\n              />\n            )}\n          />\n          <Route exact path=\"/login\" render={() => <LoginForm />} />\n          <Route exact path=\"/register\" render={() => <RegisterForm />} />\n          <Route exact path=\"/posts/create\" render={() => <PostCreateForm />} />\n          <Route exact path=\"/posts/:id/edit\" render={() => <PostEditForm />} />\n          <Route exact path=\"/posts/:id\" render={() => <PostPage />} />\n          <Route exact path=\"/profiles/:id\" render={() => <ProfilePage />} />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/username\"\n            render={() => <EditUsernameForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/password\"\n            render={() => <EditPasswordForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit\"\n            render={() => <EditProfileForm />}\n          />\n          <Route render={() => <PageNotFound />} />\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\nimport { SelectedCategoryProvider } from \"./contexts/SelectedCategoryContext\";\n\nReactDOM.render(\n  <Router>\n    <CurrentUserProvider>\n      <SelectedCategoryProvider>\n          <App />\n      </SelectedCategoryProvider>\n    </CurrentUserProvider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1amC6\",\"NavLink\":\"NavBar_NavLink__34ons\",\"Active\":\"NavBar_Active__3PBZb\",\"Brand\":\"NavBar_Brand__iWmt7\",\"NavLinkOffset\":\"NavBar_NavLinkOffset__1pQTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__3UScv\",\"ProfilePost\":\"Post_ProfilePost__1yVdX\",\"PostHeader\":\"Post_PostHeader__3M--4\",\"PostText\":\"Post_PostText__3e2Ye\",\"PostNotLiked\":\"Post_PostNotLiked__CtevJ\",\"CommentIcon\":\"Post_CommentIcon__2ee-h\",\"PostNotSaved\":\"Post_PostNotSaved__Nuenh\",\"IconText\":\"Post_IconText__YMwZV\",\"PostLiked\":\"Post_PostLiked__2q-fO\",\"PostSaved\":\"Post_PostSaved__3fzAk\",\"Category\":\"Post_Category__3sIbT\",\"PostImage\":\"Post_PostImage__1ZuuZ\",\"OwnerLinkIcon\":\"Post_OwnerLinkIcon__mURmr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"Dropdowns_DropdownItem__3dbO9\",\"DropdownBackground\":\"Dropdowns_DropdownBackground__1ejJx\",\"Absolute\":\"Dropdowns_Absolute__3M8sS\",\"DropdownIcon\":\"Dropdowns_DropdownIcon__2sva1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__2WHuV\",\"ButtonRight\":\"PostCreateEditForm_ButtonRight__31el0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Commenter\":\"Comment_Commenter__jS4-t\",\"ModifiedDate\":\"Comment_ModifiedDate__2xZBi\",\"CommentDisplay\":\"Comment_CommentDisplay__3-tKw\",\"MediaBody\":\"Comment_MediaBody__3_Oi6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileAvatar\":\"ProfilePage_ProfileAvatar__2KT7F\",\"ProfileUsername\":\"ProfilePage_ProfileUsername__zUlMb\",\"ProfileText\":\"ProfilePage_ProfileText__3KIBm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentHeight\":\"CommentCreateEditForm_CommentHeight__3splU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__1dBcX\",\"ProfileText\":\"Asset_ProfileText__2yoNB\",\"ButtonText\":\"Asset_ButtonText__3P132\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"PopularCategories_Header__209lK\",\"CategoryName\":\"PopularCategories_CategoryName__5QzJb\",\"CategoryContainer\":\"PopularCategories_CategoryContainer__1Bzfo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__196lW\",\"Username\":\"Avatar_Username__3u3zc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NotFound\":\"PageNotFound_NotFound__2kk2i\",\"Subheader\":\"PageNotFound_Subheader__y_PYS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddImage\":\"Adds_AddImage__3CCcO\",\"AddText\":\"Adds_AddText__208_5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"Content\":\"App_Content__ZaMNr\",\"Main\":\"App_Main__HQkvd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentFormWidth\":\"PostPage_CommentFormWidth__2vEMG\"};"],"sourceRoot":""}